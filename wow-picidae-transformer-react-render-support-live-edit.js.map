{"version":3,"sources":["webpack:///wow-picidae-transformer-react-render-support-live-edit.js","webpack:///./~/react-code-editor/index.js","webpack:///./~/react-code-editor/lib/Editor/Style.js","webpack:///./~/react-code-editor/lib/Editor/index.js","webpack:///./~/react-code-editor/lib/constants/css.js","webpack:///./~/react-code-editor/lib/index.js","webpack:///./~/react-code-editor/lib/utils/cn.js","webpack:///./~/react-code-editor/lib/utils/contentEditableUtils.js","webpack:///./~/react-code-editor/lib/utils/escape-html.js","webpack:///./~/react-code-editor/lib/utils/getIndent.js","webpack:///./~/react-code-editor/lib/utils/htmlToPlain.js","webpack:///./~/react-code-editor/lib/utils/normalizeCode.js","webpack:///./~/react-code-editor/lib/utils/normalizeHtml.js","webpack:///./~/react-code-editor/lib/utils/prism.js","webpack:///./~/react-code-editor/lib/vendor/selection-range/index.js","webpack:///./~/react-code-editor/~/unescape/index.js","webpack:///./source/_articles/wow-picidae-transformer-react-render-support-live-edit.md"],"names":["webpackJsonp","762","module","exports","__webpack_require__","763","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_react","_react2","_css","_css2","prismStyling","createElement","type","dangerouslySetInnerHTML","__html","764","_class","_temp2","_extends2","_extends3","_objectWithoutProperties2","_objectWithoutProperties3","_regenerator","_regenerator2","_asyncToGenerator2","_asyncToGenerator3","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_cn","_cn2","_prism","_prism2","_normalizeCode","_normalizeCode2","_normalizeHtml","_normalizeHtml2","_htmlToPlain","_htmlToPlain2","_escapeHtml","_selectionRange6","_selectionRange7","_getIndent","_contentEditableUtils","_Style","_Style2","Editor","_Component","_ref","_temp","_this","_ret","_this2","this","_len","arguments","length","args","Array","_key","__proto__","call","apply","concat","id","Math","random","Date","getTime","undoStack","undoOffset","undoTimestamp","compositing","state","html","onRef","node","ref","getPlain","_innerHTML","innerHTML","_plain","plain","recordChange","selection","timestamp","now","record","push","shift","updateContent","_ref2","mark","_callee","highlighted","undefined","callback","wrap","_context","prev","next","code","language","props","workerUrl","sent","setState","onChange","stop","restoreStackState","offset","_this$undoStack","undo","redo","onKeyDown","evt","_this$props","tabSize","ignoreTabKey","keyCode","shiftTab","shiftKey","_selectionRange","cursorPos","start","cursorEndPos","end","deindent","getDeindentLevel","preventDefault","deleteTimes","_selectionRange2","_cursorPos","indentation","getIndent","document","execCommand","metaKey","ctrlKey","altKey","_selectionRange3","_cursorPos2","selectionEndPos","range","getLineRange","line","getLine","test","pos","RegExp","$1","$2","_selectionRange4","_cursorPos3","_selectionEndPos","_line","_range","replace","_selectionRange5","selectionText","substring","repeat","onKeyUp","onCompositionStart","onCompositionEnd","onClick","key","killWorker","componentDidMount","_ref3","_callee2","_context2","componentWillReceiveProps","_x2","_ref4","_callee3","_ref5","_context3","_props","contentEditable","className","mountStyle","style","rest","spellCheck","Component","defaultProps","765","766","_Editor","_Editor2","767","cn","filter","Boolean","join","768","setCaretPosition","elem","caretPos","createTextRange","move","select","selectionStart","focus","setSelectionRange","times","i","769","str","770","getBeforeLine","endSlice","slice","startSlice","lastNewline","lastIndexOf","endNewline","indexOf","prefix","suffix","indentRe","deindentSpacesRe","matches","match","771","_unescape","_unescape2","htmlToPlain","772","tabRe","normalizeCode","_","773","normalizeHtml","774","worker","workerPool","terminate","_promise","_promise2","_highlight","prism","Worker","abrupt","resolve","postMessage","onmessage","data","highlight","highlightAuto","_x","775","position","el","window","getSelection","rangeCount","indexes","getRangeAt","clone","cloneRange","selectNodeContents","setEnd","endContainer","endOffset","toString","setStart","startContainer","startOffset","atStart","commonAncestorContainer","startindex","setSelection","createRange","it","_domIterator2","Node","TEXT_NODE","revisit","textContent","olen","atLength","collapse","makeSelection","removeAllRanges","addRange","_domIterator","776","cache","unescape","re","keys","chars","String","&apos;","&#39;","&amp;","&gt;","&lt;","&quot;","1250","content","extra","_image-loader_","_progressive_","transformer-react-render","list","pkg","react","react-dom","react-code-editor"],"mappings":"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","file":"wow-picidae-transformer-react-render-support-live-edit.js","sourcesContent":["webpackJsonp([0,113],{\n\n/***/ 762:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/**\n\t * @file: index\n\t * @author: Cuttle Cong\n\t * @date: 2017/11/3\n\t * @description: Index\n\t */\n\t\n\tmodule.exports = __webpack_require__(766);\n\n/***/ }),\n\n/***/ 763:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(6);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _css = __webpack_require__(765);\n\t\n\tvar _css2 = _interopRequireDefault(_css);\n\t\n\tfunction _interopRequireDefault(obj) {\n\t  return obj && obj.__esModule ? obj : { default: obj };\n\t}\n\t\n\tvar prismStyling = _react2.default.createElement('style', { type: 'text/css', dangerouslySetInnerHTML: { __html: _css2.default } });\n\t\n\texports.default = function () {\n\t  return prismStyling;\n\t};\n\n/***/ }),\n\n/***/ 764:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(56);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _objectWithoutProperties2 = __webpack_require__(93);\n\t\n\tvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\t\n\tvar _regenerator = __webpack_require__(36);\n\t\n\tvar _regenerator2 = _interopRequireDefault(_regenerator);\n\t\n\tvar _asyncToGenerator2 = __webpack_require__(35);\n\t\n\tvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\t\n\tvar _getPrototypeOf = __webpack_require__(188);\n\t\n\tvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\t\n\tvar _classCallCheck2 = __webpack_require__(43);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _createClass2 = __webpack_require__(55);\n\t\n\tvar _createClass3 = _interopRequireDefault(_createClass2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(45);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(44);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _class, _temp2;\n\t\n\tvar _react = __webpack_require__(6);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cn = __webpack_require__(767);\n\t\n\tvar _cn2 = _interopRequireDefault(_cn);\n\t\n\tvar _prism = __webpack_require__(774);\n\t\n\tvar _prism2 = _interopRequireDefault(_prism);\n\t\n\tvar _normalizeCode = __webpack_require__(772);\n\t\n\tvar _normalizeCode2 = _interopRequireDefault(_normalizeCode);\n\t\n\tvar _normalizeHtml = __webpack_require__(773);\n\t\n\tvar _normalizeHtml2 = _interopRequireDefault(_normalizeHtml);\n\t\n\tvar _htmlToPlain = __webpack_require__(771);\n\t\n\tvar _htmlToPlain2 = _interopRequireDefault(_htmlToPlain);\n\t\n\tvar _escapeHtml = __webpack_require__(769);\n\t\n\tvar _escapeHtml2 = _interopRequireDefault(_escapeHtml);\n\t\n\tvar _selectionRange6 = __webpack_require__(775);\n\t\n\tvar _selectionRange7 = _interopRequireDefault(_selectionRange6);\n\t\n\tvar _getIndent = __webpack_require__(770);\n\t\n\tvar _contentEditableUtils = __webpack_require__(768);\n\t\n\tvar _Style = __webpack_require__(763);\n\t\n\tvar _Style2 = _interopRequireDefault(_Style);\n\t\n\tfunction _interopRequireDefault(obj) {\n\t    return obj && obj.__esModule ? obj : { default: obj };\n\t}\n\t\n\tvar Editor = (_temp2 = _class = function (_Component) {\n\t    (0, _inherits3.default)(Editor, _Component);\n\t\n\t    function Editor() {\n\t        var _ref,\n\t            _this2 = this;\n\t\n\t        var _temp, _this, _ret;\n\t\n\t        (0, _classCallCheck3.default)(this, Editor);\n\t\n\t        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t        }\n\t\n\t        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Editor.__proto__ || (0, _getPrototypeOf2.default)(Editor)).call.apply(_ref, [this].concat(args))), _this), _this.id = Math.random() + '-' + new Date().getTime(), _this.undoStack = [], _this.undoOffset = 0, _this.undoTimestamp = 0, _this.compositing = false, _this.state = {\n\t            html: ''\n\t        }, _this.onRef = function (node) {\n\t            _this.ref = node;\n\t        }, _this.getPlain = function () {\n\t            if (_this._innerHTML === _this.ref.innerHTML) {\n\t                return _this._plain;\n\t            }\n\t\n\t            var plain = (0, _htmlToPlain2.default)((0, _normalizeHtml2.default)(_this.ref.innerHTML));\n\t\n\t            _this._plain = plain;\n\t            _this._innerHTML = _this.ref.innerHTML;\n\t\n\t            return _this._plain;\n\t        }, _this.recordChange = function (plain, selection) {\n\t            if (plain === _this.undoStack[_this.undoStack.length - 1]) {\n\t                return;\n\t            }\n\t\n\t            // if (this.undoOffset > 0) {\n\t            //     this.undoStack = this.undoStack.slice(0, -this.undoOffset)\n\t            //     this.undoOffset = 0\n\t            // }\n\t\n\t            var timestamp = Date.now();\n\t            var record = { plain: plain, selection: selection\n\t\n\t                // Overwrite last record if threshold is not crossed\n\t            };if (timestamp - _this.undoTimestamp < 3000) {\n\t                _this.undoStack[_this.undoStack.length - 1] = record;\n\t            } else {\n\t                _this.undoStack.push(record);\n\t\n\t                if (_this.undoStack.length > 50) {\n\t                    _this.undoStack.shift();\n\t                }\n\t            }\n\t\n\t            _this.undoTimestamp = timestamp;\n\t        }, _this.updateContent = function () {\n\t            var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {\n\t                var plain = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.getPlain();\n\t                var callback = arguments[1];\n\t                var highlighted;\n\t                return _regenerator2.default.wrap(function _callee$(_context) {\n\t                    while (1) {\n\t                        switch (_context.prev = _context.next) {\n\t                            case 0:\n\t                                _context.next = 2;\n\t                                return (0, _prism2.default)({ id: _this.id, code: plain, language: _this.props.language, workerUrl: _this.props.workerUrl });\n\t\n\t                            case 2:\n\t                                highlighted = _context.sent;\n\t\n\t                                _this.setState({ html: highlighted }, callback);\n\t\n\t                                if (_this.props.onChange) {\n\t                                    _this.props.onChange(plain);\n\t                                }\n\t\n\t                            case 5:\n\t                            case 'end':\n\t                                return _context.stop();\n\t                        }\n\t                    }\n\t                }, _callee, _this2);\n\t            }));\n\t\n\t            return function () {\n\t                return _ref2.apply(this, arguments);\n\t            };\n\t        }(), _this.restoreStackState = function (offset) {\n\t            var _this$undoStack = _this.undoStack[_this.undoStack.length - 1 - offset],\n\t                plain = _this$undoStack.plain,\n\t                selection = _this$undoStack.selection;\n\t\n\t            _this.selection = selection;\n\t            _this.undoOffset = offset;\n\t            _this.updateContent(plain);\n\t        }, _this.undo = function () {\n\t            var offset = _this.undoOffset + 1;\n\t            if (offset >= _this.undoStack.length) {\n\t                return;\n\t            }\n\t\n\t            _this.restoreStackState(offset);\n\t        }, _this.redo = function () {\n\t            var offset = _this.undoOffset - 1;\n\t            if (offset < 0) {\n\t                return;\n\t            }\n\t\n\t            _this.restoreStackState(offset);\n\t        }, _this.onKeyDown = function (evt) {\n\t            var _this$props = _this.props,\n\t                onKeyDown = _this$props.onKeyDown,\n\t                tabSize = _this$props.tabSize;\n\t\n\t            if (onKeyDown) {\n\t                onKeyDown(evt);\n\t            }\n\t\n\t            if (_this.props.ignoreTabKey && evt.keyCode === 9) {\n\t                return;\n\t            }\n\t\n\t            var shiftTab = false;\n\t            if (evt.keyCode === 9 && !evt.shiftKey) {\n\t                // Tab Key\n\t                document.execCommand('insertText', false, ' '.repeat(tabSize));\n\t                evt.preventDefault();\n\t            } else if (evt.keyCode === 8 || (shiftTab = evt.keyCode === 9 && evt.shiftKey)) {\n\t                // Backspace Key / Shift Tab\n\t                var _selectionRange = (0, _selectionRange7.default)(_this.ref),\n\t                    cursorPos = _selectionRange.start,\n\t                    cursorEndPos = _selectionRange.end;\n\t\n\t                if (cursorPos !== cursorEndPos) {\n\t                    return; // Bail on selections\n\t                }\n\t\n\t                var deindent = (0, _getIndent.getDeindentLevel)(_this.getPlain(), cursorPos, tabSize);\n\t                if (deindent <= 0) {\n\t                    shiftTab && evt.preventDefault();\n\t                    return; // Bail when deindent level defaults to 0\n\t                }\n\t\n\t                // Delete chars `deindent` times\n\t                (0, _contentEditableUtils.deleteTimes)(deindent);\n\t\n\t                evt.preventDefault();\n\t            } else if (evt.keyCode === 13) {\n\t                // Enter Key\n\t                var _selectionRange2 = (0, _selectionRange7.default)(_this.ref),\n\t                    _cursorPos = _selectionRange2.start;\n\t\n\t                var indentation = (0, _getIndent.getIndent)(_this.getPlain(), _cursorPos);\n\t                document.execCommand('insertHTML', false, '\\n' + indentation);\n\t                evt.preventDefault();\n\t                // this.undoTimestamp = 0\n\t            } else if (\n\t            // Undo / Redo\n\t            evt.keyCode === 90 && evt.metaKey !== evt.ctrlKey && !evt.altKey) {\n\t                if (evt.shiftKey) {\n\t                    _this.redo();\n\t                } else {\n\t                    _this.undo();\n\t                }\n\t\n\t                evt.preventDefault();\n\t            } else if (\n\t            // Cmd/Ctrl + `/`\n\t            evt.ctrlKey !== evt.metaKey && evt.keyCode === 191) {\n\t                evt.preventDefault();\n\t\n\t                var _selectionRange3 = (0, _selectionRange7.default)(_this.ref),\n\t                    _cursorPos2 = _selectionRange3.start,\n\t                    selectionEndPos = _selectionRange3.end;\n\t\n\t                var plain = _this.getPlain();\n\t                var range = (0, _getIndent.getLineRange)(plain, _cursorPos2);\n\t                var line = (0, _getIndent.getLine)(plain, _cursorPos2);\n\t                // Remove `//` begin of line\n\t                if (/^(\\s*)(\\/\\/\\s?)/.test(line)) {\n\t                    var pos = range[0] + RegExp.$1.length + RegExp.$2.length;\n\t                    (0, _selectionRange7.default)(_this.ref, { start: pos, end: pos });\n\t                    (0, _contentEditableUtils.deleteTimes)(RegExp.$2.length);\n\t                    (0, _selectionRange7.default)(_this.ref, { start: _cursorPos2 - RegExp.$2.length, end: selectionEndPos - RegExp.$2.length });\n\t\n\t                    return;\n\t                }\n\t\n\t                // Append `// ` begin of line\n\t                (0, _selectionRange7.default)(_this.ref, { start: range[0], end: range[0] });\n\t                document.execCommand('insertText', false, '// ');\n\t                if (range[1] !== plain.length) {\n\t                    (0, _selectionRange7.default)(_this.ref, { start: _cursorPos2 - range[0] + range[1], end: selectionEndPos - range[0] + range[1] });\n\t                } else {\n\t                    // EOF\n\t                    (0, _selectionRange7.default)(_this.ref, { start: _cursorPos2 + 3, end: selectionEndPos + 3 });\n\t                }\n\t            } else if (\n\t            // Cmd/Ctrl + `D`\n\t            evt.ctrlKey !== evt.metaKey && evt.keyCode === 68) {\n\t                evt.preventDefault();\n\t\n\t                var _selectionRange4 = (0, _selectionRange7.default)(_this.ref),\n\t                    _cursorPos3 = _selectionRange4.start,\n\t                    _selectionEndPos = _selectionRange4.end;\n\t\n\t                var _plain = _this.getPlain();\n\t                var _line = (0, _getIndent.getLine)(_plain, _cursorPos3);\n\t                var _range = (0, _getIndent.getLineRange)(_plain, _cursorPos3);\n\t                if (_cursorPos3 === _selectionEndPos) {\n\t                    (0, _selectionRange7.default)(_this.ref, { start: _range[1], end: _range[1] });\n\t                    if (_range[1] !== _plain.length) {\n\t                        document.execCommand('insertText', false, _line.replace(/\\n$/, '\\r\\n'));\n\t                    } else {\n\t                        document.execCommand('insertText', false, '\\n' + _line.replace(/\\n$/, '\\r\\n'));\n\t                    }\n\t\n\t                    var _selectionRange5 = (0, _selectionRange7.default)(_this.ref),\n\t                        start = _selectionRange5.start,\n\t                        end = _selectionRange5.end;\n\t\n\t                    (0, _selectionRange7.default)(_this.ref, {\n\t                        start: _range[1] + (_cursorPos3 - _range[0]),\n\t                        end: _range[1] + (_selectionEndPos - _range[0])\n\t                    });\n\t                } else {\n\t                    (0, _selectionRange7.default)(_this.ref, {\n\t                        start: _selectionEndPos,\n\t                        end: _selectionEndPos\n\t                    });\n\t                    var selectionText = _line.substring(_cursorPos3 - _range[0], _selectionEndPos - _range[0]);\n\t                    document.execCommand('insertText', false, selectionText);\n\t                    (0, _selectionRange7.default)(_this.ref, {\n\t                        start: _selectionEndPos,\n\t                        end: _selectionEndPos + selectionText.length\n\t                    });\n\t                }\n\t            }\n\t        }, _this.onKeyUp = function (evt) {\n\t            if (_this.props.onKeyUp) {\n\t                _this.props.onKeyUp(evt);\n\t            }\n\t            // if (\n\t            //     (\n\t            //         evt.keyCode === 91 || // left cmd\n\t            //         evt.keyCode === 93 || // right cmd\n\t            //         evt.ctrlKey ||\n\t            //         evt.metaKey\n\t            //     ) && (evt.keyCode !== 191 || evt.keyCode !== 68)\n\t            // ) {\n\t            //     return;\n\t            // }\n\t\n\t            // Enter key\n\t            if (evt.keyCode === 13) {\n\t                _this.undoTimestamp = 0;\n\t            }\n\t\n\t            _this.selection = (0, _selectionRange7.default)(_this.ref);\n\t\n\t            if (evt.keyCode !== 37 && // left\n\t            evt.keyCode !== 38 && // up\n\t            evt.keyCode !== 39 && // right\n\t            evt.keyCode !== 40 // down\n\t            ) {\n\t                    var plain = _this.getPlain();\n\t\n\t                    _this.recordChange(plain, _this.selection);\n\t                    !_this.compositing && _this.updateContent(plain);\n\t                } else {\n\t                _this.undoTimestamp = 0;\n\t            }\n\t        }, _this.onCompositionStart = function (evt) {\n\t            if (_this.props.onCompositionStart) {\n\t                _this.props.onCompositionStart(evt);\n\t            }\n\t            _this.compositing = true;\n\t        }, _this.onCompositionEnd = function (evt) {\n\t            if (_this.props.onCompositionEnd) {\n\t                _this.props.onCompositionEnd(evt);\n\t            }\n\t            _this.compositing = false;\n\t        }, _this.onClick = function (evt) {\n\t            if (_this.props.onClick) {\n\t                _this.props.onClick(evt);\n\t            }\n\t            _this.undoTimestamp = 0; // Reset timestamp\n\t            _this.selection = (0, _selectionRange7.default)(_this.ref);\n\t        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n\t    }\n\t\n\t    (0, _createClass3.default)(Editor, [{\n\t        key: 'componentWillUnmount',\n\t        value: function componentWillUnmount() {\n\t            (0, _prism.killWorker)(this.id);\n\t        }\n\t    }, {\n\t        key: 'componentDidMount',\n\t        value: function () {\n\t            var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {\n\t                var html;\n\t                return _regenerator2.default.wrap(function _callee2$(_context2) {\n\t                    while (1) {\n\t                        switch (_context2.prev = _context2.next) {\n\t                            case 0:\n\t                                _context2.next = 2;\n\t                                return (0, _prism2.default)({ id: this.id, code: (0, _normalizeCode2.default)(this.props.code), language: this.props.language, workerUrl: this.props.workerUrl });\n\t\n\t                            case 2:\n\t                                html = _context2.sent;\n\t\n\t                                this.setState({ html: html });\n\t                                this.recordChange(this.getPlain());\n\t                                this.undoTimestamp = 0; // Reset timestamp\n\t\n\t                            case 6:\n\t                            case 'end':\n\t                                return _context2.stop();\n\t                        }\n\t                    }\n\t                }, _callee2, this);\n\t            }));\n\t\n\t            function componentDidMount() {\n\t                return _ref3.apply(this, arguments);\n\t            }\n\t\n\t            return componentDidMount;\n\t        }()\n\t    }, {\n\t        key: 'componentWillReceiveProps',\n\t        value: function () {\n\t            var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(_ref5) {\n\t                var code = _ref5.code,\n\t                    language = _ref5.language,\n\t                    workerUrl = _ref5.workerUrl;\n\t                var html;\n\t                return _regenerator2.default.wrap(function _callee3$(_context3) {\n\t                    while (1) {\n\t                        switch (_context3.prev = _context3.next) {\n\t                            case 0:\n\t                                if (!(code !== this.props.code || language !== this.props.language || workerUrl !== this.props.workerUrl)) {\n\t                                    _context3.next = 5;\n\t                                    break;\n\t                                }\n\t\n\t                                _context3.next = 3;\n\t                                return (0, _prism2.default)({ id: this.id, code: (0, _normalizeCode2.default)(code), language: language, workerUrl: workerUrl });\n\t\n\t                            case 3:\n\t                                html = _context3.sent;\n\t\n\t                                this.setState({ html: html });\n\t\n\t                            case 5:\n\t                            case 'end':\n\t                                return _context3.stop();\n\t                        }\n\t                    }\n\t                }, _callee3, this);\n\t            }));\n\t\n\t            function componentWillReceiveProps(_x2) {\n\t                return _ref4.apply(this, arguments);\n\t            }\n\t\n\t            return componentWillReceiveProps;\n\t        }()\n\t    }, {\n\t        key: 'componentDidUpdate',\n\t        value: function componentDidUpdate() {\n\t            var selection = this.selection;\n\t\n\t            if (selection) {\n\t                (0, _selectionRange7.default)(this.ref, selection);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            var _props = this.props,\n\t                contentEditable = _props.contentEditable,\n\t                className = _props.className,\n\t                mountStyle = _props.mountStyle,\n\t                tabSize = _props.tabSize,\n\t                style = _props.style,\n\t                workerUrl = _props.workerUrl,\n\t                code = _props.code,\n\t                ignoreTabKey = _props.ignoreTabKey,\n\t                language = _props.language,\n\t                rest = (0, _objectWithoutProperties3.default)(_props, ['contentEditable', 'className', 'mountStyle', 'tabSize', 'style', 'workerUrl', 'code', 'ignoreTabKey', 'language']);\n\t            var html = this.state.html;\n\t\n\t            return _react2.default.createElement('pre', null, mountStyle && _react2.default.createElement(_Style2.default, null), _react2.default.createElement('code', (0, _extends3.default)({\n\t                spellCheck: 'false'\n\t            }, rest, {\n\t                ref: this.onRef,\n\t                style: style,\n\t                onKeyDown: contentEditable ? this.onKeyDown : undefined,\n\t                onKeyUp: contentEditable ? this.onKeyUp : undefined,\n\t                onCompositionEnd: contentEditable ? this.onCompositionEnd : undefined,\n\t                onCompositionStart: contentEditable ? this.onCompositionStart : undefined,\n\t                onClick: contentEditable ? this.onClick : undefined,\n\t                contentEditable: contentEditable,\n\t                className: (0, _cn2.default)('code-editor', 'hljs', className),\n\t                dangerouslySetInnerHTML: { __html: html }\n\t            })));\n\t        }\n\t    }]);\n\t    return Editor;\n\t}(_react.Component), _class.defaultProps = {\n\t    contentEditable: true,\n\t    mountStyle: true,\n\t    language: '',\n\t    tabSize: 4,\n\t    code: '',\n\t    className: '',\n\t    style: {},\n\t    workerUrl: null,\n\t    ignoreTabKey: false\n\t}, _temp2);\n\texports.default = Editor;\n\n/***/ }),\n\n/***/ 765:\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = \"\\n.code-editor {\\n  display: block;\\n  white-space: pre;\\n\\n  background-color: #1D1F21;\\n  color: #C5C8C6;\\n\\n  padding: 0.5rem;\\n  margin: 0;\\n\\n  box-sizing: border-box;\\n  vertical-align: baseline;\\n  outline: none;\\n  text-shadow: none;\\n  -webkit-hyphens: none;\\n  -ms-hyphens: none;\\n  hyphens: none;\\n  word-wrap: normal;\\n  word-break: normal;\\n  text-align: left;\\n  word-spacing: normal;\\n  -moz-tab-size: 2;\\n  -o-tab-size: 2;\\n  tab-size: 2;\\n}\\n\";\n\n/***/ }),\n\n/***/ 766:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _Editor = __webpack_require__(764);\n\t\n\tvar _Editor2 = _interopRequireDefault(_Editor);\n\t\n\tfunction _interopRequireDefault(obj) {\n\t  return obj && obj.__esModule ? obj : { default: obj };\n\t}\n\t\n\texports.default = _Editor2.default; /**\n\t                                     * @file: index.js\n\t                                     * @author: Cuttle Cong\n\t                                     * @date: 2017/11/3\n\t                                     * @description: \n\t                                     */\n\n/***/ }),\n\n/***/ 767:\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar cn = function cn() {\n\t  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t    args[_key] = arguments[_key];\n\t  }\n\t\n\t  return args.filter(Boolean).join(' ');\n\t};\n\t\n\texports.default = cn;\n\n/***/ }),\n\n/***/ 768:\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.setCaretPosition = setCaretPosition;\n\texports.deleteTimes = deleteTimes;\n\t/**\n\t * @file: content-editable-utils\n\t * @author: Cuttle Cong\n\t * @date: 2017/11/5\n\t * @description: \n\t */\n\t\n\tfunction setCaretPosition(elem, caretPos) {\n\t    if (elem != null) {\n\t        if (elem.createTextRange) {\n\t            var range = elem.createTextRange();\n\t            range.move('character', caretPos);\n\t            range.select();\n\t        } else {\n\t            if (elem.selectionStart) {\n\t                elem.focus();\n\t                elem.setSelectionRange(caretPos, caretPos);\n\t            } else elem.focus();\n\t        }\n\t    }\n\t}\n\t\n\tfunction deleteTimes(times) {\n\t    for (var i = 0; i < times; i++) {\n\t        document.execCommand('delete', false);\n\t    }\n\t}\n\n/***/ }),\n\n/***/ 769:\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\n\t * @file: escape-html\n\t * @author: Cuttle Cong\n\t * @date: 2017/11/5\n\t * @description: \n\t */\n\t\n\tmodule.exports = function (str) {\n\t  return str.replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/&/g, '&amp;').replace(/\"/g, '&quot;');\n\t};\n\n/***/ }),\n\n/***/ 770:\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar getLine = exports.getLine = function getLine(plain, cursorPos) {\n\t    var endSlice = plain.slice(cursorPos);\n\t    var startSlice = plain.slice(0, cursorPos);\n\t    var lastNewline = startSlice.lastIndexOf('\\n') + 1;\n\t\n\t    var endNewline = endSlice.indexOf('\\n') + 1;\n\t    endNewline = endNewline === 0 ? plain.length : endNewline;\n\t\n\t    return startSlice.slice(lastNewline) + endSlice.slice(0, endNewline);\n\t};\n\t\n\tvar getLineRange = exports.getLineRange = function getLineRange(plain, cursorPos) {\n\t    var endSlice = plain.slice(cursorPos);\n\t    var startSlice = plain.slice(0, cursorPos);\n\t    var lastNewline = startSlice.lastIndexOf('\\n') + 1;\n\t\n\t    var endNewline = endSlice.indexOf('\\n') + 1;\n\t    endNewline = endNewline === 0 ? plain.length : endNewline;\n\t\n\t    var prefix = startSlice.slice(lastNewline);\n\t    var suffix = endSlice.slice(0, endNewline);\n\t\n\t    return [cursorPos - prefix.length, cursorPos + suffix.length];\n\t};\n\t\n\tvar getBeforeLine = exports.getBeforeLine = function getBeforeLine(plain, cursorPos) {\n\t    var startSlice = plain.slice(0, cursorPos);\n\t    var lastNewline = startSlice.lastIndexOf('\\n') + 1;\n\t    return startSlice.slice(lastNewline);\n\t};\n\t\n\tvar indentRe = /^\\s+/;\n\t\n\tvar getIndent = exports.getIndent = function getIndent(plain, cursorPos) {\n\t    var line = getBeforeLine(plain, cursorPos);\n\t    var matches = line.match(indentRe);\n\t    if (matches === null) {\n\t        return '';\n\t    }\n\t\n\t    return matches[0] || '';\n\t};\n\t\n\tvar deindentSpacesRe = /^(\\t|  )*  $/;\n\t\n\tvar getDeindentLevel = exports.getDeindentLevel = function getDeindentLevel(plain, cursorPos) {\n\t    var tabSize = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 2;\n\t\n\t    var line = getBeforeLine(plain, cursorPos);\n\t    if (!deindentSpacesRe.test(line)) {\n\t        return 0; // Doesn't match regex, so normal behaviour can apply\n\t    }\n\t\n\t    // The line contains only whitespace indentation\n\t    // thus two characters must be deleted\n\t    return tabSize;\n\t};\n\n/***/ }),\n\n/***/ 771:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _unescape = __webpack_require__(776);\n\t\n\tvar _unescape2 = _interopRequireDefault(_unescape);\n\t\n\tfunction _interopRequireDefault(obj) {\n\t  return obj && obj.__esModule ? obj : { default: obj };\n\t}\n\t\n\tvar htmlToPlain = function htmlToPlain(html) {\n\t  return (0, _unescape2.default)(html.replace(/<br>/gm, '\\n').replace(/<\\/?[^>]*>/gm, ''));\n\t};\n\t\n\texports.default = htmlToPlain;\n\n/***/ }),\n\n/***/ 772:\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar indentRe = /^((\\t|  )+)/mg;\n\tvar tabRe = /\\t/g;\n\t\n\tvar normalizeCode = function normalizeCode(code) {\n\t  return code.replace(indentRe, function (_, indentation) {\n\t    return indentation.replace(tabRe, '  ');\n\t  });\n\t};\n\t\n\texports.default = normalizeCode;\n\n/***/ }),\n\n/***/ 773:\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar normalizeHtml = function normalizeHtml(html) {\n\t  return html.replace('\\n', '<br>');\n\t};\n\t\n\texports.default = normalizeHtml;\n\n/***/ }),\n\n/***/ 774:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _regenerator = __webpack_require__(36);\n\t\n\tvar _regenerator2 = _interopRequireDefault(_regenerator);\n\t\n\tvar _promise = __webpack_require__(189);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _asyncToGenerator2 = __webpack_require__(35);\n\t\n\tvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\t\n\texports.killWorker = killWorker;\n\t\n\tvar _highlight = __webpack_require__(241);\n\t\n\tfunction _interopRequireDefault(obj) {\n\t    return obj && obj.__esModule ? obj : { default: obj };\n\t}\n\t\n\tvar workerPool = {};\n\t\n\tvar prism = function () {\n\t    var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(_ref2) {\n\t        var code = _ref2.code,\n\t            language = _ref2.language,\n\t            workerUrl = _ref2.workerUrl,\n\t            id = _ref2.id;\n\t        var worker;\n\t        return _regenerator2.default.wrap(function _callee$(_context) {\n\t            while (1) {\n\t                switch (_context.prev = _context.next) {\n\t                    case 0:\n\t                        worker = workerPool[id];\n\t\n\t                        if (typeof Worker === 'function' && !worker && typeof workerUrl === 'string') {\n\t                            worker = new Worker(workerUrl);\n\t                            workerPool[id] = worker;\n\t                        }\n\t                        if (typeof workerUrl !== 'string' && worker) {\n\t                            killWorker(id);\n\t                        }\n\t\n\t                        if (!worker) {\n\t                            _context.next = 5;\n\t                            break;\n\t                        }\n\t\n\t                        return _context.abrupt('return', new _promise2.default(function (resolve) {\n\t                            worker.postMessage({ type: 'highlight', id: id, arguments: [code, language] });\n\t                            worker.onmessage = function (_ref3) {\n\t                                var data = _ref3.data;\n\t                                return resolve(data);\n\t                            };\n\t                        }));\n\t\n\t                    case 5:\n\t                        return _context.abrupt('return', (language ? (0, _highlight.highlight)(language, code, true) : (0, _highlight.highlightAuto)(code)).value);\n\t\n\t                    case 6:\n\t                    case 'end':\n\t                        return _context.stop();\n\t                }\n\t            }\n\t        }, _callee, undefined);\n\t    }));\n\t\n\t    return function prism(_x) {\n\t        return _ref.apply(this, arguments);\n\t    };\n\t}();\n\t\n\tfunction killWorker(id) {\n\t    var worker = workerPool[id];\n\t    if (!worker) return;\n\t\n\t    worker.terminate();\n\t    delete workerPool[id];\n\t}\n\t\n\texports.default = prism;\n\n/***/ }),\n\n/***/ 775:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.makeSelection = makeSelection;\n\t\n\tvar _domIterator = __webpack_require__(236);\n\t\n\tvar _domIterator2 = _interopRequireDefault(_domIterator);\n\t\n\tfunction _interopRequireDefault(obj) {\n\t    return obj && obj.__esModule ? obj : { default: obj };\n\t}\n\t\n\tfunction position(el, pos) {\n\t    var selection = window.getSelection();\n\t\n\t    if (1 == arguments.length) {\n\t        if (!selection.rangeCount) return;\n\t        var indexes = {};\n\t        var range = selection.getRangeAt(0);\n\t        var clone = range.cloneRange();\n\t        clone.selectNodeContents(el);\n\t        clone.setEnd(range.endContainer, range.endOffset);\n\t        indexes.end = clone.toString().length;\n\t        clone.setStart(range.startContainer, range.startOffset);\n\t        indexes.start = indexes.end - clone.toString().length;\n\t        indexes.atStart = clone.startOffset === 0;\n\t        indexes.commonAncestorContainer = clone.commonAncestorContainer;\n\t        indexes.endContainer = clone.endContainer;\n\t        indexes.startContainer = clone.startContainer;\n\t        return indexes;\n\t    }\n\t\n\t    var setSelection = pos.end && pos.end !== pos.start;\n\t    var length = 0;\n\t    var range = document.createRange();\n\t    var it = (0, _domIterator2.default)(el).select(Node.TEXT_NODE).revisit(false);\n\t    var next;\n\t    var startindex;\n\t    var start = pos.start > el.textContent.length ? el.textContent.length : pos.start;\n\t    var end = pos.end > el.textContent.length ? el.textContent.length : pos.end;\n\t    var atStart = pos.atStart;\n\t\n\t    while (next = it.next()) {\n\t        var olen = length;\n\t        length += next.textContent.length;\n\t\n\t        // Set start point of selection\n\t        var atLength = atStart ? length > start : length >= start;\n\t        if (!startindex && atLength) {\n\t            startindex = true;\n\t            range.setStart(next, start - olen);\n\t            if (!setSelection) {\n\t                range.collapse(true);\n\t                makeSelection(el, range);\n\t                break;\n\t            }\n\t        }\n\t\n\t        // Set end point of selection\n\t        if (setSelection && length >= end) {\n\t            range.setEnd(next, end - olen);\n\t            makeSelection(el, range);\n\t            break;\n\t        }\n\t    }\n\t}\n\t\n\tfunction makeSelection(el, range) {\n\t    var selection = window.getSelection();\n\t    el.focus();\n\t    selection.removeAllRanges();\n\t    selection.addRange(range);\n\t}\n\t\n\texports.default = position;\n\n/***/ }),\n\n/***/ 776:\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar cache;\n\t\n\t/**\n\t * Convert HTML entities to HTML characters.\n\t *\n\t * @param  {String} `str` String with HTML entities to un-escape.\n\t * @return {String}\n\t */\n\t\n\tvar unescape = module.exports = function (str) {\n\t  if (str == null) return '';\n\t\n\t  var re = cache || (cache = new RegExp('(' + Object.keys(chars).join('|') + ')', 'g'));\n\t  return String(str).replace(re, function (match) {\n\t    return chars[match];\n\t  });\n\t};\n\t\n\tvar chars = unescape.chars = {\n\t  '&apos;': '\\'',\n\t  '&#39;': '\\'',\n\t  '&amp;': '&',\n\t  '&gt;': '>',\n\t  '&lt;': '<',\n\t  '&quot;': '\"'\n\t};\n\n/***/ }),\n\n/***/ 1250:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/*markdown-loader*/\n\tmodule.exports = {\n\t  \"content\": \"<style>.transformer-react-render{border:1px dashed #959da5;border-radius:5px;display:block}.transformer-react-render-container>pre{max-height:400px;transition:all .2s ease}.transformer-react-render-container>pre.focused{max-height:none;box-shadow:0 0 6px rgba(0,0,0,.2)}</style><h2 id=><a href=#%E9%A6%96%E5%85%88%E7%9C%8B%E4%B8%80%E4%B8%AA%E5%AE%9E%E4%BE%8B%EF%BC%81 aria-hidden=true><span class=\\\"icon icon-link\\\"></span></a></h2><p><a href=https://github.com/m-cuttlefish/react-code-editor><code>react-code-editor</code></a><br></p><pre><code class=\\\"hljs language-css\\\"data-query={} data-lang=css><span class=hljs-selector-class>.stage</span> {\\n  <span class=hljs-attribute>border</span>: <span class=hljs-number>1px</span> dashed <span class=hljs-number>#333</span>;\\n  <span class=hljs-attribute>padding</span>: <span class=hljs-number>10px</span>;  \\n}</code></pre><div class=\\\"transformer-react-render-container\\\"><pre><code class=\\\"hljs language-react\\\"data-query={} data-lang=react><span class=hljs-keyword>import</span> React from <span class=hljs-string>'react'</span>\\n<span class=hljs-keyword>import</span> CodeEditor from <span class=hljs-string>'react-code-editor'</span>\\n\\nconst code =\\n`const hello = <span class=hljs-string>'world'</span>\\n`\\n\\nexport <span class=hljs-keyword>default</span> (\\n    &lt;div className=<span class=hljs-string>\\\"stage\\\"</span>>\\n        &lt;h4 style={{margin: <span class=hljs-number>0</span>}}>CodeEditor&lt;/h4>\\n        &lt;CodeEditor\\n            // workerUrl=<span class=hljs-string>\\\"/hljs.worker.js\\\"</span>\\n            language=<span class=hljs-string>\\\"javascript\\\"</span>\\n            className=<span class=hljs-string>\\\"javascript\\\"</span>\\n            tabSize={<span class=hljs-number>2</span>}\\n            code={code}\\n            mountStyle={false}\\n            onChange={console.log}\\n        />\\n        &lt;CodeEditor\\n            // workerUrl=<span class=hljs-string>\\\"/hljs.worker.js\\\"</span>\\n            language=<span class=hljs-string>\\\"javascript\\\"</span>\\n            className=<span class=hljs-string>\\\"javascript\\\"</span>\\n            tabSize={<span class=hljs-number>2</span>}\\n            code={code}\\n            mountStyle={false}\\n            onChange={console.log}\\n        />\\n    &lt;/div>\\n)</code></pre><transformer-react-render data-id=\\\"0\\\"></transformer-react-render></div><h2 id=section--range><a href=#section--range aria-hidden=true><span class=\\\"icon icon-link\\\"></span></a>Section / Range</h2><pre><code class=\\\"hljs language-html\\\"data-query={} data-lang=__html><span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>\\\"stage\\\"</span>></span>\\n    <span class=hljs-tag>&lt;<span class=hljs-name>pre</span> <span class=hljs-attr>id</span>=<span class=hljs-string>\\\"dom-editable\\\"</span> <span class=hljs-attr>contenteditable</span>=<span class=hljs-string>\\\"true\\\"</span>></span>Input Here.\\nSecond Line.\\n<span class=hljs-tag>&lt;/<span class=hljs-name>pre</span>></span>\\n    <span class=hljs-tag>&lt;<span class=hljs-name>button</span> <span class=hljs-attr>id</span>=<span class=hljs-string>\\\"btn-1\\\"</span>></span>Select Second line<span class=hljs-tag>&lt;/<span class=hljs-name>button</span>></span>\\n<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span>\\n\\n<span class=hljs-tag>&lt;<span class=hljs-name>script</span> <span class=hljs-attr>type</span>=<span class=hljs-string>\\\"text/javascript\\\"</span>></span><span class=javascript>\\n    <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>selectionHelper</span>(<span class=hljs-params>el, pos</span>) </span>{\\n        <span class=hljs-keyword>var</span> indexes = {}\\n        <span class=hljs-comment>// getSelection</span>\\n        <span class=hljs-keyword>if</span> (<span class=hljs-keyword>typeof</span> pos === <span class=hljs-string>'undefined'</span>) {\\n            <span class=hljs-keyword>var</span> selection = <span class=hljs-built_in>window</span>.getSelection()\\n            <span class=hljs-keyword>var</span> range = selection.getRangeAt(<span class=hljs-number>0</span>);\\n            <span class=hljs-keyword>var</span> clone = range.cloneRange();\\n\\n            clone.selectNodeContents(el);\\n            clone.setEnd(range.endContainer, range.endOffset);\\n            indexes.end = clone.toString().length;\\n            clone.setStart(range.startContainer, range.startOffset);\\n            indexes.start = indexes.end - clone.toString().length;\\n            indexes.atStart = clone.startOffset === <span class=hljs-number>0</span>;\\n            indexes.commonAncestorContainer = clone.commonAncestorContainer;\\n            indexes.endContainer = clone.endContainer;\\n            indexes.startContainer = clone.startContainer;\\n\\n            <span class=hljs-keyword>return</span> indexes;\\n        }\\n\\n        <span class=hljs-keyword>var</span> setSelection = pos.end &amp&amp pos.end !== pos.start;\\n        <span class=hljs-keyword>var</span> length = <span class=hljs-number>0</span>;\\n        <span class=hljs-keyword>var</span> range = <span class=hljs-built_in>document</span>.createRange();\\n        <span class=hljs-keyword>var</span> next;\\n        <span class=hljs-keyword>var</span> startindex;\\n        <span class=hljs-keyword>var</span> start = pos.start > el.textContent.length ? el.textContent.length : pos.start;\\n        <span class=hljs-keyword>var</span> end = pos.end > el.textContent.length ? el.textContent.length : pos.end;\\n        <span class=hljs-keyword>var</span> atStart = pos.atStart;\\n\\n\\n        <span class=hljs-keyword>for</span> (<span class=hljs-keyword>var</span> i = <span class=hljs-number>0</span>; i &lt; el.childNodes.length; i++) {\\n            next = el.childNodes[i]\\n            <span class=hljs-keyword>if</span> (next.nodeType === Node.TEXT_NODE) {\\n                <span class=hljs-keyword>var</span> olen = length;\\n                length += next.textContent.length;\\n\\n                <span class=hljs-comment>// Set start point of selection</span>\\n                <span class=hljs-keyword>var</span> atLength = atStart ? length > start : length >= start;\\n                <span class=hljs-keyword>if</span> (!startindex &amp&amp atLength) {\\n                    startindex = <span class=hljs-literal>true</span>;\\n                    range.setStart(next, start - olen);\\n                    <span class=hljs-keyword>if</span> (!setSelection) {\\n                        range.collapse(<span class=hljs-literal>true</span>);\\n                        makeSelection(el, range);\\n                        <span class=hljs-keyword>break</span>;\\n                    }\\n                }\\n\\n                <span class=hljs-comment>// Set end point of selection</span>\\n                <span class=hljs-keyword>if</span> (setSelection &amp&amp length >= end) {\\n                    range.setEnd(next, end - olen);\\n                    makeSelection(el, range);\\n                    <span class=hljs-keyword>break</span>;\\n                }\\n            }\\n        }\\n\\n        <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>makeSelection</span>(<span class=hljs-params>el, range</span>) </span>{\\n            <span class=hljs-keyword>var</span> selection = <span class=hljs-built_in>window</span>.getSelection();\\n            el.focus();\\n            selection.removeAllRanges();\\n            selection.addRange(range);\\n        }\\n    }\\n\\n    <span class=hljs-keyword>var</span> dom = <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>'dom-editable'</span>);\\n    dom.addEventListener(<span class=hljs-string>'keyup'</span>, <span class=hljs-function><span class=hljs-keyword>function</span> (<span class=hljs-params>evt</span>) </span>{\\n        <span class=hljs-built_in>console</span>.log(selectionHelper(dom))\\n    });\\n\\n    dom.addEventListener(<span class=hljs-string>'keydown'</span>, <span class=hljs-function><span class=hljs-keyword>function</span> (<span class=hljs-params>evt</span>) </span>{\\n        <span class=hljs-keyword>if</span> (evt.keyCode === <span class=hljs-number>13</span>) {\\n            <span class=hljs-built_in>document</span>.execCommand(<span class=hljs-string>'insertHTML'</span>, <span class=hljs-literal>false</span>, <span class=hljs-string>'\\\\n'</span>);\\n            evt.preventDefault()\\n        }\\n    });\\n\\n    <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>'btn-1'</span>).addEventListener(<span class=hljs-string>'click'</span>, <span class=hljs-function><span class=hljs-keyword>function</span> (<span class=hljs-params>evt</span>) </span>{\\n        <span class=hljs-keyword>var</span> lines = dom.textContent.split(<span class=hljs-string>'\\\\n'</span>)\\n        <span class=hljs-keyword>if</span> (lines.length &lt; <span class=hljs-number>2</span>) <span class=hljs-keyword>return</span>\\n        <span class=hljs-keyword>var</span> start = <span class=hljs-number>0</span>, end = <span class=hljs-number>0</span>;\\n        start += lines[<span class=hljs-number>0</span>].length + <span class=hljs-number>1</span>\\n        end += start + lines[<span class=hljs-number>1</span>].length\\n        <span class=hljs-built_in>console</span>.log(start, end)\\n        selectionHelper(dom, {<span class=hljs-attr>start</span>: start, <span class=hljs-attr>end</span>: end})\\n    });\\n</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span></code></pre><transformer-html-loader><div class=stage><pre id=dom-editable contenteditable=true>Input Here.\\nSecond Line.\\n</pre><button id=btn-1>Select Second line</button></div><script type=text/javascript>function selectionHelper(e,t){var n={};if(void 0===t){var o=(l=window.getSelection().getRangeAt(0)).cloneRange();return o.selectNodeContents(e),o.setEnd(l.endContainer,l.endOffset),n.end=o.toString().length,o.setStart(l.startContainer,l.startOffset),n.start=n.end-o.toString().length,n.atStart=0===o.startOffset,n.commonAncestorContainer=o.commonAncestorContainer,n.endContainer=o.endContainer,n.startContainer=o.startContainer,n}for(var r,a,d=t.end&&t.end!==t.start,i=0,l=document.createRange(),s=t.start>e.textContent.length?e.textContent.length:t.start,c=t.end>e.textContent.length?e.textContent.length:t.end,g=t.atStart,m=0;m<e.childNodes.length;m++)if((r=e.childNodes[m]).nodeType===Node.TEXT_NODE){var f=i;if(i+=r.textContent.length,!a&&(g?s<i:s<=i)&&(a=!0,l.setStart(r,s-f),!d)){l.collapse(!0),C(e,l);break}if(d&&c<=i){l.setEnd(r,c-f),C(e,l);break}}function C(e,t){var n=window.getSelection();e.focus(),n.removeAllRanges(),n.addRange(t)}}var dom=document.getElementById(\\\"dom-editable\\\");dom.addEventListener(\\\"keyup\\\",function(e){console.log(selectionHelper(dom))}),dom.addEventListener(\\\"keydown\\\",function(e){13===e.keyCode&&(document.execCommand(\\\"insertHTML\\\",!1,\\\"\\\\n\\\"),e.preventDefault())}),document.getElementById(\\\"btn-1\\\").addEventListener(\\\"click\\\",function(e){var t=dom.textContent.split(\\\"\\\\n\\\");if(!(t.length<2)){var n=0,o=0;o+=(n+=t[0].length+1)+t[1].length,console.log(n,o),selectionHelper(dom,{start:n,end:o})}});</script></transformer-html-loader>\",\n\t  \"extra\": {\n\t    \"_image-loader_\": [],\n\t    \"_progressive_\": []\n\t  },\n\t  \"transformer-react-render\": {\n\t    \"list\": [\n\t      [\n\t        \"function anonymous(React,Component,ReactDOM,require\\n/*``*/) {\\n\\nvar exports = {}, module = {};\\nmodule.exports = exports;\\n(function picidaeTransformerReactRender(){Object.defineProperty(exports,\\\"__esModule\\\",{value:true});var _react=require(\\\"react\\\");var _react2=_interopRequireDefault(_react);var _reactCodeEditor=require(\\\"react-code-editor\\\");var _reactCodeEditor2=_interopRequireDefault(_reactCodeEditor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var code=\\\"const hello = 'world'\\\\n\\\";exports.default=_react2.default.createElement(\\\"div\\\",{className:\\\"stage\\\"},_react2.default.createElement(\\\"h4\\\",{style:{margin:0}},\\\"CodeEditor\\\"),_react2.default.createElement(_reactCodeEditor2.default// workerUrl=\\\"/hljs.worker.js\\\"\\n,{language:\\\"javascript\\\",className:\\\"javascript\\\",tabSize:2,code:code,mountStyle:false,onChange:console.log}),_react2.default.createElement(_reactCodeEditor2.default// workerUrl=\\\"/hljs.worker.js\\\"\\n,{language:\\\"javascript\\\",className:\\\"javascript\\\",tabSize:2,code:code,mountStyle:false,onChange:console.log}))})(exports, module)\\nreturn module.exports.default || module.exports;\\n}\",\n\t        {},\n\t        2\n\t      ]\n\t    ],\n\t    \"pkg\": {\n\t      \"react\": __webpack_require__(6),\n\t      \"react-dom\": __webpack_require__(103),\n\t      \"react-code-editor\": __webpack_require__(762)\n\t    }\n\t  }\n\t}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// wow-picidae-transformer-react-render-support-live-edit.js","/**\n * @file: index\n * @author: Cuttle Cong\n * @date: 2017/11/3\n * @description: Index\n */\n\nmodule.exports = require('./lib')\n\n\n// WEBPACK FOOTER //\n// ./~/react-code-editor/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _css = require('../constants/css');\n\nvar _css2 = _interopRequireDefault(_css);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar prismStyling = _react2.default.createElement('style', { type: 'text/css', dangerouslySetInnerHTML: { __html: _css2.default } });\n\nexports.default = function () {\n  return prismStyling;\n};\n\n\n// WEBPACK FOOTER //\n// ./~/react-code-editor/lib/Editor/Style.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _class, _temp2;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _cn = require('../utils/cn');\n\nvar _cn2 = _interopRequireDefault(_cn);\n\nvar _prism = require('../utils/prism');\n\nvar _prism2 = _interopRequireDefault(_prism);\n\nvar _normalizeCode = require('../utils/normalizeCode');\n\nvar _normalizeCode2 = _interopRequireDefault(_normalizeCode);\n\nvar _normalizeHtml = require('../utils/normalizeHtml');\n\nvar _normalizeHtml2 = _interopRequireDefault(_normalizeHtml);\n\nvar _htmlToPlain = require('../utils/htmlToPlain');\n\nvar _htmlToPlain2 = _interopRequireDefault(_htmlToPlain);\n\nvar _escapeHtml = require('../utils/escape-html');\n\nvar _escapeHtml2 = _interopRequireDefault(_escapeHtml);\n\nvar _selectionRange6 = require('../vendor/selection-range');\n\nvar _selectionRange7 = _interopRequireDefault(_selectionRange6);\n\nvar _getIndent = require('../utils/getIndent');\n\nvar _contentEditableUtils = require('../utils/contentEditableUtils');\n\nvar _Style = require('./Style');\n\nvar _Style2 = _interopRequireDefault(_Style);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Editor = (_temp2 = _class = function (_Component) {\n    (0, _inherits3.default)(Editor, _Component);\n\n    function Editor() {\n        var _ref,\n            _this2 = this;\n\n        var _temp, _this, _ret;\n\n        (0, _classCallCheck3.default)(this, Editor);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Editor.__proto__ || (0, _getPrototypeOf2.default)(Editor)).call.apply(_ref, [this].concat(args))), _this), _this.id = Math.random() + '-' + new Date().getTime(), _this.undoStack = [], _this.undoOffset = 0, _this.undoTimestamp = 0, _this.compositing = false, _this.state = {\n            html: ''\n        }, _this.onRef = function (node) {\n            _this.ref = node;\n        }, _this.getPlain = function () {\n            if (_this._innerHTML === _this.ref.innerHTML) {\n                return _this._plain;\n            }\n\n            var plain = (0, _htmlToPlain2.default)((0, _normalizeHtml2.default)(_this.ref.innerHTML));\n\n            _this._plain = plain;\n            _this._innerHTML = _this.ref.innerHTML;\n\n            return _this._plain;\n        }, _this.recordChange = function (plain, selection) {\n            if (plain === _this.undoStack[_this.undoStack.length - 1]) {\n                return;\n            }\n\n            // if (this.undoOffset > 0) {\n            //     this.undoStack = this.undoStack.slice(0, -this.undoOffset)\n            //     this.undoOffset = 0\n            // }\n\n            var timestamp = Date.now();\n            var record = { plain: plain, selection: selection\n\n                // Overwrite last record if threshold is not crossed\n            };if (timestamp - _this.undoTimestamp < 3000) {\n                _this.undoStack[_this.undoStack.length - 1] = record;\n            } else {\n                _this.undoStack.push(record);\n\n                if (_this.undoStack.length > 50) {\n                    _this.undoStack.shift();\n                }\n            }\n\n            _this.undoTimestamp = timestamp;\n        }, _this.updateContent = function () {\n            var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {\n                var plain = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.getPlain();\n                var callback = arguments[1];\n                var highlighted;\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _context.next = 2;\n                                return (0, _prism2.default)({ id: _this.id, code: plain, language: _this.props.language, workerUrl: _this.props.workerUrl });\n\n                            case 2:\n                                highlighted = _context.sent;\n\n                                _this.setState({ html: highlighted }, callback);\n\n                                if (_this.props.onChange) {\n                                    _this.props.onChange(plain);\n                                }\n\n                            case 5:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, _this2);\n            }));\n\n            return function () {\n                return _ref2.apply(this, arguments);\n            };\n        }(), _this.restoreStackState = function (offset) {\n            var _this$undoStack = _this.undoStack[_this.undoStack.length - 1 - offset],\n                plain = _this$undoStack.plain,\n                selection = _this$undoStack.selection;\n\n\n            _this.selection = selection;\n            _this.undoOffset = offset;\n            _this.updateContent(plain);\n        }, _this.undo = function () {\n            var offset = _this.undoOffset + 1;\n            if (offset >= _this.undoStack.length) {\n                return;\n            }\n\n            _this.restoreStackState(offset);\n        }, _this.redo = function () {\n            var offset = _this.undoOffset - 1;\n            if (offset < 0) {\n                return;\n            }\n\n            _this.restoreStackState(offset);\n        }, _this.onKeyDown = function (evt) {\n            var _this$props = _this.props,\n                onKeyDown = _this$props.onKeyDown,\n                tabSize = _this$props.tabSize;\n\n\n            if (onKeyDown) {\n                onKeyDown(evt);\n            }\n\n            if (_this.props.ignoreTabKey && evt.keyCode === 9) {\n                return;\n            }\n\n            var shiftTab = false;\n            if (evt.keyCode === 9 && !evt.shiftKey) {\n                // Tab Key\n                document.execCommand('insertText', false, ' '.repeat(tabSize));\n                evt.preventDefault();\n            } else if (evt.keyCode === 8 || (shiftTab = evt.keyCode === 9 && evt.shiftKey)) {\n                // Backspace Key / Shift Tab\n                var _selectionRange = (0, _selectionRange7.default)(_this.ref),\n                    cursorPos = _selectionRange.start,\n                    cursorEndPos = _selectionRange.end;\n\n                if (cursorPos !== cursorEndPos) {\n                    return; // Bail on selections\n                }\n\n                var deindent = (0, _getIndent.getDeindentLevel)(_this.getPlain(), cursorPos, tabSize);\n                if (deindent <= 0) {\n                    shiftTab && evt.preventDefault();\n                    return; // Bail when deindent level defaults to 0\n                }\n\n                // Delete chars `deindent` times\n                (0, _contentEditableUtils.deleteTimes)(deindent);\n\n                evt.preventDefault();\n            } else if (evt.keyCode === 13) {\n                // Enter Key\n                var _selectionRange2 = (0, _selectionRange7.default)(_this.ref),\n                    _cursorPos = _selectionRange2.start;\n\n                var indentation = (0, _getIndent.getIndent)(_this.getPlain(), _cursorPos);\n                document.execCommand('insertHTML', false, '\\n' + indentation);\n                evt.preventDefault();\n                // this.undoTimestamp = 0\n            } else if (\n            // Undo / Redo\n            evt.keyCode === 90 && evt.metaKey !== evt.ctrlKey && !evt.altKey) {\n                if (evt.shiftKey) {\n                    _this.redo();\n                } else {\n                    _this.undo();\n                }\n\n                evt.preventDefault();\n            } else if (\n            // Cmd/Ctrl + `/`\n            evt.ctrlKey !== evt.metaKey && evt.keyCode === 191) {\n                evt.preventDefault();\n\n                var _selectionRange3 = (0, _selectionRange7.default)(_this.ref),\n                    _cursorPos2 = _selectionRange3.start,\n                    selectionEndPos = _selectionRange3.end;\n\n                var plain = _this.getPlain();\n                var range = (0, _getIndent.getLineRange)(plain, _cursorPos2);\n                var line = (0, _getIndent.getLine)(plain, _cursorPos2);\n                // Remove `//` begin of line\n                if (/^(\\s*)(\\/\\/\\s?)/.test(line)) {\n                    var pos = range[0] + RegExp.$1.length + RegExp.$2.length;\n                    (0, _selectionRange7.default)(_this.ref, { start: pos, end: pos });\n                    (0, _contentEditableUtils.deleteTimes)(RegExp.$2.length);\n                    (0, _selectionRange7.default)(_this.ref, { start: _cursorPos2 - RegExp.$2.length, end: selectionEndPos - RegExp.$2.length });\n\n                    return;\n                }\n\n                // Append `// ` begin of line\n                (0, _selectionRange7.default)(_this.ref, { start: range[0], end: range[0] });\n                document.execCommand('insertText', false, '// ');\n                if (range[1] !== plain.length) {\n                    (0, _selectionRange7.default)(_this.ref, { start: _cursorPos2 - range[0] + range[1], end: selectionEndPos - range[0] + range[1] });\n                } else {\n                    // EOF\n                    (0, _selectionRange7.default)(_this.ref, { start: _cursorPos2 + 3, end: selectionEndPos + 3 });\n                }\n            } else if (\n            // Cmd/Ctrl + `D`\n            evt.ctrlKey !== evt.metaKey && evt.keyCode === 68) {\n                evt.preventDefault();\n\n                var _selectionRange4 = (0, _selectionRange7.default)(_this.ref),\n                    _cursorPos3 = _selectionRange4.start,\n                    _selectionEndPos = _selectionRange4.end;\n\n                var _plain = _this.getPlain();\n                var _line = (0, _getIndent.getLine)(_plain, _cursorPos3);\n                var _range = (0, _getIndent.getLineRange)(_plain, _cursorPos3);\n                if (_cursorPos3 === _selectionEndPos) {\n                    (0, _selectionRange7.default)(_this.ref, { start: _range[1], end: _range[1] });\n                    if (_range[1] !== _plain.length) {\n                        document.execCommand('insertText', false, _line.replace(/\\n$/, '\\r\\n'));\n                    } else {\n                        document.execCommand('insertText', false, '\\n' + _line.replace(/\\n$/, '\\r\\n'));\n                    }\n\n                    var _selectionRange5 = (0, _selectionRange7.default)(_this.ref),\n                        start = _selectionRange5.start,\n                        end = _selectionRange5.end;\n\n                    (0, _selectionRange7.default)(_this.ref, {\n                        start: _range[1] + (_cursorPos3 - _range[0]),\n                        end: _range[1] + (_selectionEndPos - _range[0])\n                    });\n                } else {\n                    (0, _selectionRange7.default)(_this.ref, {\n                        start: _selectionEndPos,\n                        end: _selectionEndPos\n                    });\n                    var selectionText = _line.substring(_cursorPos3 - _range[0], _selectionEndPos - _range[0]);\n                    document.execCommand('insertText', false, selectionText);\n                    (0, _selectionRange7.default)(_this.ref, {\n                        start: _selectionEndPos,\n                        end: _selectionEndPos + selectionText.length\n                    });\n                }\n            }\n        }, _this.onKeyUp = function (evt) {\n            if (_this.props.onKeyUp) {\n                _this.props.onKeyUp(evt);\n            }\n            // if (\n            //     (\n            //         evt.keyCode === 91 || // left cmd\n            //         evt.keyCode === 93 || // right cmd\n            //         evt.ctrlKey ||\n            //         evt.metaKey\n            //     ) && (evt.keyCode !== 191 || evt.keyCode !== 68)\n            // ) {\n            //     return;\n            // }\n\n            // Enter key\n            if (evt.keyCode === 13) {\n                _this.undoTimestamp = 0;\n            }\n\n            _this.selection = (0, _selectionRange7.default)(_this.ref);\n\n            if (evt.keyCode !== 37 && // left\n            evt.keyCode !== 38 && // up\n            evt.keyCode !== 39 && // right\n            evt.keyCode !== 40 // down\n            ) {\n                    var plain = _this.getPlain();\n\n                    _this.recordChange(plain, _this.selection);\n                    !_this.compositing && _this.updateContent(plain);\n                } else {\n                _this.undoTimestamp = 0;\n            }\n        }, _this.onCompositionStart = function (evt) {\n            if (_this.props.onCompositionStart) {\n                _this.props.onCompositionStart(evt);\n            }\n            _this.compositing = true;\n        }, _this.onCompositionEnd = function (evt) {\n            if (_this.props.onCompositionEnd) {\n                _this.props.onCompositionEnd(evt);\n            }\n            _this.compositing = false;\n        }, _this.onClick = function (evt) {\n            if (_this.props.onClick) {\n                _this.props.onClick(evt);\n            }\n            _this.undoTimestamp = 0; // Reset timestamp\n            _this.selection = (0, _selectionRange7.default)(_this.ref);\n        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n    }\n\n    (0, _createClass3.default)(Editor, [{\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            (0, _prism.killWorker)(this.id);\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function () {\n            var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {\n                var html;\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                _context2.next = 2;\n                                return (0, _prism2.default)({ id: this.id, code: (0, _normalizeCode2.default)(this.props.code), language: this.props.language, workerUrl: this.props.workerUrl });\n\n                            case 2:\n                                html = _context2.sent;\n\n                                this.setState({ html: html });\n                                this.recordChange(this.getPlain());\n                                this.undoTimestamp = 0; // Reset timestamp\n\n                            case 6:\n                            case 'end':\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n\n            function componentDidMount() {\n                return _ref3.apply(this, arguments);\n            }\n\n            return componentDidMount;\n        }()\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function () {\n            var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(_ref5) {\n                var code = _ref5.code,\n                    language = _ref5.language,\n                    workerUrl = _ref5.workerUrl;\n                var html;\n                return _regenerator2.default.wrap(function _callee3$(_context3) {\n                    while (1) {\n                        switch (_context3.prev = _context3.next) {\n                            case 0:\n                                if (!(code !== this.props.code || language !== this.props.language || workerUrl !== this.props.workerUrl)) {\n                                    _context3.next = 5;\n                                    break;\n                                }\n\n                                _context3.next = 3;\n                                return (0, _prism2.default)({ id: this.id, code: (0, _normalizeCode2.default)(code), language: language, workerUrl: workerUrl });\n\n                            case 3:\n                                html = _context3.sent;\n\n                                this.setState({ html: html });\n\n                            case 5:\n                            case 'end':\n                                return _context3.stop();\n                        }\n                    }\n                }, _callee3, this);\n            }));\n\n            function componentWillReceiveProps(_x2) {\n                return _ref4.apply(this, arguments);\n            }\n\n            return componentWillReceiveProps;\n        }()\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            var selection = this.selection;\n\n            if (selection) {\n                (0, _selectionRange7.default)(this.ref, selection);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                contentEditable = _props.contentEditable,\n                className = _props.className,\n                mountStyle = _props.mountStyle,\n                tabSize = _props.tabSize,\n                style = _props.style,\n                workerUrl = _props.workerUrl,\n                code = _props.code,\n                ignoreTabKey = _props.ignoreTabKey,\n                language = _props.language,\n                rest = (0, _objectWithoutProperties3.default)(_props, ['contentEditable', 'className', 'mountStyle', 'tabSize', 'style', 'workerUrl', 'code', 'ignoreTabKey', 'language']);\n            var html = this.state.html;\n\n            return _react2.default.createElement(\n                'pre',\n                null,\n                mountStyle && _react2.default.createElement(_Style2.default, null),\n                _react2.default.createElement('code', (0, _extends3.default)({\n                    spellCheck: 'false'\n                }, rest, {\n                    ref: this.onRef,\n                    style: style,\n                    onKeyDown: contentEditable ? this.onKeyDown : undefined,\n                    onKeyUp: contentEditable ? this.onKeyUp : undefined,\n                    onCompositionEnd: contentEditable ? this.onCompositionEnd : undefined,\n                    onCompositionStart: contentEditable ? this.onCompositionStart : undefined,\n                    onClick: contentEditable ? this.onClick : undefined,\n                    contentEditable: contentEditable,\n                    className: (0, _cn2.default)('code-editor', 'hljs', className),\n                    dangerouslySetInnerHTML: { __html: html }\n                }))\n            );\n        }\n    }]);\n    return Editor;\n}(_react.Component), _class.defaultProps = {\n    contentEditable: true,\n    mountStyle: true,\n    language: '',\n    tabSize: 4,\n    code: '',\n    className: '',\n    style: {},\n    workerUrl: null,\n    ignoreTabKey: false\n}, _temp2);\nexports.default = Editor;\n\n\n// WEBPACK FOOTER //\n// ./~/react-code-editor/lib/Editor/index.js","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = \"\\n.code-editor {\\n  display: block;\\n  white-space: pre;\\n\\n  background-color: #1D1F21;\\n  color: #C5C8C6;\\n\\n  padding: 0.5rem;\\n  margin: 0;\\n\\n  box-sizing: border-box;\\n  vertical-align: baseline;\\n  outline: none;\\n  text-shadow: none;\\n  -webkit-hyphens: none;\\n  -ms-hyphens: none;\\n  hyphens: none;\\n  word-wrap: normal;\\n  word-break: normal;\\n  text-align: left;\\n  word-spacing: normal;\\n  -moz-tab-size: 2;\\n  -o-tab-size: 2;\\n  tab-size: 2;\\n}\\n\";\n\n\n// WEBPACK FOOTER //\n// ./~/react-code-editor/lib/constants/css.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _Editor = require('./Editor');\n\nvar _Editor2 = _interopRequireDefault(_Editor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _Editor2.default; /**\n                                     * @file: index.js\n                                     * @author: Cuttle Cong\n                                     * @date: 2017/11/3\n                                     * @description: \n                                     */\n\n\n// WEBPACK FOOTER //\n// ./~/react-code-editor/lib/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar cn = function cn() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args.filter(Boolean).join(' ');\n};\n\nexports.default = cn;\n\n\n// WEBPACK FOOTER //\n// ./~/react-code-editor/lib/utils/cn.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.setCaretPosition = setCaretPosition;\nexports.deleteTimes = deleteTimes;\n/**\n * @file: content-editable-utils\n * @author: Cuttle Cong\n * @date: 2017/11/5\n * @description: \n */\n\nfunction setCaretPosition(elem, caretPos) {\n    if (elem != null) {\n        if (elem.createTextRange) {\n            var range = elem.createTextRange();\n            range.move('character', caretPos);\n            range.select();\n        } else {\n            if (elem.selectionStart) {\n                elem.focus();\n                elem.setSelectionRange(caretPos, caretPos);\n            } else elem.focus();\n        }\n    }\n}\n\nfunction deleteTimes(times) {\n    for (var i = 0; i < times; i++) {\n        document.execCommand('delete', false);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./~/react-code-editor/lib/utils/contentEditableUtils.js","'use strict';\n\n/**\n * @file: escape-html\n * @author: Cuttle Cong\n * @date: 2017/11/5\n * @description: \n */\n\nmodule.exports = function (str) {\n  return str.replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/&/g, '&amp;').replace(/\"/g, '&quot;');\n};\n\n\n// WEBPACK FOOTER //\n// ./~/react-code-editor/lib/utils/escape-html.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar getLine = exports.getLine = function getLine(plain, cursorPos) {\n    var endSlice = plain.slice(cursorPos);\n    var startSlice = plain.slice(0, cursorPos);\n    var lastNewline = startSlice.lastIndexOf('\\n') + 1;\n\n    var endNewline = endSlice.indexOf('\\n') + 1;\n    endNewline = endNewline === 0 ? plain.length : endNewline;\n\n    return startSlice.slice(lastNewline) + endSlice.slice(0, endNewline);\n};\n\nvar getLineRange = exports.getLineRange = function getLineRange(plain, cursorPos) {\n    var endSlice = plain.slice(cursorPos);\n    var startSlice = plain.slice(0, cursorPos);\n    var lastNewline = startSlice.lastIndexOf('\\n') + 1;\n\n    var endNewline = endSlice.indexOf('\\n') + 1;\n    endNewline = endNewline === 0 ? plain.length : endNewline;\n\n    var prefix = startSlice.slice(lastNewline);\n    var suffix = endSlice.slice(0, endNewline);\n\n    return [cursorPos - prefix.length, cursorPos + suffix.length];\n};\n\nvar getBeforeLine = exports.getBeforeLine = function getBeforeLine(plain, cursorPos) {\n    var startSlice = plain.slice(0, cursorPos);\n    var lastNewline = startSlice.lastIndexOf('\\n') + 1;\n    return startSlice.slice(lastNewline);\n};\n\nvar indentRe = /^\\s+/;\n\nvar getIndent = exports.getIndent = function getIndent(plain, cursorPos) {\n    var line = getBeforeLine(plain, cursorPos);\n    var matches = line.match(indentRe);\n    if (matches === null) {\n        return '';\n    }\n\n    return matches[0] || '';\n};\n\nvar deindentSpacesRe = /^(\\t|  )*  $/;\n\nvar getDeindentLevel = exports.getDeindentLevel = function getDeindentLevel(plain, cursorPos) {\n    var tabSize = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 2;\n\n    var line = getBeforeLine(plain, cursorPos);\n    if (!deindentSpacesRe.test(line)) {\n        return 0; // Doesn't match regex, so normal behaviour can apply\n    }\n\n    // The line contains only whitespace indentation\n    // thus two characters must be deleted\n    return tabSize;\n};\n\n\n// WEBPACK FOOTER //\n// ./~/react-code-editor/lib/utils/getIndent.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _unescape = require('unescape');\n\nvar _unescape2 = _interopRequireDefault(_unescape);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar htmlToPlain = function htmlToPlain(html) {\n  return (0, _unescape2.default)(html.replace(/<br>/gm, '\\n').replace(/<\\/?[^>]*>/gm, ''));\n};\n\nexports.default = htmlToPlain;\n\n\n// WEBPACK FOOTER //\n// ./~/react-code-editor/lib/utils/htmlToPlain.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar indentRe = /^((\\t|  )+)/mg;\nvar tabRe = /\\t/g;\n\nvar normalizeCode = function normalizeCode(code) {\n  return code.replace(indentRe, function (_, indentation) {\n    return indentation.replace(tabRe, '  ');\n  });\n};\n\nexports.default = normalizeCode;\n\n\n// WEBPACK FOOTER //\n// ./~/react-code-editor/lib/utils/normalizeCode.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar normalizeHtml = function normalizeHtml(html) {\n  return html.replace('\\n', '<br>');\n};\n\nexports.default = normalizeHtml;\n\n\n// WEBPACK FOOTER //\n// ./~/react-code-editor/lib/utils/normalizeHtml.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nexports.killWorker = killWorker;\n\nvar _highlight = require('highlight.js');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar workerPool = {};\n\nvar prism = function () {\n    var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(_ref2) {\n        var code = _ref2.code,\n            language = _ref2.language,\n            workerUrl = _ref2.workerUrl,\n            id = _ref2.id;\n        var worker;\n        return _regenerator2.default.wrap(function _callee$(_context) {\n            while (1) {\n                switch (_context.prev = _context.next) {\n                    case 0:\n                        worker = workerPool[id];\n\n\n                        if (typeof Worker === 'function' && !worker && typeof workerUrl === 'string') {\n                            worker = new Worker(workerUrl);\n                            workerPool[id] = worker;\n                        }\n                        if (typeof workerUrl !== 'string' && worker) {\n                            killWorker(id);\n                        }\n\n                        if (!worker) {\n                            _context.next = 5;\n                            break;\n                        }\n\n                        return _context.abrupt('return', new _promise2.default(function (resolve) {\n                            worker.postMessage({ type: 'highlight', id: id, arguments: [code, language] });\n                            worker.onmessage = function (_ref3) {\n                                var data = _ref3.data;\n                                return resolve(data);\n                            };\n                        }));\n\n                    case 5:\n                        return _context.abrupt('return', (language ? (0, _highlight.highlight)(language, code, true) : (0, _highlight.highlightAuto)(code)).value);\n\n                    case 6:\n                    case 'end':\n                        return _context.stop();\n                }\n            }\n        }, _callee, undefined);\n    }));\n\n    return function prism(_x) {\n        return _ref.apply(this, arguments);\n    };\n}();\n\nfunction killWorker(id) {\n    var worker = workerPool[id];\n    if (!worker) return;\n\n    worker.terminate();\n    delete workerPool[id];\n}\n\nexports.default = prism;\n\n\n// WEBPACK FOOTER //\n// ./~/react-code-editor/lib/utils/prism.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.makeSelection = makeSelection;\n\nvar _domIterator = require('dom-iterator');\n\nvar _domIterator2 = _interopRequireDefault(_domIterator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction position(el, pos) {\n    var selection = window.getSelection();\n\n    if (1 == arguments.length) {\n        if (!selection.rangeCount) return;\n        var indexes = {};\n        var range = selection.getRangeAt(0);\n        var clone = range.cloneRange();\n        clone.selectNodeContents(el);\n        clone.setEnd(range.endContainer, range.endOffset);\n        indexes.end = clone.toString().length;\n        clone.setStart(range.startContainer, range.startOffset);\n        indexes.start = indexes.end - clone.toString().length;\n        indexes.atStart = clone.startOffset === 0;\n        indexes.commonAncestorContainer = clone.commonAncestorContainer;\n        indexes.endContainer = clone.endContainer;\n        indexes.startContainer = clone.startContainer;\n        return indexes;\n    }\n\n    var setSelection = pos.end && pos.end !== pos.start;\n    var length = 0;\n    var range = document.createRange();\n    var it = (0, _domIterator2.default)(el).select(Node.TEXT_NODE).revisit(false);\n    var next;\n    var startindex;\n    var start = pos.start > el.textContent.length ? el.textContent.length : pos.start;\n    var end = pos.end > el.textContent.length ? el.textContent.length : pos.end;\n    var atStart = pos.atStart;\n\n    while (next = it.next()) {\n        var olen = length;\n        length += next.textContent.length;\n\n        // Set start point of selection\n        var atLength = atStart ? length > start : length >= start;\n        if (!startindex && atLength) {\n            startindex = true;\n            range.setStart(next, start - olen);\n            if (!setSelection) {\n                range.collapse(true);\n                makeSelection(el, range);\n                break;\n            }\n        }\n\n        // Set end point of selection\n        if (setSelection && length >= end) {\n            range.setEnd(next, end - olen);\n            makeSelection(el, range);\n            break;\n        }\n    }\n}\n\nfunction makeSelection(el, range) {\n    var selection = window.getSelection();\n    el.focus();\n    selection.removeAllRanges();\n    selection.addRange(range);\n}\n\nexports.default = position;\n\n\n// WEBPACK FOOTER //\n// ./~/react-code-editor/lib/vendor/selection-range/index.js","'use strict';\n\nvar cache;\n\n/**\n * Convert HTML entities to HTML characters.\n *\n * @param  {String} `str` String with HTML entities to un-escape.\n * @return {String}\n */\n\nvar unescape = module.exports = function(str) {\n  if (str == null) return '';\n\n  var re = cache || (cache = new RegExp('(' + Object.keys(chars).join('|') + ')', 'g'));\n  return String(str).replace(re, function(match) {\n    return chars[match];\n  });\n};\n\nvar chars = unescape.chars = {\n  '&apos;': '\\'',\n  '&#39;': '\\'',\n  '&amp;': '&',\n  '&gt;': '>',\n  '&lt;': '<',\n  '&quot;': '\"'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/react-code-editor/~/unescape/index.js","/*markdown-loader*/\nmodule.exports = {\n  \"content\": \"<style>.transformer-react-render{border:1px dashed #959da5;border-radius:5px;display:block}.transformer-react-render-container>pre{max-height:400px;transition:all .2s ease}.transformer-react-render-container>pre.focused{max-height:none;box-shadow:0 0 6px rgba(0,0,0,.2)}</style><h2 id=><a href=#%E9%A6%96%E5%85%88%E7%9C%8B%E4%B8%80%E4%B8%AA%E5%AE%9E%E4%BE%8B%EF%BC%81 aria-hidden=true><span class=\\\"icon icon-link\\\"></span></a></h2><p><a href=https://github.com/m-cuttlefish/react-code-editor><code>react-code-editor</code></a><br></p><pre><code class=\\\"hljs language-css\\\"data-query={} data-lang=css><span class=hljs-selector-class>.stage</span> {\\n  <span class=hljs-attribute>border</span>: <span class=hljs-number>1px</span> dashed <span class=hljs-number>#333</span>;\\n  <span class=hljs-attribute>padding</span>: <span class=hljs-number>10px</span>;  \\n}</code></pre><div class=\\\"transformer-react-render-container\\\"><pre><code class=\\\"hljs language-react\\\"data-query={} data-lang=react><span class=hljs-keyword>import</span> React from <span class=hljs-string>'react'</span>\\n<span class=hljs-keyword>import</span> CodeEditor from <span class=hljs-string>'react-code-editor'</span>\\n\\nconst code =\\n`const hello = <span class=hljs-string>'world'</span>\\n`\\n\\nexport <span class=hljs-keyword>default</span> (\\n    &lt;div className=<span class=hljs-string>\\\"stage\\\"</span>>\\n        &lt;h4 style={{margin: <span class=hljs-number>0</span>}}>CodeEditor&lt;/h4>\\n        &lt;CodeEditor\\n            // workerUrl=<span class=hljs-string>\\\"/hljs.worker.js\\\"</span>\\n            language=<span class=hljs-string>\\\"javascript\\\"</span>\\n            className=<span class=hljs-string>\\\"javascript\\\"</span>\\n            tabSize={<span class=hljs-number>2</span>}\\n            code={code}\\n            mountStyle={false}\\n            onChange={console.log}\\n        />\\n        &lt;CodeEditor\\n            // workerUrl=<span class=hljs-string>\\\"/hljs.worker.js\\\"</span>\\n            language=<span class=hljs-string>\\\"javascript\\\"</span>\\n            className=<span class=hljs-string>\\\"javascript\\\"</span>\\n            tabSize={<span class=hljs-number>2</span>}\\n            code={code}\\n            mountStyle={false}\\n            onChange={console.log}\\n        />\\n    &lt;/div>\\n)</code></pre><transformer-react-render data-id=\\\"0\\\"></transformer-react-render></div><h2 id=section--range><a href=#section--range aria-hidden=true><span class=\\\"icon icon-link\\\"></span></a>Section / Range</h2><pre><code class=\\\"hljs language-html\\\"data-query={} data-lang=__html><span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>class</span>=<span class=hljs-string>\\\"stage\\\"</span>></span>\\n    <span class=hljs-tag>&lt;<span class=hljs-name>pre</span> <span class=hljs-attr>id</span>=<span class=hljs-string>\\\"dom-editable\\\"</span> <span class=hljs-attr>contenteditable</span>=<span class=hljs-string>\\\"true\\\"</span>></span>Input Here.\\nSecond Line.\\n<span class=hljs-tag>&lt;/<span class=hljs-name>pre</span>></span>\\n    <span class=hljs-tag>&lt;<span class=hljs-name>button</span> <span class=hljs-attr>id</span>=<span class=hljs-string>\\\"btn-1\\\"</span>></span>Select Second line<span class=hljs-tag>&lt;/<span class=hljs-name>button</span>></span>\\n<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span>\\n\\n<span class=hljs-tag>&lt;<span class=hljs-name>script</span> <span class=hljs-attr>type</span>=<span class=hljs-string>\\\"text/javascript\\\"</span>></span><span class=javascript>\\n    <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>selectionHelper</span>(<span class=hljs-params>el, pos</span>) </span>{\\n        <span class=hljs-keyword>var</span> indexes = {}\\n        <span class=hljs-comment>// getSelection</span>\\n        <span class=hljs-keyword>if</span> (<span class=hljs-keyword>typeof</span> pos === <span class=hljs-string>'undefined'</span>) {\\n            <span class=hljs-keyword>var</span> selection = <span class=hljs-built_in>window</span>.getSelection()\\n            <span class=hljs-keyword>var</span> range = selection.getRangeAt(<span class=hljs-number>0</span>);\\n            <span class=hljs-keyword>var</span> clone = range.cloneRange();\\n\\n            clone.selectNodeContents(el);\\n            clone.setEnd(range.endContainer, range.endOffset);\\n            indexes.end = clone.toString().length;\\n            clone.setStart(range.startContainer, range.startOffset);\\n            indexes.start = indexes.end - clone.toString().length;\\n            indexes.atStart = clone.startOffset === <span class=hljs-number>0</span>;\\n            indexes.commonAncestorContainer = clone.commonAncestorContainer;\\n            indexes.endContainer = clone.endContainer;\\n            indexes.startContainer = clone.startContainer;\\n\\n            <span class=hljs-keyword>return</span> indexes;\\n        }\\n\\n        <span class=hljs-keyword>var</span> setSelection = pos.end &amp&amp pos.end !== pos.start;\\n        <span class=hljs-keyword>var</span> length = <span class=hljs-number>0</span>;\\n        <span class=hljs-keyword>var</span> range = <span class=hljs-built_in>document</span>.createRange();\\n        <span class=hljs-keyword>var</span> next;\\n        <span class=hljs-keyword>var</span> startindex;\\n        <span class=hljs-keyword>var</span> start = pos.start > el.textContent.length ? el.textContent.length : pos.start;\\n        <span class=hljs-keyword>var</span> end = pos.end > el.textContent.length ? el.textContent.length : pos.end;\\n        <span class=hljs-keyword>var</span> atStart = pos.atStart;\\n\\n\\n        <span class=hljs-keyword>for</span> (<span class=hljs-keyword>var</span> i = <span class=hljs-number>0</span>; i &lt; el.childNodes.length; i++) {\\n            next = el.childNodes[i]\\n            <span class=hljs-keyword>if</span> (next.nodeType === Node.TEXT_NODE) {\\n                <span class=hljs-keyword>var</span> olen = length;\\n                length += next.textContent.length;\\n\\n                <span class=hljs-comment>// Set start point of selection</span>\\n                <span class=hljs-keyword>var</span> atLength = atStart ? length > start : length >= start;\\n                <span class=hljs-keyword>if</span> (!startindex &amp&amp atLength) {\\n                    startindex = <span class=hljs-literal>true</span>;\\n                    range.setStart(next, start - olen);\\n                    <span class=hljs-keyword>if</span> (!setSelection) {\\n                        range.collapse(<span class=hljs-literal>true</span>);\\n                        makeSelection(el, range);\\n                        <span class=hljs-keyword>break</span>;\\n                    }\\n                }\\n\\n                <span class=hljs-comment>// Set end point of selection</span>\\n                <span class=hljs-keyword>if</span> (setSelection &amp&amp length >= end) {\\n                    range.setEnd(next, end - olen);\\n                    makeSelection(el, range);\\n                    <span class=hljs-keyword>break</span>;\\n                }\\n            }\\n        }\\n\\n        <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>makeSelection</span>(<span class=hljs-params>el, range</span>) </span>{\\n            <span class=hljs-keyword>var</span> selection = <span class=hljs-built_in>window</span>.getSelection();\\n            el.focus();\\n            selection.removeAllRanges();\\n            selection.addRange(range);\\n        }\\n    }\\n\\n    <span class=hljs-keyword>var</span> dom = <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>'dom-editable'</span>);\\n    dom.addEventListener(<span class=hljs-string>'keyup'</span>, <span class=hljs-function><span class=hljs-keyword>function</span> (<span class=hljs-params>evt</span>) </span>{\\n        <span class=hljs-built_in>console</span>.log(selectionHelper(dom))\\n    });\\n\\n    dom.addEventListener(<span class=hljs-string>'keydown'</span>, <span class=hljs-function><span class=hljs-keyword>function</span> (<span class=hljs-params>evt</span>) </span>{\\n        <span class=hljs-keyword>if</span> (evt.keyCode === <span class=hljs-number>13</span>) {\\n            <span class=hljs-built_in>document</span>.execCommand(<span class=hljs-string>'insertHTML'</span>, <span class=hljs-literal>false</span>, <span class=hljs-string>'\\\\n'</span>);\\n            evt.preventDefault()\\n        }\\n    });\\n\\n    <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>'btn-1'</span>).addEventListener(<span class=hljs-string>'click'</span>, <span class=hljs-function><span class=hljs-keyword>function</span> (<span class=hljs-params>evt</span>) </span>{\\n        <span class=hljs-keyword>var</span> lines = dom.textContent.split(<span class=hljs-string>'\\\\n'</span>)\\n        <span class=hljs-keyword>if</span> (lines.length &lt; <span class=hljs-number>2</span>) <span class=hljs-keyword>return</span>\\n        <span class=hljs-keyword>var</span> start = <span class=hljs-number>0</span>, end = <span class=hljs-number>0</span>;\\n        start += lines[<span class=hljs-number>0</span>].length + <span class=hljs-number>1</span>\\n        end += start + lines[<span class=hljs-number>1</span>].length\\n        <span class=hljs-built_in>console</span>.log(start, end)\\n        selectionHelper(dom, {<span class=hljs-attr>start</span>: start, <span class=hljs-attr>end</span>: end})\\n    });\\n</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span></code></pre><transformer-html-loader><div class=stage><pre id=dom-editable contenteditable=true>Input Here.\\nSecond Line.\\n</pre><button id=btn-1>Select Second line</button></div><script type=text/javascript>function selectionHelper(e,t){var n={};if(void 0===t){var o=(l=window.getSelection().getRangeAt(0)).cloneRange();return o.selectNodeContents(e),o.setEnd(l.endContainer,l.endOffset),n.end=o.toString().length,o.setStart(l.startContainer,l.startOffset),n.start=n.end-o.toString().length,n.atStart=0===o.startOffset,n.commonAncestorContainer=o.commonAncestorContainer,n.endContainer=o.endContainer,n.startContainer=o.startContainer,n}for(var r,a,d=t.end&&t.end!==t.start,i=0,l=document.createRange(),s=t.start>e.textContent.length?e.textContent.length:t.start,c=t.end>e.textContent.length?e.textContent.length:t.end,g=t.atStart,m=0;m<e.childNodes.length;m++)if((r=e.childNodes[m]).nodeType===Node.TEXT_NODE){var f=i;if(i+=r.textContent.length,!a&&(g?s<i:s<=i)&&(a=!0,l.setStart(r,s-f),!d)){l.collapse(!0),C(e,l);break}if(d&&c<=i){l.setEnd(r,c-f),C(e,l);break}}function C(e,t){var n=window.getSelection();e.focus(),n.removeAllRanges(),n.addRange(t)}}var dom=document.getElementById(\\\"dom-editable\\\");dom.addEventListener(\\\"keyup\\\",function(e){console.log(selectionHelper(dom))}),dom.addEventListener(\\\"keydown\\\",function(e){13===e.keyCode&&(document.execCommand(\\\"insertHTML\\\",!1,\\\"\\\\n\\\"),e.preventDefault())}),document.getElementById(\\\"btn-1\\\").addEventListener(\\\"click\\\",function(e){var t=dom.textContent.split(\\\"\\\\n\\\");if(!(t.length<2)){var n=0,o=0;o+=(n+=t[0].length+1)+t[1].length,console.log(n,o),selectionHelper(dom,{start:n,end:o})}});</script></transformer-html-loader>\",\n  \"extra\": {\n    \"_image-loader_\": [],\n    \"_progressive_\": []\n  },\n  \"transformer-react-render\": {\n    \"list\": [\n      [\n        \"function anonymous(React,Component,ReactDOM,require\\n/*``*/) {\\n\\nvar exports = {}, module = {};\\nmodule.exports = exports;\\n(function picidaeTransformerReactRender(){Object.defineProperty(exports,\\\"__esModule\\\",{value:true});var _react=require(\\\"react\\\");var _react2=_interopRequireDefault(_react);var _reactCodeEditor=require(\\\"react-code-editor\\\");var _reactCodeEditor2=_interopRequireDefault(_reactCodeEditor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var code=\\\"const hello = 'world'\\\\n\\\";exports.default=_react2.default.createElement(\\\"div\\\",{className:\\\"stage\\\"},_react2.default.createElement(\\\"h4\\\",{style:{margin:0}},\\\"CodeEditor\\\"),_react2.default.createElement(_reactCodeEditor2.default// workerUrl=\\\"/hljs.worker.js\\\"\\n,{language:\\\"javascript\\\",className:\\\"javascript\\\",tabSize:2,code:code,mountStyle:false,onChange:console.log}),_react2.default.createElement(_reactCodeEditor2.default// workerUrl=\\\"/hljs.worker.js\\\"\\n,{language:\\\"javascript\\\",className:\\\"javascript\\\",tabSize:2,code:code,mountStyle:false,onChange:console.log}))})(exports, module)\\nreturn module.exports.default || module.exports;\\n}\",\n        {},\n        2\n      ]\n    ],\n    \"pkg\": {\n      \"react\": require('react'),\n      \"react-dom\": require('react-dom'),\n      \"react-code-editor\": require('react-code-editor')\n    }\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/picidae/lib/lib/loaders/markdown-loader!./source/_articles/wow-picidae-transformer-react-render-support-live-edit.md\n// module id = 1250\n// module chunks = 0"],"sourceRoot":""}