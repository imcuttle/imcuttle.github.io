<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="/favicon.png" />
    <title> Moka (SPA Blog For Everyone) - Grass </title>
    <link rel="stylesheet" href="/style.css">
    <style>
        #music {
            position: fixed;
            top: 10px;
            left: 10px;
        }
    </style>
</head>
<body>
<div id="root">
    <div class="wrap" data-reactroot="" data-reactid="1" data-react-checksum="2099220462"><header data-reactid="2"><a class="logo-link" href="/" data-reactid="3"><img src="/favicon.png" data-reactid="4"/></a><ul class="nav nav-list" data-reactid="5"><li class="nav-list-item" data-reactid="6"><a class="nav-list-link" href="/posts/1" data-reactid="7">Posts</a></li></ul></header><main data-reactid="8"><div class="post" data-reactid="9"><article class="post-block" data-reactid="10"><h1 class="post-title" data-reactid="11">Moka (SPA Blog For Everyone)</h1><div class="post-info" data-reactid="12"><time datetime="2016-10-16T22:37:29+00:00" data-reactid="13">Oct 16, 2016 10:37 PM</time></div></article><div class="post-content" data-reactid="14"><article data-reactid="15"><style data-reactid="16">.transformer-react-render{border:1px dashed #959da5;border-radius:5px;display:block}.transformer-react-render-container&gt;pre{max-height:400px;transition:all .2s ease}.transformer-react-render-container&gt;pre.focused{max-height:none;box-shadow:0 0 6px rgba(0,0,0,.2)}</style><p data-reactid="17"><!-- react-text: 18 -->如今,单页应用&quot;横行霸道&quot;, 而且新时代知识信息海量,我们更需要自己的Blog来沉淀知识。 综上,<!-- /react-text --><code data-reactid="19">Moka</code><!-- react-text: 20 -->走入了我们的实现。<!-- /react-text --></p><h2 id="usage" data-reactid="21"><a href="#usage" aria-hidden="true" data-reactid="22"><span class="icon icon-link" data-reactid="23"></span></a><!-- react-text: 24 -->Usage<!-- /react-text --></h2><div data-reactid="25"><style data-reactid="26">
.medium-image-progressive-container {
  position: relative;
  width: 100%;
  margin: 0 auto;
  margin-top: 43px;
  display: block;
}
.image-loaded.medium-image-progressive canvas {
  visibility: hidden;
  opacity: 0;
  -webkit-transition: visibility 0s linear .5s,opacity .1s .4s;
  transition: visibility 0s linear .5s,opacity .1s .4s;
}
.image-loaded.medium-image-progressive .medium-image-origin {
  visibility: visible;
  opacity: 1;
  -webkit-transition: visibility 0s linear 0s,opacity .4s 0s;
  transition: visibility 0s linear 0s,opacity .4s 0s;
}
.medium-image-progressive-container .medium-image-progressive:not(.image-loaded):not(.canvas-loaded) {
  background-color: rgba(0, 0, 0, 0.05);
}
.medium-image-progressive-container .medium-image-progressive {
  position: absolute;
  top:0;left:0;width:100%;height:100%;
  max-width: 100%;
}
.medium-image-progressive-container .medium-image-origin,
.medium-image-progressive-container .medium-image-progressive canvas {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}
.medium-image-progressive-container img, .medium-image-progressive-container canvas {
  margin: 0 auto;
}
.medium-image-progressive-container .canvas-loaded.medium-image-progressive:not(.image-loaded) canvas {
  visibility: visible;
  opacity: 1;
  -webkit-transition: visibility 0s linear 0s,opacity .4s 0s;
  transition: visibility 0s linear 0s,opacity .4s 0s;
}
.medium-image-progressive-container .medium-image-origin,
.medium-image-progressive-container .medium-image-progressive canvas {
  visibility: hidden;
  opacity: 0;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}
</style><div class="medium-image-progressive-container" style="max-width:800px;max-height:800pxpx;" data-reactid="27"><div class="medium-image-progressive-placeholder" style="padding-bottom:54%;" data-reactid="28"></div><div class="medium-image-progressive" data-reactid="29"><canvas data-reactid="30"></canvas><img class="medium-image-progress" src="false" style="display:none;" data-reactid="31"/><img class="medium-image-origin" src="https://segmentfault.com/img/bVEjtX" data-reactid="32"/><noscript data-reactid="33"><img class="medium-image-origin" src="https://segmentfault.com/img/bVEjtX" data-reactid="34"/></noscript></div></div></div><p data-reactid="35"><!-- react-text: 36 -->为了第一眼能看到效果, 我先把如何安装使用说一下。 1. 一切从<!-- /react-text --><code data-reactid="37">npm</code><!-- react-text: 38 -->开始<!-- /react-text --></p><pre data-reactid="39"><code data-query="{}" data-lang="data-lang" data-reactid="40">    $ npm i -g moka-cli
</code></pre><ol start="2" data-reactid="41"><li data-reactid="42">安装完成后</li></ol><pre data-reactid="43"><code data-query="{}" data-lang="data-lang" data-reactid="44">```sh    
$ moka -h # 帮助
$ moka -V # 版本

$ mkdir myBlog
$ cd myBlog
$ moka i  # 开启自己的spa Blog
$ moka g  # generate static pages
$ moka s  # 开启本地服务，动态更新_articles
$ moka ss  # 开启本地静态服务，需要先generate
$ moka n abc # 新建一个article

$ moka d  # 根据 moka.config.json deploy 发布 需要设置sshkey 
$ moka b  # 根据 moka.config.json bak 发布 需要设置sshkey 
``` 
</code></pre><ol start="3" data-reactid="45"><li data-reactid="46"><p data-reactid="47">线上效果</p><p data-reactid="48"><a href="https://moyuyc.github.io/" data-reactid="49">moyuyc.github.io</a></p></li><li data-reactid="50"><p data-reactid="51">详细解释</p><p data-reactid="52">在当前目录下产生一套文件目录结构。如下：</p><pre data-reactid="53"><code data-query="{}" data-lang="data-lang" data-reactid="54">moka-blog/
├── moka.config.json # moka配置，包括全局配置，如deploy，bak信息，主题选择
├── package.json     # 可以无视
├── source/          # moka g 会将该目录下非`_articles`文件夹放入static
│   ├── _articles/   # moka g 将`_articles`下的markdown文件解析到static中
│   └── ...
├── static/          # moka g 产生的最终发布的目录，deploy便是发布该目录
│   └── ...   
├── template/
│   └── article.md   # moka n 命令产生新文章的模板
└── themes/          # moka g 将配置中选中对应的主题 `themeBuild`目录 拷贝到static
     └── moka/        # 主题文件夹，其中包含theme.config.json, 根据主题要求自行配置
</code></pre><p data-reactid="55"><!-- react-text: 56 -->关于<!-- /react-text --><code data-reactid="57">moka deploy &amp; moka bak</code><!-- react-text: 58 -->需要设置<!-- /react-text --><code data-reactid="59">github key</code><!-- react-text: 60 -->，这里给出<!-- /react-text --><a href="http://jingyan.baidu.com/article/a65957f4e91ccf24e77f9b11.html" data-reactid="61">Windows平台的设置教程</a><!-- react-text: 62 -->，其他平台大同小异<!-- /react-text --><br data-reactid="63"/><!-- react-text: 64 -->设置ssh key完成后，修改<!-- /react-text --><code data-reactid="65">moka.config.json</code><!-- react-text: 66 --> deploy与bak url字段即可，改成对应repo的url.<!-- /react-text --></p></li></ol><h2 id="document" data-reactid="67"><a href="#document" aria-hidden="true" data-reactid="68"><span class="icon icon-link" data-reactid="69"></span></a><!-- react-text: 70 -->Document<!-- /react-text --></h2><p data-reactid="71"><code data-reactid="72">Moka</code><!-- react-text: 73 -->, 认为前端UI与数据应该完全分离开来, 而不是像<!-- /react-text --><code data-reactid="74">hexo</code><!-- react-text: 75 -->那样传统的blog。 这样做的好处不言而喻, 可能第一次加载数据较多, 但是后续操作更加畅快, 网站体验更加优化了。<!-- /react-text --></p><p data-reactid="76"><!-- react-text: 77 -->既然如此, 那么<!-- /react-text --><code data-reactid="78">Moka</code><!-- react-text: 79 -->产生的数据是什么样子的呢?<!-- /react-text --></p><h3 id="数据格式" data-reactid="80"><a href="#%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F" aria-hidden="true" data-reactid="81"><span class="icon icon-link" data-reactid="82"></span></a><!-- react-text: 83 -->数据格式<!-- /react-text --></h3><p data-reactid="84"><code data-reactid="85">Moka</code><!-- react-text: 86 --> 采用主流的<!-- /react-text --><code data-reactid="87">json</code><!-- react-text: 88 -->字符串<!-- /react-text --></p><p data-reactid="89"><code data-reactid="90">$ moka generate</code><!-- react-text: 91 --> 后产生的json如下<!-- /react-text --></p><pre data-reactid="92"><code class="hljs language-json" data-query="{}" data-lang="json" data-reactid="93"><!-- react-text: 94 -->{
    <!-- /react-text --><span class="hljs-attr" data-reactid="95">&quot;main&quot;</span><!-- react-text: 96 -->: {
        <!-- /react-text --><span class="hljs-attr" data-reactid="97">&quot;filename&quot;</span><!-- react-text: 98 -->: {
            <!-- /react-text --><span class="hljs-attr" data-reactid="99">&quot;content&quot;</span><!-- react-text: 100 -->: <!-- /react-text --><span class="hljs-string" data-reactid="101">&quot;...&quot;</span><!-- react-text: 102 -->,
            <!-- /react-text --><span class="hljs-attr" data-reactid="103">&quot;head&quot;</span><!-- react-text: 104 -->: {
                <!-- /react-text --><span class="hljs-attr" data-reactid="105">&quot;date&quot;</span><!-- react-text: 106 -->: <!-- /react-text --><span class="hljs-string" data-reactid="107">&quot;&quot;</span><!-- react-text: 108 -->,
                <!-- /react-text --><span class="hljs-attr" data-reactid="109">&quot;title&quot;</span><!-- react-text: 110 -->: <!-- /react-text --><span class="hljs-string" data-reactid="111">&quot;&quot;</span><!-- react-text: 112 -->,
                <!-- /react-text --><span class="hljs-attr" data-reactid="113">&quot;tags&quot;</span><!-- react-text: 114 -->: [tagnames...] or <!-- /react-text --><span class="hljs-string" data-reactid="115">&quot;tagname&quot;</span><!-- react-text: 116 -->
            }
        }
    },
    <!-- /react-text --><span class="hljs-attr" data-reactid="117">&quot;index&quot;</span><!-- react-text: 118 -->: {
        <!-- /react-text --><span class="hljs-attr" data-reactid="119">&quot;sorted&quot;</span><!-- react-text: 120 -->: [filenames...],
        <!-- /react-text --><span class="hljs-attr" data-reactid="121">&quot;tagMap&quot;</span><!-- react-text: 122 -->: {
            <!-- /react-text --><span class="hljs-attr" data-reactid="123">&quot;tagname&quot;</span><!-- react-text: 124 -->: [filenames...]
        }
    }
}<!-- /react-text --></code></pre><p data-reactid="125">说明</p><ul data-reactid="126"><li data-reactid="127"><code data-reactid="128">&quot;content&quot;</code><!-- react-text: 129 -->可以通过配置控制, 返回<!-- /react-text --><code data-reactid="130">markdown</code><!-- react-text: 131 -->或者<!-- /react-text --><code data-reactid="132">html</code><!-- react-text: 133 -->(请看下文配置<!-- /react-text --><code data-reactid="134">returnRaw</code><!-- react-text: 135 -->说明)<!-- /react-text --></li><li data-reactid="136"><code data-reactid="137">&quot;head&quot;</code><!-- react-text: 138 -->表示在文章中头部<!-- /react-text --><code data-reactid="139">---...---</code><!-- react-text: 140 -->中解析出来的数据, tags 可以是Array(多个)或String(单个)<!-- /react-text --></li><li data-reactid="141"><code data-reactid="142">&quot;sorted&quot;</code><!-- react-text: 143 -->为按照时间倒序的filenames数组<!-- /react-text --></li><li data-reactid="144"><code data-reactid="145">&quot;tagMap&quot;</code><!-- react-text: 146 -->为所有tag的映射, 即哪些文章包含<!-- /react-text --><code data-reactid="147">&quot;tagname&quot;</code></li></ul><h3 id="配置说明" data-reactid="148"><a href="#%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E" aria-hidden="true" data-reactid="149"><span class="icon icon-link" data-reactid="150"></span></a><!-- react-text: 151 -->配置说明<!-- /react-text --></h3><p data-reactid="152"><!-- react-text: 153 -->主要包含 <!-- /react-text --><code data-reactid="154">default config</code><!-- react-text: 155 -->, <!-- /react-text --><code data-reactid="156">moka.config.json</code><!-- react-text: 157 -->, <!-- /react-text --><code data-reactid="158">theme.config.json</code><!-- react-text: 159 -->, <!-- /react-text --><code data-reactid="160">theme.config.js</code></p><ul data-reactid="161"><li data-reactid="162"><p data-reactid="163"><code data-reactid="164">default config</code><!-- react-text: 165 --> 为<!-- /react-text --><code data-reactid="166">Moka</code><!-- react-text: 167 -->初始配置, 不推荐修改<!-- /react-text --></p><pre data-reactid="168"><code class="hljs language-js" data-query="{}" data-lang="js" data-reactid="169"><!-- react-text: 170 -->{
 <!-- /react-text --><span class="hljs-attr" data-reactid="171">theme</span><!-- react-text: 172 -->: <!-- /react-text --><span class="hljs-string" data-reactid="173">&quot;moka&quot;</span><!-- react-text: 174 -->, <!-- /react-text --><span class="hljs-comment" data-reactid="175">// 当前主题</span><!-- react-text: 176 -->
 apiRoot: <!-- /react-text --><span class="hljs-string" data-reactid="177">&quot;moka_api&quot;</span><!-- react-text: 178 -->, <!-- /react-text --><span class="hljs-comment" data-reactid="179">// moka generate 数据和配置 所存放的文件夹</span><!-- react-text: 180 -->
 
 skipRegExp: <!-- /react-text --><span class="hljs-string" data-reactid="181">&quot;/[^\.(md|markdown)]$/&quot;</span><!-- react-text: 182 -->, <!-- /react-text --><span class="hljs-comment" data-reactid="183">// 在 _articles 中渲染忽略的文件名正则表达式</span><!-- react-text: 184 -->
 
 timeFormat: <!-- /react-text --><span class="hljs-string" data-reactid="185">&quot;YYYY/MM/DD HH:mm:ss&quot;</span><!-- react-text: 186 -->, <!-- /react-text --><span class="hljs-comment" data-reactid="187">// 默认产生的时间格式 (参看moment.js)</span><!-- react-text: 188 -->

 <!-- /react-text --><span class="hljs-comment" data-reactid="189">// marked 配置参看(marked.js: https://github.com/chjj/marked)</span><!-- react-text: 190 -->
 marked: {
     <!-- /react-text --><span class="hljs-attr" data-reactid="191">options</span><!-- react-text: 192 -->: {
         <!-- /react-text --><span class="hljs-attr" data-reactid="193">gfm</span><!-- react-text: 194 -->: <!-- /react-text --><span class="hljs-literal" data-reactid="195">true</span><!-- react-text: 196 -->,
         <!-- /react-text --><span class="hljs-attr" data-reactid="197">tables</span><!-- react-text: 198 -->: <!-- /react-text --><span class="hljs-literal" data-reactid="199">true</span><!-- react-text: 200 -->,
         <!-- /react-text --><span class="hljs-attr" data-reactid="201">breaks</span><!-- react-text: 202 -->: <!-- /react-text --><span class="hljs-literal" data-reactid="203">false</span><!-- react-text: 204 -->,
         <!-- /react-text --><span class="hljs-attr" data-reactid="205">pedantic</span><!-- react-text: 206 -->: <!-- /react-text --><span class="hljs-literal" data-reactid="207">false</span><!-- react-text: 208 -->,
         <!-- /react-text --><span class="hljs-attr" data-reactid="209">sanitize</span><!-- react-text: 210 -->: <!-- /react-text --><span class="hljs-literal" data-reactid="211">false</span><!-- react-text: 212 -->,
         <!-- /react-text --><span class="hljs-attr" data-reactid="213">smartLists</span><!-- react-text: 214 -->: <!-- /react-text --><span class="hljs-literal" data-reactid="215">true</span><!-- react-text: 216 -->,
         <!-- /react-text --><span class="hljs-attr" data-reactid="217">smartypants</span><!-- react-text: 218 -->: <!-- /react-text --><span class="hljs-literal" data-reactid="219">false</span><!-- react-text: 220 -->,
         <!-- /react-text --><span class="hljs-attr" data-reactid="221">highlight</span><!-- react-text: 222 -->: <!-- /react-text --><span class="hljs-function" data-reactid="223"><span class="hljs-keyword" data-reactid="224">function</span><!-- react-text: 225 --> (<!-- /react-text --><span class="hljs-params" data-reactid="226">code</span><!-- react-text: 227 -->) <!-- /react-text --></span><!-- react-text: 228 -->{
             <!-- /react-text --><span class="hljs-keyword" data-reactid="229">return</span><!-- react-text: 230 --> <!-- /react-text --><span class="hljs-built_in" data-reactid="231">require</span><!-- react-text: 232 -->(<!-- /react-text --><span class="hljs-string" data-reactid="233">&#x27;highlight.js&#x27;</span><!-- react-text: 234 -->).highlightAuto(code).value;
         }
     },
     <!-- /react-text --><span class="hljs-attr" data-reactid="235">setup</span><!-- react-text: 236 -->: <!-- /react-text --><span class="hljs-function" data-reactid="237"><span class="hljs-keyword" data-reactid="238">function</span><!-- react-text: 239 --> (<!-- /react-text --><span class="hljs-params" data-reactid="240">renderer</span><!-- react-text: 241 -->) <!-- /react-text --></span><!-- react-text: 242 -->{
         renderer.heading = <!-- /react-text --><span class="hljs-function" data-reactid="243"><span class="hljs-keyword" data-reactid="244">function</span><!-- react-text: 245 --> (<!-- /react-text --><span class="hljs-params" data-reactid="246">text, level</span><!-- react-text: 247 -->) <!-- /react-text --></span><!-- react-text: 248 -->{
             <!-- /react-text --><span class="hljs-keyword" data-reactid="249">var</span><!-- react-text: 250 --> escapedText = text.toLowerCase().replace(<!-- /react-text --><span class="hljs-regexp" data-reactid="251">/[^\w]+/g</span><!-- react-text: 252 -->, <!-- /react-text --><span class="hljs-string" data-reactid="253">&#x27;-&#x27;</span><!-- react-text: 254 -->);

             <!-- /react-text --><span class="hljs-keyword" data-reactid="255">return</span><!-- react-text: 256 --> <!-- /react-text --><span class="hljs-string" data-reactid="257">&#x27;&lt;h&#x27;</span><!-- react-text: 258 --> + level + <!-- /react-text --><span class="hljs-string" data-reactid="259">&#x27;&gt;&lt;a name=&quot;&#x27;</span><!-- react-text: 260 --> +
                 escapedText +
                 <!-- /react-text --><span class="hljs-string" data-reactid="261">&#x27;&quot; class=&quot;anchor&quot; href=&quot;#&#x27;</span><!-- react-text: 262 --> +
                 escapedText +
                 <!-- /react-text --><span class="hljs-string" data-reactid="263">&#x27;&quot;&gt;&lt;span class=&quot;header-link&quot;&gt;&lt;/span&gt;&lt;/a&gt;&#x27;</span><!-- react-text: 264 --> +
                 text + <!-- /react-text --><span class="hljs-string" data-reactid="265">&#x27;&lt;/h&#x27;</span><!-- react-text: 266 --> + level + <!-- /react-text --><span class="hljs-string" data-reactid="267">&#x27;&gt;&#x27;</span><!-- react-text: 268 -->;
         }
     }
 },

 <!-- /react-text --><span class="hljs-attr" data-reactid="269">returnRaw</span><!-- react-text: 270 -->: <!-- /react-text --><span class="hljs-literal" data-reactid="271">false</span><!-- react-text: 272 -->,  <!-- /react-text --><span class="hljs-comment" data-reactid="273">// * 是否返回markdown字符串, 那么需要主题自己转换markdown</span><!-- react-text: 274 -->
 title: <!-- /react-text --><span class="hljs-string" data-reactid="275">&#x27;Blog&#x27;</span><!-- react-text: 276 -->,
 <!-- /react-text --><span class="hljs-attr" data-reactid="277">favicon</span><!-- react-text: 278 -->: <!-- /react-text --><span class="hljs-string" data-reactid="279">&quot;favicon.ico&quot;</span><!-- react-text: 280 -->, <!-- /react-text --><span class="hljs-comment" data-reactid="281">// 网站图标</span><!-- react-text: 282 -->
 injectScript: <!-- /react-text --><span class="hljs-literal" data-reactid="283">true</span><!-- react-text: 284 -->,  <!-- /react-text --><span class="hljs-comment" data-reactid="285">// 是否注入`moka.inject.js`</span><!-- react-text: 286 -->
 themeBuild: <!-- /react-text --><span class="hljs-string" data-reactid="287">&quot;build&quot;</span><!-- react-text: 288 --> <!-- /react-text --><span class="hljs-comment" data-reactid="289">// 将会取 themes/moka/build 中文件放到 static 中, 认为build为生产环境代码</span><!-- react-text: 290 -->
}<!-- /react-text --></code></pre></li><li data-reactid="291"><p data-reactid="292"><code data-reactid="293">moka.config.json</code><!-- react-text: 294 --> 为全局站点配置, 在<!-- /react-text --><code data-reactid="295">apiRoot</code><!-- react-text: 296 -->中可以得到<!-- /react-text --></p><pre data-reactid="297"><code class="hljs language-js" data-query="{}" data-lang="js" data-reactid="298"><!-- react-text: 299 -->{
    <!-- /react-text --><span class="hljs-string" data-reactid="300">&quot;theme&quot;</span><!-- react-text: 301 -->: <!-- /react-text --><span class="hljs-string" data-reactid="302">&quot;moka&quot;</span><!-- react-text: 303 -->,
    <!-- /react-text --><span class="hljs-string" data-reactid="304">&quot;title&quot;</span><!-- react-text: 305 -->: <!-- /react-text --><span class="hljs-string" data-reactid="306">&quot;Moyu Blog&quot;</span><!-- react-text: 307 -->,
    <!-- /react-text --><span class="hljs-string" data-reactid="308">&quot;favicon&quot;</span><!-- react-text: 309 -->: <!-- /react-text --><span class="hljs-string" data-reactid="310">&quot;favicon.ico&quot;</span><!-- react-text: 311 -->,
    <!-- /react-text --><span class="hljs-string" data-reactid="312">&quot;author&quot;</span><!-- react-text: 313 -->: <!-- /react-text --><span class="hljs-string" data-reactid="314">&quot;moyu&quot;</span><!-- react-text: 315 -->,
    <!-- /react-text --><span class="hljs-string" data-reactid="316">&quot;description&quot;</span><!-- react-text: 317 -->: <!-- /react-text --><span class="hljs-string" data-reactid="318">&quot;moyu Blog&quot;</span><!-- react-text: 319 -->,
    <!-- /react-text --><span class="hljs-string" data-reactid="320">&quot;siteName&quot;</span><!-- react-text: 321 -->: <!-- /react-text --><span class="hljs-string" data-reactid="322">&quot;site&quot;</span><!-- react-text: 323 -->,
    
    <!-- /react-text --><span class="hljs-comment" data-reactid="324">// moka generate 配置</span><!-- react-text: 325 -->
    <!-- /react-text --><span class="hljs-string" data-reactid="326">&quot;deploy&quot;</span><!-- react-text: 327 -->: {
        <!-- /react-text --><span class="hljs-string" data-reactid="328">&quot;type&quot;</span><!-- react-text: 329 -->: <!-- /react-text --><span class="hljs-string" data-reactid="330">&quot;git&quot;</span><!-- react-text: 331 -->,
        <!-- /react-text --><span class="hljs-string" data-reactid="332">&quot;url&quot;</span><!-- react-text: 333 -->: <!-- /react-text --><span class="hljs-string" data-reactid="334">&quot;https://github.com/moyuyc/moyuyc.github.io.git&quot;</span><!-- react-text: 335 -->,
        <!-- /react-text --><span class="hljs-string" data-reactid="336">&quot;branch&quot;</span><!-- react-text: 337 -->: <!-- /react-text --><span class="hljs-string" data-reactid="338">&quot;master&quot;</span><!-- react-text: 339 -->
    }
}<!-- /react-text --></code></pre></li><li data-reactid="340"><p data-reactid="341"><code data-reactid="342">theme.config.json</code><!-- react-text: 343 --> 为主题配置, 在<!-- /react-text --><code data-reactid="344">apiRoot</code><!-- react-text: 345 -->中可以得到, 完全为主题开发者自定义<!-- /react-text --></p><p data-reactid="346"><!-- react-text: 347 -->关于默认主题配置说明, 请看<!-- /react-text --><a href="/THEME_README.md" data-reactid="348">theme readme</a></p></li><li data-reactid="349"><p data-reactid="350"><code data-reactid="351">theme.config.js</code><!-- react-text: 352 --> 为了主题开放者也能够控制<!-- /react-text --><code data-reactid="353">Moka</code><!-- react-text: 354 -->产生数据, 可以修改该文件, 从而覆盖默认配置<!-- /react-text --></p><pre data-reactid="355"><code data-query="{}" data-lang="data-lang" data-reactid="356">module.exports = {
    apiRoot: &quot;moka_api&quot;,
    skipRegExp: &quot;/[^\.(md|markdown)]$/&quot;,
    //http://momentjs.com/
    timeFormat: &#x27;YYYY-MM-DD HH:mm&#x27;, // 返回的时间格式

    marked: {
        options: {
            gfm: true,
            tables: true,
            breaks: false,
            pedantic: false,
            sanitize: false,
            smartLists: true,
            smartypants: false
        },
        setup: function (renderer) {
            // 在这里控制renderer规则, 详细请看 marked
        }
    },
    
    returnRaw: false,
    themeBuild: &quot;build&quot;,
}
</code></pre></li></ul><h3 id="闲话" data-reactid="357"><a href="#%E9%97%B2%E8%AF%9D" aria-hidden="true" data-reactid="358"><span class="icon icon-link" data-reactid="359"></span></a><!-- react-text: 360 -->闲话<!-- /react-text --></h3><p data-reactid="361"><!-- react-text: 362 -->开发者可以通过<!-- /react-text --><code data-reactid="363">ajax/fetch/...</code><!-- react-text: 364 -->异步获取 <!-- /react-text --><code data-reactid="365">apiRoot</code><!-- react-text: 366 -->配置下的<!-- /react-text --><code data-reactid="367">db.json/moka.config.json/theme.config.json</code></p><p data-reactid="368"><!-- react-text: 369 -->然后尽情用<!-- /react-text --><code data-reactid="370">react/vue/webpack/...</code><!-- react-text: 371 -->开发自己喜欢的主题吧。<!-- /react-text --></p><p data-reactid="372"><!-- react-text: 373 -->还有默认主题是用<!-- /react-text --><code data-reactid="374">react/webpack</code><!-- react-text: 375 -->开发的, 但...不幸的是, 本人误操作把源码都删了..., 但万幸的是...留下了build, 生产环境的代码...<!-- /react-text --></p><p data-reactid="376"><a href="https://github.com/moyuyc/moka" data-reactid="377">star</a></p><h2 id="moka主题配置" data-reactid="378"><a href="#moka%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE" aria-hidden="true" data-reactid="379"><span class="icon icon-link" data-reactid="380"></span></a><!-- react-text: 381 -->Moka主题配置<!-- /react-text --></h2><p data-reactid="382"><!-- react-text: 383 -->默认主题是用<!-- /react-text --><code data-reactid="384">react/webpack</code><!-- react-text: 385 -->开发的, 但...不幸的是, 本人误操作把源码都删了..., 但万幸的是...留下了build, 生产环境的代码...<!-- /react-text --></p><pre data-reactid="386"><code class="hljs language-js" data-query="{}" data-lang="js" data-reactid="387"><!-- react-text: 388 -->{
  <!-- /react-text --><span class="hljs-string" data-reactid="389">&quot;avatar&quot;</span><!-- react-text: 390 -->: <!-- /react-text --><span class="hljs-string" data-reactid="391">&quot;/head.jpg&quot;</span><!-- react-text: 392 -->, <!-- /react-text --><span class="hljs-comment" data-reactid="393">// 头像</span><!-- react-text: 394 -->
  <!-- /react-text --><span class="hljs-string" data-reactid="395">&quot;title&quot;</span><!-- react-text: 396 -->: <!-- /react-text --><span class="hljs-string" data-reactid="397">&quot; Moyu Dev Blog &quot;</span><!-- react-text: 398 -->, <!-- /react-text --><span class="hljs-comment" data-reactid="399">// 网站title</span><!-- react-text: 400 -->
  <!-- /react-text --><span class="hljs-string" data-reactid="401">&quot;description&quot;</span><!-- react-text: 402 -->: <!-- /react-text --><span class="hljs-string" data-reactid="403">&quot; Web, Node C/C++ Dev &quot;</span><!-- react-text: 404 -->,

  <!-- /react-text --><span class="hljs-string" data-reactid="405">&quot;mainInfoColor&quot;</span><!-- react-text: 406 -->: <!-- /react-text --><span class="hljs-string" data-reactid="407">&quot;&quot;</span><!-- react-text: 408 -->, <!-- /react-text --><span class="hljs-comment" data-reactid="409">// 首页信息的文字颜色, 默认白色</span><!-- react-text: 410 -->
  <!-- /react-text --><span class="hljs-string" data-reactid="411">&quot;canvasColor&quot;</span><!-- react-text: 412 -->: <!-- /react-text --><span class="hljs-string" data-reactid="413">&quot;&quot;</span><!-- react-text: 414 -->,   <!-- /react-text --><span class="hljs-comment" data-reactid="415">// 首页飘散的雪花颜色</span><!-- react-text: 416 -->

  <!-- /react-text --><span class="hljs-string" data-reactid="417">&quot;leftPercentage&quot;</span><!-- react-text: 418 -->: <!-- /react-text --><span class="hljs-number" data-reactid="419">50</span><!-- react-text: 420 -->,<!-- /react-text --><span class="hljs-comment" data-reactid="421">// 左侧百分比, 右侧将会自动为100-leftPercentage, &lt;=0 将会在非首页页面隐藏left</span><!-- react-text: 422 -->

  <!-- /react-text --><span class="hljs-string" data-reactid="423">&quot;pageSize&quot;</span><!-- react-text: 424 -->: <!-- /react-text --><span class="hljs-number" data-reactid="425">6</span><!-- react-text: 426 -->, <!-- /react-text --><span class="hljs-comment" data-reactid="427">// 每页文章数目, &lt;=0 一页展示所有</span><!-- react-text: 428 -->
  <!-- /react-text --><span class="hljs-string" data-reactid="429">&quot;summaryNum&quot;</span><!-- react-text: 430 -->: <!-- /react-text --><span class="hljs-number" data-reactid="431">50</span><!-- react-text: 432 -->, <!-- /react-text --><span class="hljs-comment" data-reactid="433">// 摘要的文字截断字数</span><!-- react-text: 434 -->

  <!-- /react-text --><span class="hljs-string" data-reactid="435">&quot;postTarget&quot;</span><!-- react-text: 436 -->: <!-- /react-text --><span class="hljs-string" data-reactid="437">&quot;_blank&quot;</span><!-- react-text: 438 -->, <!-- /react-text --><span class="hljs-comment" data-reactid="439">// 文章中link的跳转方式</span><!-- react-text: 440 -->
  <!-- /react-text --><span class="hljs-string" data-reactid="441">&quot;iconTarget&quot;</span><!-- react-text: 442 -->: <!-- /react-text --><span class="hljs-string" data-reactid="443">&quot;_blank&quot;</span><!-- react-text: 444 -->, <!-- /react-text --><span class="hljs-comment" data-reactid="445">// 左侧icon的link的跳转方式</span><!-- react-text: 446 -->
  <!-- /react-text --><span class="hljs-string" data-reactid="447">&quot;projectTarget&quot;</span><!-- react-text: 448 -->: <!-- /react-text --><span class="hljs-string" data-reactid="449">&quot;_blank&quot;</span><!-- react-text: 450 -->, <!-- /react-text --><span class="hljs-comment" data-reactid="451">// project中link的跳转方式</span><!-- react-text: 452 -->

  <!-- /react-text --><span class="hljs-string" data-reactid="453">&quot;home&quot;</span><!-- react-text: 454 -->: { <!-- /react-text --><span class="hljs-comment" data-reactid="455">// 首页中右侧文字内容</span><!-- react-text: 456 -->
    <!-- /react-text --><span class="hljs-string" data-reactid="457">&quot;title&quot;</span><!-- react-text: 458 -->: <!-- /react-text --><span class="hljs-string" data-reactid="459">&quot;About Me&quot;</span><!-- react-text: 460 -->,
    <!-- /react-text --><span class="hljs-string" data-reactid="461">&quot;contentHtml&quot;</span><!-- react-text: 462 -->: <!-- /react-text --><span class="hljs-string" data-reactid="463">&quot;&lt;p&gt;I’m a Javascript enthusiast. I organise Baidu BEFE Meetup and try my best to help out with the team. I’m also a member of the core dev team.&lt;/p&gt;&lt;p&gt;&lt;img class=&#x27;emoji&#x27; src=&#x27;http://emojipedia-us.s3.amazonaws.com/cache/08/84/088419f4d97c19762c29008c4a89bbf4.png&#x27;/&gt;&lt;/p&gt;&quot;</span><!-- react-text: 464 -->
  },
  <!-- /react-text --><span class="hljs-comment" data-reactid="465">// projects</span><!-- react-text: 466 -->
  <!-- /react-text --><span class="hljs-string" data-reactid="467">&quot;projects&quot;</span><!-- react-text: 468 -->: [
    {
      <!-- /react-text --><span class="hljs-string" data-reactid="469">&quot;title&quot;</span><!-- react-text: 470 -->: <!-- /react-text --><span class="hljs-string" data-reactid="471">&quot;Moyu Theme&quot;</span><!-- react-text: 472 -->,
      <!-- /react-text --><span class="hljs-string" data-reactid="473">&quot;state&quot;</span><!-- react-text: 474 -->: <!-- /react-text --><span class="hljs-string" data-reactid="475">&quot;Doing&quot;</span><!-- react-text: 476 -->, <!-- /react-text --><span class="hljs-comment" data-reactid="477">//可无</span><!-- react-text: 478 -->
      <!-- /react-text --><span class="hljs-string" data-reactid="479">&quot;image&quot;</span><!-- react-text: 480 -->: <!-- /react-text --><span class="hljs-string" data-reactid="481">&quot;https://raw.githubusercontent.com/TaylanTatli/Ramme/master/assets/img/screenshot-post.png&quot;</span><!-- react-text: 482 -->
      <!-- /react-text --><span class="hljs-string" data-reactid="483">&quot;link&quot;</span><!-- react-text: 484 -->: <!-- /react-text --><span class="hljs-string" data-reactid="485">&quot;&quot;</span><!-- react-text: 486 --> <!-- /react-text --><span class="hljs-comment" data-reactid="487">// 点击跳转地址</span><!-- react-text: 488 -->
    },
    {
      <!-- /react-text --><span class="hljs-string" data-reactid="489">&quot;title&quot;</span><!-- react-text: 490 -->: <!-- /react-text --><span class="hljs-string" data-reactid="491">&quot;Moyu Theme&quot;</span><!-- react-text: 492 -->,
      <!-- /react-text --><span class="hljs-string" data-reactid="493">&quot;state&quot;</span><!-- react-text: 494 -->: <!-- /react-text --><span class="hljs-string" data-reactid="495">&quot;Doing&quot;</span><!-- react-text: 496 -->,
      <!-- /react-text --><span class="hljs-string" data-reactid="497">&quot;image&quot;</span><!-- react-text: 498 -->: <!-- /react-text --><span class="hljs-string" data-reactid="499">&quot;https://raw.githubusercontent.com/TaylanTatli/Ramme/master/assets/img/screenshot-post.png&quot;</span><!-- react-text: 500 -->
    },
    {
      <!-- /react-text --><span class="hljs-string" data-reactid="501">&quot;title&quot;</span><!-- react-text: 502 -->: <!-- /react-text --><span class="hljs-string" data-reactid="503">&quot;Moyu Theme&quot;</span><!-- react-text: 504 -->,
      <!-- /react-text --><span class="hljs-string" data-reactid="505">&quot;state&quot;</span><!-- react-text: 506 -->: <!-- /react-text --><span class="hljs-string" data-reactid="507">&quot;Doing&quot;</span><!-- react-text: 508 -->,
      <!-- /react-text --><span class="hljs-string" data-reactid="509">&quot;image&quot;</span><!-- react-text: 510 -->: <!-- /react-text --><span class="hljs-string" data-reactid="511">&quot;https://raw.githubusercontent.com/TaylanTatli/Ramme/master/assets/img/screenshot-post.png&quot;</span><!-- react-text: 512 -->
    },
    {
      <!-- /react-text --><span class="hljs-string" data-reactid="513">&quot;title&quot;</span><!-- react-text: 514 -->: <!-- /react-text --><span class="hljs-string" data-reactid="515">&quot;Moyu Theme&quot;</span><!-- react-text: 516 -->,
      <!-- /react-text --><span class="hljs-string" data-reactid="517">&quot;state&quot;</span><!-- react-text: 518 -->: <!-- /react-text --><span class="hljs-string" data-reactid="519">&quot;Doing&quot;</span><!-- react-text: 520 -->,
      <!-- /react-text --><span class="hljs-string" data-reactid="521">&quot;image&quot;</span><!-- react-text: 522 -->: <!-- /react-text --><span class="hljs-string" data-reactid="523">&quot;https://raw.githubusercontent.com/TaylanTatli/Ramme/master/assets/img/screenshot-post.png&quot;</span><!-- react-text: 524 -->
    },
    {
      <!-- /react-text --><span class="hljs-string" data-reactid="525">&quot;title&quot;</span><!-- react-text: 526 -->: <!-- /react-text --><span class="hljs-string" data-reactid="527">&quot;Moyu Theme&quot;</span><!-- react-text: 528 -->,
      <!-- /react-text --><span class="hljs-string" data-reactid="529">&quot;state&quot;</span><!-- react-text: 530 -->: <!-- /react-text --><span class="hljs-string" data-reactid="531">&quot;Doing&quot;</span><!-- react-text: 532 -->,
      <!-- /react-text --><span class="hljs-string" data-reactid="533">&quot;image&quot;</span><!-- react-text: 534 -->: <!-- /react-text --><span class="hljs-string" data-reactid="535">&quot;https://raw.githubusercontent.com/TaylanTatli/Ramme/master/assets/img/screenshot-post.png&quot;</span><!-- react-text: 536 -->
    }
  ],

  <!-- /react-text --><span class="hljs-string" data-reactid="537">&quot;icon&quot;</span><!-- react-text: 538 -->: [ <!-- /react-text --><span class="hljs-comment" data-reactid="539">// 左侧icons key命名参看font-awesome.css</span><!-- react-text: 540 -->
    {
      <!-- /react-text --><span class="hljs-string" data-reactid="541">&quot;github&quot;</span><!-- react-text: 542 -->: <!-- /react-text --><span class="hljs-string" data-reactid="543">&quot;https://github.com/moyuyc&quot;</span><!-- react-text: 544 -->
    }
  ],

  <!-- /react-text --><span class="hljs-string" data-reactid="545">&quot;coverImage&quot;</span><!-- react-text: 546 -->: { <!-- /react-text --><span class="hljs-comment" data-reactid="547">// 左侧封面</span><!-- react-text: 548 -->
    <!-- /react-text --><span class="hljs-string" data-reactid="549">&quot;images&quot;</span><!-- react-text: 550 -->: {
      <!-- /react-text --><span class="hljs-string" data-reactid="551">&quot;tags&quot;</span><!-- react-text: 552 -->: <!-- /react-text --><span class="hljs-string" data-reactid="553">&quot;http://taylantatli.me/Halve/images/unsplash-gallery-image-3.jpg&quot;</span><!-- react-text: 554 -->,
      <!-- /react-text --><span class="hljs-string" data-reactid="555">&quot;home&quot;</span><!-- react-text: 556 -->: <!-- /react-text --><span class="hljs-string" data-reactid="557">&quot;http://taylantatli.me/Halve/images/unsplash-image-10.jpg&quot;</span><!-- react-text: 558 -->,
      <!-- /react-text --><span class="hljs-string" data-reactid="559">&quot;article&quot;</span><!-- react-text: 560 -->: <!-- /react-text --><span class="hljs-string" data-reactid="561">&quot;http://taylantatli.me/Halve/images/unsplash-gallery-image-3.jpg&quot;</span><!-- react-text: 562 -->,
      <!-- /react-text --><span class="hljs-string" data-reactid="563">&quot;serach&quot;</span><!-- react-text: 564 -->: <!-- /react-text --><span class="hljs-string" data-reactid="565">&quot;http://taylantatli.me/Halve/images/unsplash-image-10.jpg&quot;</span><!-- react-text: 566 -->,
      <!-- /react-text --><span class="hljs-string" data-reactid="567">&quot;notExist&quot;</span><!-- react-text: 568 -->: <!-- /react-text --><span class="hljs-string" data-reactid="569">&quot;http://taylantatli.me/Halve/images/unsplash-gallery-image-3.jpg&quot;</span><!-- react-text: 570 -->,
      <!-- /react-text --><span class="hljs-string" data-reactid="571">&quot;posts&quot;</span><!-- react-text: 572 -->: [ <!-- /react-text --><span class="hljs-comment" data-reactid="573">// posts可为数组(对于每一页), 可为字符串</span><!-- react-text: 574 -->
        <!-- /react-text --><span class="hljs-string" data-reactid="575">&quot;http://taylantatli.me/Halve/images/unsplash-image-10.jpg&quot;</span><!-- react-text: 576 -->,
        <!-- /react-text --><span class="hljs-string" data-reactid="577">&quot;http://taylantatli.me/Halve/images/home.png&quot;</span><!-- react-text: 578 -->,
        <!-- /react-text --><span class="hljs-string" data-reactid="579">&quot;http://taylantatli.me/Halve/images/unsplash-gallery-image-3.jpg&quot;</span><!-- react-text: 580 -->
      ]
    },
    
    <!-- /react-text --><span class="hljs-string" data-reactid="581">&quot;articleCover&quot;</span><!-- react-text: 582 -->: <!-- /react-text --><span class="hljs-literal" data-reactid="583">true</span><!-- react-text: 584 -->   <!-- /react-text --><span class="hljs-comment" data-reactid="585">// 是否开启文章封面, 在文章头部配置 `cover: ...` 效果请看默认文章`Linux C学习一周`</span><!-- react-text: 586 -->
  }
}<!-- /react-text --></code></pre></article></div><div class="gitment-container" data-reactid="587"></div><div class="paginator" data-reactid="588"><a title="LinuxC OSX sendfile()" class="prev" href="/linux-c-osx-sendfile" data-reactid="589">Prev</a><a title="npm命令行小结" class="next" href="/npm-cached-option" data-reactid="590">Next</a></div></div></main><footer data-reactid="591"><div class="copyright" data-reactid="592"><p data-reactid="593"><!-- react-text: 594 -->© 2017. Powered By <!-- /react-text --><a href="https://github.com/picidaejs/picidae" data-reactid="595">Picidae</a></p></div></footer></div>
</div>
<audio id="music" controls autoplay src="http://www.170mv.com/kw/other.web.ri01.sycdn.kuwo.cn/resource/n3/25/67/3891786006.mp3"></audio>
<script>
  !function () {
    var a = document.getElementById("music")
    a && (a.volume = 1)
  }()
</script>
<script src="/PICIDAE_COMMON.js"></script>
<script src="/PICIDAE_ENTRY.js"></script>
</body>
</html>
