<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="/favicon.png" />
    <title> ä»é›¶å¼€å§‹å†™Babelæ’ä»¶ - Grass </title>
    <link rel="stylesheet" href="/style.css">
    <style>
        #music {
            position: fixed;
            top: 10px;
            left: 10px;
        }
    </style>
</head>
<body>
<div id="root">
    <div class="wrap" data-reactroot="" data-reactid="1" data-react-checksum="1636878588"><header data-reactid="2"><a class="logo-link" href="/" data-reactid="3"><img src="/favicon.png" data-reactid="4"/></a><ul class="nav nav-list" data-reactid="5"><li class="nav-list-item" data-reactid="6"><a class="nav-list-link" href="/posts/1" data-reactid="7">Posts</a></li></ul></header><main data-reactid="8"><div class="post" data-reactid="9"><article class="post-block" data-reactid="10"><h1 class="post-title" data-reactid="11">ä»é›¶å¼€å§‹å†™Babelæ’ä»¶</h1><div class="post-info" data-reactid="12"><time datetime="2017-11-30T09:42:58+00:00" data-reactid="13">Nov 30, 2017 9:42 AM</time></div></article><div class="post-content" data-reactid="14"><article data-reactid="15"><style data-reactid="16">.transformer-react-render{border:1px dashed #959da5;border-radius:5px;display:block}.transformer-react-render-container&gt;pre{max-height:400px;transition:all .2s ease}.transformer-react-render-container&gt;pre.focused{max-height:none;box-shadow:0 0 6px rgba(0,0,0,.2)}</style><p data-reactid="17">åœ¨ç°ä»£Webå‰ç«¯å¼€å‘ä¸­ï¼Œç¦»ä¸å¼€JavaScript es6/7ï¼Œè€Œ ES6/7 ä¸­æœ€å¸¸ç”¨çš„è¯­æ³•ç¿»è¯‘å½“å± Babel äº†ã€‚</p><p data-reactid="18">è¿™ç¯‡æ–‡ç« å°†å¸¦è¯»è€…ä»é›¶å¼€å§‹å¼€å‘ä¸€ä¸ªè‡ªå®šä¹‰çš„Babelæ’ä»¶ã€‚</p><h2 id="babelæ˜¯ä»€ä¹ˆ" data-reactid="19"><a href="#babel%E6%98%AF%E4%BB%80%E4%B9%88" aria-hidden="true" data-reactid="20"><span class="icon icon-link" data-reactid="21"></span></a><!-- react-text: 22 -->Babelæ˜¯ä»€ä¹ˆ<!-- /react-text --></h2><p data-reactid="23"><!-- react-text: 24 -->Babel ä½¿ç”¨ babylon è§£æ JavaScript ä»£ç ï¼Œå¾—åˆ°æŠ½è±¡è¯­æ³•æ ‘ï¼ˆAbstract Syntax Treeï¼Œåæ–‡ç®€ç§° ASTï¼‰ã€‚<!-- /react-text --><br data-reactid="25"/><!-- react-text: 26 -->åŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨<!-- /react-text --><code data-reactid="27">babel-generator</code><!-- react-text: 28 -->ï¼Œè¾“å…¥ä¸€ä¸ªåˆæ³•çš„ ASTï¼Œè¿˜åŸæˆ JavaScript ä»£ç <!-- /react-text --></p><div data-reactid="29"><style data-reactid="30">
.medium-image-progressive-container {
  position: relative;
  width: 100%;
  margin: 0 auto;
  margin-top: 43px;
  display: block;
}
.image-loaded.medium-image-progressive canvas {
  visibility: hidden;
  opacity: 0;
  -webkit-transition: visibility 0s linear .5s,opacity .1s .4s;
  transition: visibility 0s linear .5s,opacity .1s .4s;
}
.image-loaded.medium-image-progressive .medium-image-origin {
  visibility: visible;
  opacity: 1;
  -webkit-transition: visibility 0s linear 0s,opacity .4s 0s;
  transition: visibility 0s linear 0s,opacity .4s 0s;
}
.medium-image-progressive-container .medium-image-progressive:not(.image-loaded):not(.canvas-loaded) {
  background-color: rgba(0, 0, 0, 0.05);
}
.medium-image-progressive-container .medium-image-progressive {
  position: absolute;
  top:0;left:0;width:100%;height:100%;
  max-width: 100%;
}
.medium-image-progressive-container .medium-image-origin,
.medium-image-progressive-container .medium-image-progressive canvas {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}
.medium-image-progressive-container img, .medium-image-progressive-container canvas {
  margin: 0 auto;
}
.medium-image-progressive-container .canvas-loaded.medium-image-progressive:not(.image-loaded) canvas {
  visibility: visible;
  opacity: 1;
  -webkit-transition: visibility 0s linear 0s,opacity .4s 0s;
  transition: visibility 0s linear 0s,opacity .4s 0s;
}
.medium-image-progressive-container .medium-image-origin,
.medium-image-progressive-container .medium-image-progressive canvas {
  visibility: hidden;
  opacity: 0;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}
</style><div class="medium-image-progressive-container" style="max-width:434px;max-height:434pxpx;" data-reactid="31"><div class="medium-image-progressive-placeholder" style="padding-bottom:22.58064516129032%;" data-reactid="32"></div><div class="medium-image-progressive" data-reactid="33"><canvas data-reactid="34"></canvas><img class="medium-image-progress" src="false" style="display:none;" data-reactid="35"/><img class="medium-image-origin" src="http://obu9je6ng.bkt.clouddn.com/FkKXk5xwPpo_reQHW3U3Y_yGF991?imageslim" data-reactid="36"/><noscript data-reactid="37"><img class="medium-image-origin" src="http://obu9je6ng.bkt.clouddn.com/FkKXk5xwPpo_reQHW3U3Y_yGF991?imageslim" data-reactid="38"/></noscript></div></div></div><p data-reactid="39">ä»£ç å¦‚ä¸‹ï¼š</p><pre data-reactid="40"><code class="hljs language-javascript" data-query="{}" data-lang="javascript" data-reactid="41"><!-- react-text: 42 -->cosnt babel = <!-- /react-text --><span class="hljs-built_in" data-reactid="43">require</span><!-- react-text: 44 -->(<!-- /react-text --><span class="hljs-string" data-reactid="45">&#x27;babel-core&#x27;</span><!-- react-text: 46 -->)
<!-- /react-text --><span class="hljs-keyword" data-reactid="47">const</span><!-- react-text: 48 --> code = <!-- /react-text --><span class="hljs-string" data-reactid="49">`
import e from &#x27;./where&#x27;
const [ a, b, c ] = [ 1, 2, 3 ]
`</span><!-- react-text: 50 -->
<!-- /react-text --><span class="hljs-keyword" data-reactid="51">const</span><!-- react-text: 52 --> { ast } = babel.transform(code, { <!-- /react-text --><span class="hljs-attr" data-reactid="53">ast</span><!-- react-text: 54 -->: <!-- /react-text --><span class="hljs-literal" data-reactid="55">true</span><!-- react-text: 56 --> })

<!-- /react-text --><span class="hljs-keyword" data-reactid="57">const</span><!-- react-text: 58 --> generate = <!-- /react-text --><span class="hljs-built_in" data-reactid="59">require</span><!-- react-text: 60 -->(<!-- /react-text --><span class="hljs-string" data-reactid="61">&#x27;babel-generator&#x27;</span><!-- react-text: 62 -->)
<!-- /react-text --><span class="hljs-keyword" data-reactid="63">const</span><!-- react-text: 64 --> { <!-- /react-text --><span class="hljs-attr" data-reactid="65">code</span><!-- react-text: 66 -->: codeFromBabel } = generate(ast)<!-- /react-text --></code></pre><h3 id="ast" data-reactid="67"><a href="#ast" aria-hidden="true" data-reactid="68"><span class="icon icon-link" data-reactid="69"></span></a><!-- react-text: 70 -->AST<!-- /react-text --></h3><p data-reactid="71"><!-- react-text: 72 -->ast åœ¨è¿™æ˜¯æŒ‡å°† JavaScript ä»£ç è¿›è¡Œè§£æå¾—åˆ°çš„æŠ½è±¡è¯­æ³•æ ‘ï¼ˆæ•°æ®ç»“æ„ï¼‰ã€‚<!-- /react-text --><br data-reactid="73"/><!-- react-text: 74 -->å¦‚ä»£ç <!-- /react-text --></p><pre data-reactid="75"><code class="hljs language-javascript" data-query="{}" data-lang="javascript" data-reactid="76"><span class="hljs-keyword" data-reactid="77">const</span><!-- react-text: 78 --> key = <!-- /react-text --><span class="hljs-string" data-reactid="79">&#x27;value&#x27;</span></code></pre><p data-reactid="80"><!-- react-text: 81 -->è§£æäº§ç”Ÿçš„ AST å¦‚ä¸‹å›¾æ‰€ç¤º <!-- /react-text --><div data-reactid="82"><style data-reactid="83">
.medium-image-progressive-container {
  position: relative;
  width: 100%;
  margin: 0 auto;
  margin-top: 43px;
  display: block;
}
.image-loaded.medium-image-progressive canvas {
  visibility: hidden;
  opacity: 0;
  -webkit-transition: visibility 0s linear .5s,opacity .1s .4s;
  transition: visibility 0s linear .5s,opacity .1s .4s;
}
.image-loaded.medium-image-progressive .medium-image-origin {
  visibility: visible;
  opacity: 1;
  -webkit-transition: visibility 0s linear 0s,opacity .4s 0s;
  transition: visibility 0s linear 0s,opacity .4s 0s;
}
.medium-image-progressive-container .medium-image-progressive:not(.image-loaded):not(.canvas-loaded) {
  background-color: rgba(0, 0, 0, 0.05);
}
.medium-image-progressive-container .medium-image-progressive {
  position: absolute;
  top:0;left:0;width:100%;height:100%;
  max-width: 100%;
}
.medium-image-progressive-container .medium-image-origin,
.medium-image-progressive-container .medium-image-progressive canvas {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}
.medium-image-progressive-container img, .medium-image-progressive-container canvas {
  margin: 0 auto;
}
.medium-image-progressive-container .canvas-loaded.medium-image-progressive:not(.image-loaded) canvas {
  visibility: visible;
  opacity: 1;
  -webkit-transition: visibility 0s linear 0s,opacity .4s 0s;
  transition: visibility 0s linear 0s,opacity .4s 0s;
}
.medium-image-progressive-container .medium-image-origin,
.medium-image-progressive-container .medium-image-progressive canvas {
  visibility: hidden;
  opacity: 0;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}
</style><div class="medium-image-progressive-container" style="max-width:426px;max-height:426pxpx;" data-reactid="84"><div class="medium-image-progressive-placeholder" style="padding-bottom:114.55399061032865%;" data-reactid="85"></div><div class="medium-image-progressive" data-reactid="86"><canvas data-reactid="87"></canvas><img class="medium-image-progress" src="false" style="display:none;" data-reactid="88"/><img class="medium-image-origin" src="http://obu9je6ng.bkt.clouddn.com/Foe8OrdCEPOhQX4-VHbqkOtDruF9?imageslim" data-reactid="89"/><noscript data-reactid="90"><img class="medium-image-origin" src="http://obu9je6ng.bkt.clouddn.com/Foe8OrdCEPOhQX4-VHbqkOtDruF9?imageslim" data-reactid="91"/></noscript></div></div></div></p><p data-reactid="92"><!-- react-text: 93 -->å»ºè®®ä½¿ç”¨ <!-- /react-text --><a href="http://astexplorer.net/#/Z1exs6BWMq" data-reactid="94">AST Explorer</a><!-- react-text: 95 --> åœ¨çº¿é¢„è§ˆ AST<!-- /react-text --></p><h2 id="plugin-å’Œ-preset" data-reactid="96"><a href="#plugin-%E5%92%8C-preset" aria-hidden="true" data-reactid="97"><span class="icon icon-link" data-reactid="98"></span></a><!-- react-text: 99 -->Plugin å’Œ Preset<!-- /react-text --></h2><p data-reactid="100">æˆ‘ä»¬åœ¨ä½¿ç”¨ Babel çš„æ—¶å€™ï¼Œé€šå¸¸éœ€è¦é…ç½®ä¸€äº›é¢„è®¾ï¼ˆpresetsï¼‰å’Œæ’ä»¶ï¼ˆpluginsï¼‰ã€‚ å¦‚</p><pre data-reactid="101"><code class="hljs language-json" data-query="{}" data-lang="json" data-reactid="102"><!-- react-text: 103 -->{
  <!-- /react-text --><span class="hljs-attr" data-reactid="104">&quot;presets&quot;</span><!-- react-text: 105 -->: [<!-- /react-text --><span class="hljs-string" data-reactid="106">&quot;env&quot;</span><!-- react-text: 107 -->],
  <!-- /react-text --><span class="hljs-attr" data-reactid="108">&quot;plugins&quot;</span><!-- react-text: 109 -->: [<!-- /react-text --><span class="hljs-string" data-reactid="110">&quot;async-to-generator&quot;</span><!-- react-text: 111 -->]
}<!-- /react-text --></code></pre><p data-reactid="112"><!-- react-text: 113 -->å…¶å®ï¼Œpresetæ˜¯ä¸€å †pluginçš„ç»“åˆï¼Œé‚£ä¹ˆpluginåˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ<!-- /react-text --><br data-reactid="114"/><!-- react-text: 115 -->å¦‚ä¸‹å›¾ï¼Œplugin ä¼šè½¬æ¢ ASTï¼Œå¯¹ AST è¿›è¡Œå¤„ç†ï¼Œä»è€Œä¹Ÿèƒ½å¤Ÿå½±å“åˆ°äº§ç”Ÿå‡ºæ¥çš„ JS Codeã€‚<!-- /react-text --></p><div data-reactid="116"><style data-reactid="117">
.medium-image-progressive-container {
  position: relative;
  width: 100%;
  margin: 0 auto;
  margin-top: 43px;
  display: block;
}
.image-loaded.medium-image-progressive canvas {
  visibility: hidden;
  opacity: 0;
  -webkit-transition: visibility 0s linear .5s,opacity .1s .4s;
  transition: visibility 0s linear .5s,opacity .1s .4s;
}
.image-loaded.medium-image-progressive .medium-image-origin {
  visibility: visible;
  opacity: 1;
  -webkit-transition: visibility 0s linear 0s,opacity .4s 0s;
  transition: visibility 0s linear 0s,opacity .4s 0s;
}
.medium-image-progressive-container .medium-image-progressive:not(.image-loaded):not(.canvas-loaded) {
  background-color: rgba(0, 0, 0, 0.05);
}
.medium-image-progressive-container .medium-image-progressive {
  position: absolute;
  top:0;left:0;width:100%;height:100%;
  max-width: 100%;
}
.medium-image-progressive-container .medium-image-origin,
.medium-image-progressive-container .medium-image-progressive canvas {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}
.medium-image-progressive-container img, .medium-image-progressive-container canvas {
  margin: 0 auto;
}
.medium-image-progressive-container .canvas-loaded.medium-image-progressive:not(.image-loaded) canvas {
  visibility: visible;
  opacity: 1;
  -webkit-transition: visibility 0s linear 0s,opacity .4s 0s;
  transition: visibility 0s linear 0s,opacity .4s 0s;
}
.medium-image-progressive-container .medium-image-origin,
.medium-image-progressive-container .medium-image-progressive canvas {
  visibility: hidden;
  opacity: 0;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}
</style><div class="medium-image-progressive-container" style="max-width:489px;max-height:489pxpx;" data-reactid="118"><div class="medium-image-progressive-placeholder" style="padding-bottom:23.31288343558282%;" data-reactid="119"></div><div class="medium-image-progressive" data-reactid="120"><canvas data-reactid="121"></canvas><img class="medium-image-progress" src="false" style="display:none;" data-reactid="122"/><img class="medium-image-origin" src="http://obu9je6ng.bkt.clouddn.com/FmBuevqTrAt8VApb-bnWygS6cwrK?imageslim" data-reactid="123"/><noscript data-reactid="124"><img class="medium-image-origin" src="http://obu9je6ng.bkt.clouddn.com/FmBuevqTrAt8VApb-bnWygS6cwrK?imageslim" data-reactid="125"/></noscript></div></div></div><p data-reactid="126">åœ¨åæ–‡ä¸­å­¦ä¹ äº†å¼€å‘ Babel æ’ä»¶åï¼Œå°†é˜è¿°ä¸€ä¸‹ Babel plugin å’Œ preset çš„æ‰§è¡Œè¿‡ç¨‹å’Œé¡ºåºã€‚</p><h2 id="å¼€å‘-babel-æ’ä»¶" data-reactid="127"><a href="#%E5%BC%80%E5%8F%91-babel-%E6%8F%92%E4%BB%B6" aria-hidden="true" data-reactid="128"><span class="icon icon-link" data-reactid="129"></span></a><!-- react-text: 130 -->å¼€å‘ Babel æ’ä»¶<!-- /react-text --></h2><p data-reactid="131">äº†è§£äº† Babel æ’ä»¶çš„æ¦‚å¿µåï¼Œè®©æˆ‘ä»¬åŠ¨æ‰‹æ’¸ä¸€ä¸ª Babel æ’ä»¶å§ï¼</p><h3 id="æƒ…æ™¯å†ç°" data-reactid="132"><a href="#%E6%83%85%E6%99%AF%E5%86%8D%E7%8E%B0" aria-hidden="true" data-reactid="133"><span class="icon icon-link" data-reactid="134"></span></a><!-- react-text: 135 -->æƒ…æ™¯å†ç°<!-- /react-text --></h3><p data-reactid="136">åœ¨ä½¿ç”¨æ„å»ºå·¥å…· Webpack å¼€å‘å¤§å‹é¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½é€šå¸¸éœ€è¦ import ä¸€å¤§ä¸²ä¾èµ–</p><pre data-reactid="137"><code class="hljs language-javascript" data-query="{}" data-lang="javascript" data-reactid="138"><span class="hljs-keyword" data-reactid="139">import</span><!-- react-text: 140 --> a <!-- /react-text --><span class="hljs-keyword" data-reactid="141">from</span><!-- react-text: 142 --> <!-- /react-text --><span class="hljs-string" data-reactid="143">&#x27;a&#x27;</span><!-- react-text: 144 -->
<!-- /react-text --><span class="hljs-keyword" data-reactid="145">import</span><!-- react-text: 146 --> b <!-- /react-text --><span class="hljs-keyword" data-reactid="147">from</span><!-- react-text: 148 --> <!-- /react-text --><span class="hljs-string" data-reactid="149">&#x27;b&#x27;</span><!-- react-text: 150 -->
<!-- /react-text --><span class="hljs-keyword" data-reactid="151">import</span><!-- react-text: 152 --> c <!-- /react-text --><span class="hljs-keyword" data-reactid="153">from</span><!-- react-text: 154 --> <!-- /react-text --><span class="hljs-string" data-reactid="155">&#x27;c&#x27;</span><!-- react-text: 156 -->
<!-- /react-text --><span class="hljs-comment" data-reactid="157">// ...</span><!-- react-text: 158 -->

<!-- /react-text --><span class="hljs-comment" data-reactid="159">// code here</span></code></pre><p data-reactid="160"><!-- react-text: 161 -->ä½†æ˜¯åœ¨å¼€å‘çš„é€»è¾‘ä¸­å¯èƒ½åªéœ€è¦ç”¨åˆ°å…¶ä¸­çš„ä¸€ä¸¢ä¸¢ä¾èµ–ï¼Œæ¯”å¦‚ <!-- /react-text --><code data-reactid="162">a</code><!-- react-text: 163 -->ï¼Œé‚£ä¹ˆä¾èµ–<!-- /react-text --><code data-reactid="164">b</code><!-- react-text: 165 --> <!-- /react-text --><code data-reactid="166">c</code><!-- react-text: 167 --> éƒ½æ˜¯â€œæ— æ•ˆâ€çš„ä¾èµ–ã€‚<!-- /react-text --></p><p data-reactid="168"><strong data-reactid="169">æ³¨æ„ï¼š</strong><!-- react-text: 170 --> æ— æ•ˆåªæ˜¯ç›¸å¯¹è€Œè¨€çš„ï¼Œå› ä¸ºåœ¨ <!-- /react-text --><code data-reactid="171">&#x27;b&#x27;, &#x27;c&#x27;</code><!-- react-text: 172 --> ä¾èµ–ä¸­å¯èƒ½ä¼šæ‰§è¡Œä¸€äº›å‰¯ä½œç”¨çš„é€»è¾‘ã€‚å¦‚è®¾ç½®å…¨å±€å˜é‡ï¼Œç¯å¢ƒå˜é‡ï¼Œåšäº›åˆå§‹åŒ–å·¥ä½œ...<!-- /react-text --></p><p data-reactid="173"><!-- react-text: 174 -->åœ¨ä¼˜åŒ–é¡¹ç›®çš„æ—¶å€™ï¼Œå°±éœ€è¦è€ƒè™‘åˆ°å»é™¤æ‰æ— æ•ˆçš„ <!-- /react-text --><code data-reactid="175">import</code><!-- react-text: 176 --> è¯­å¥äº†ï¼Œè¿™æ ·å¯ä»¥ä¸€å®šç¨‹åº¦ä¸ŠåŠ å¿«ç¨‹åºæ‰§è¡Œé€Ÿåº¦ï¼Œç¼©å°æ‰“åŒ…å‡ºæ¥çš„ bundle å¤§å°ã€‚<!-- /react-text --></p><h3 id="å¼€å‘æ’ä»¶ï¼" data-reactid="177"><a href="#%E5%BC%80%E5%8F%91%E6%8F%92%E4%BB%B6%EF%BC%81" aria-hidden="true" data-reactid="178"><span class="icon icon-link" data-reactid="179"></span></a><!-- react-text: 180 -->å¼€å‘æ’ä»¶ï¼<!-- /react-text --></h3><p data-reactid="181">ä¸æƒ³å·æ‡’çš„å¢¨é±¼ä¸æ˜¯å¥½ç¨‹åºå‘˜ï¼å¯¹äºä¸Šé¢çš„é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡å¼€å‘ Babel æ’ä»¶æ¥å®ç°ï¼Œå‡å°‘æˆ‘ä»¬çš„äººåŠ›å·¥ä½œé‡ã€‚</p><p data-reactid="182"><strong data-reactid="183">ç¨‹åºæ€è·¯</strong><!-- react-text: 184 --> 1. æ ¹æ® <!-- /react-text --><code data-reactid="185">import ...</code><!-- react-text: 186 --> è¯­æ³•ï¼Œå¾—åˆ° imported å˜é‡åé›†åˆ<!-- /react-text --><br data-reactid="187"/><!-- react-text: 188 -->2. è¿‡æ»¤æ‰ä½¿ç”¨è¿‡çš„ imported å˜é‡å<!-- /react-text --><br data-reactid="189"/><!-- react-text: 190 -->3. ç§»é™¤æ²¡æœ‰ä½¿ç”¨åˆ°çš„ <!-- /react-text --><code data-reactid="191">import ...</code><!-- react-text: 192 --> è¯­å¥<!-- /react-text --></p><p data-reactid="193">æ€è·¯æ€»æ˜¯å¾ˆç®€å•ï¼Œä½†åªæœ‰çœŸæ­£å®ç°è¿‡çš„äººæ‰çŸ¥é“é‡Œé¢çš„å…·ä½“ç§ç§ã€‚</p><p data-reactid="194">Babel æ’ä»¶è¿”å›ä¸€ä¸ª function ï¼Œå…¥å‚ä¸º babel å¯¹è±¡ï¼Œè¿”å› Objectã€‚</p><p data-reactid="195"><!-- react-text: 196 -->å…¶ä¸­ <!-- /react-text --><code data-reactid="197">pre</code><!-- react-text: 198 -->, <!-- /react-text --><code data-reactid="199">post</code><!-- react-text: 200 --> åˆ†åˆ«åœ¨è¿›å…¥/ç¦»å¼€ AST çš„æ—¶å€™è§¦å‘ï¼Œæ‰€ä»¥ä¸€èˆ¬åˆ†åˆ«ç”¨æ¥åšåˆå§‹åŒ–/åˆ é™¤å¯¹è±¡çš„æ“ä½œ<!-- /react-text --></p><pre data-reactid="201"><code class="hljs language-javascript" data-query="{}" data-lang="javascript" data-reactid="202"><span class="hljs-built_in" data-reactid="203">module</span><!-- react-text: 204 -->.exports = <!-- /react-text --><span class="hljs-function" data-reactid="205"><!-- react-text: 206 -->(<!-- /react-text --><span class="hljs-params" data-reactid="207">babel</span><!-- react-text: 208 -->) =&gt;<!-- /react-text --></span><!-- react-text: 209 --> {
  <!-- /react-text --><span class="hljs-keyword" data-reactid="210">return</span><!-- react-text: 211 --> {
    pre(path) {
      <!-- /react-text --><span class="hljs-keyword" data-reactid="212">this</span><!-- react-text: 213 -->.runtimeData = {}
    },
    <!-- /react-text --><span class="hljs-attr" data-reactid="214">visitor</span><!-- react-text: 215 -->: {},
    post(path) {
      <!-- /react-text --><span class="hljs-keyword" data-reactid="216">delete</span><!-- react-text: 217 --> <!-- /react-text --><span class="hljs-keyword" data-reactid="218">this</span><!-- react-text: 219 -->.runtimeData
    }
  }
}<!-- /react-text --></code></pre><p data-reactid="220">ç„¶åæ˜¯ visitor è®¿é—®è€…å¯¹è±¡ã€‚</p><p data-reactid="221"><!-- react-text: 222 -->å…ˆçœ‹ä¸ªç®€å•çš„ä¾‹å­ï¼š<!-- /react-text --><br data-reactid="223"/><!-- react-text: 224 -->å¦‚éœ€è¦å°†å¦‚ä¸‹ä»£ç ä¸­çš„ x å˜é‡é‡å‘½åä¸º y<!-- /react-text --></p><pre data-reactid="225"><code class="hljs language-javascript" data-query="{}" data-lang="javascript" data-reactid="226"><span class="hljs-keyword" data-reactid="227">const</span><!-- react-text: 228 --> x = <!-- /react-text --><span class="hljs-string" data-reactid="229">&#x27;x&#x27;</span><!-- react-text: 230 -->
alert(x)<!-- /react-text --></code></pre><p data-reactid="231">visitor ä¹¦å†™ä¸ºï¼š</p><pre data-reactid="232"><code class="hljs language-javascript" data-query="{}" data-lang="javascript" data-reactid="233"><span class="hljs-keyword" data-reactid="234">const</span><!-- react-text: 235 --> visitor = {
    Identifier(path, data) {
        <!-- /react-text --><span class="hljs-keyword" data-reactid="236">if</span><!-- react-text: 237 --> (path.node.name === <!-- /react-text --><span class="hljs-string" data-reactid="238">&#x27;x&#x27;</span><!-- react-text: 239 -->) {
            path.node.name = <!-- /react-text --><span class="hljs-string" data-reactid="240">&#x27;y&#x27;</span><!-- react-text: 241 -->
        }
    }
}<!-- /react-text --></code></pre><p data-reactid="242">è¾“å‡ºä¸ºï¼š</p><pre data-reactid="243"><code class="hljs language-javascript" data-query="{}" data-lang="javascript" data-reactid="244"><span class="hljs-keyword" data-reactid="245">const</span><!-- react-text: 246 --> y = <!-- /react-text --><span class="hljs-string" data-reactid="247">&#x27;x&#x27;</span><!-- react-text: 248 -->
alert(y)<!-- /react-text --></code></pre><p data-reactid="249"><!-- react-text: 250 -->å¯ä»¥çœ‹å‡ºï¼Œvisitor æ˜¯ Object ç±»å‹ï¼Œå…¶ä¸­çš„ key å¯¹åº” AST ä¸­çš„å„ä¸ªèŠ‚ç‚¹çš„ typeï¼Œ<!-- /react-text --><code data-reactid="251">path.node</code><!-- react-text: 252 --> æ˜¯ AST ä¸­çš„èŠ‚ç‚¹æ•°æ®ã€‚<!-- /react-text --></p><p data-reactid="253">ç®€å•äº†è§£ visitor åï¼Œå¼€å§‹æˆ‘ä»¬çš„å¼€å‘å§ï¼</p><h4 id="å¾—åˆ°-imported-å˜é‡åé›†åˆ" data-reactid="254"><a href="#%E5%BE%97%E5%88%B0-imported-%E5%8F%98%E9%87%8F%E5%90%8D%E9%9B%86%E5%90%88" aria-hidden="true" data-reactid="255"><span class="icon icon-link" data-reactid="256"></span></a><!-- react-text: 257 -->å¾—åˆ° imported å˜é‡åé›†åˆ<!-- /react-text --></h4><p data-reactid="258"><!-- react-text: 259 -->æˆ‘ä»¬éœ€è¦å…³å¿ƒ <!-- /react-text --><code data-reactid="260">import</code><!-- react-text: 261 --> è¯­å¥æœ‰ï¼š<!-- /react-text --></p><pre data-reactid="262"><code class="hljs language-javascript" data-query="{}" data-lang="javascript" data-reactid="263"><span class="hljs-keyword" data-reactid="264">import</span><!-- react-text: 265 --> lodash <!-- /react-text --><span class="hljs-keyword" data-reactid="266">from</span><!-- react-text: 267 --> <!-- /react-text --><span class="hljs-string" data-reactid="268">&#x27;loadsh&#x27;</span><!-- react-text: 269 -->
<!-- /react-text --><span class="hljs-keyword" data-reactid="270">import</span><!-- react-text: 271 --> { extend, cloneDeep <!-- /react-text --><span class="hljs-keyword" data-reactid="272">as</span><!-- react-text: 273 --> clone } <!-- /react-text --><span class="hljs-keyword" data-reactid="274">from</span><!-- react-text: 275 --> <!-- /react-text --><span class="hljs-string" data-reactid="276">&#x27;lodash&#x27;</span></code></pre><p data-reactid="277"><!-- react-text: 278 -->è€Œå¯¹äº <!-- /react-text --><code data-reactid="279">import &#x27;babel-polyfill&#x27;</code><!-- react-text: 280 --> è¯­å¥ï¼Œåˆ™ä¸å…³å¿ƒã€‚<!-- /react-text --></p><p data-reactid="281"><!-- react-text: 282 -->ä»¥ <!-- /react-text --><code data-reactid="283">import { extend, cloneDeep as clone } from &#x27;lodash&#x27;</code><!-- react-text: 284 --> ä¸ºä¾‹ï¼Œå¾—åˆ°çš„ AST ä¸ºï¼š <!-- /react-text --><div data-reactid="285"><style data-reactid="286">
.medium-image-progressive-container {
  position: relative;
  width: 100%;
  margin: 0 auto;
  margin-top: 43px;
  display: block;
}
.image-loaded.medium-image-progressive canvas {
  visibility: hidden;
  opacity: 0;
  -webkit-transition: visibility 0s linear .5s,opacity .1s .4s;
  transition: visibility 0s linear .5s,opacity .1s .4s;
}
.image-loaded.medium-image-progressive .medium-image-origin {
  visibility: visible;
  opacity: 1;
  -webkit-transition: visibility 0s linear 0s,opacity .4s 0s;
  transition: visibility 0s linear 0s,opacity .4s 0s;
}
.medium-image-progressive-container .medium-image-progressive:not(.image-loaded):not(.canvas-loaded) {
  background-color: rgba(0, 0, 0, 0.05);
}
.medium-image-progressive-container .medium-image-progressive {
  position: absolute;
  top:0;left:0;width:100%;height:100%;
  max-width: 100%;
}
.medium-image-progressive-container .medium-image-origin,
.medium-image-progressive-container .medium-image-progressive canvas {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}
.medium-image-progressive-container img, .medium-image-progressive-container canvas {
  margin: 0 auto;
}
.medium-image-progressive-container .canvas-loaded.medium-image-progressive:not(.image-loaded) canvas {
  visibility: visible;
  opacity: 1;
  -webkit-transition: visibility 0s linear 0s,opacity .4s 0s;
  transition: visibility 0s linear 0s,opacity .4s 0s;
}
.medium-image-progressive-container .medium-image-origin,
.medium-image-progressive-container .medium-image-progressive canvas {
  visibility: hidden;
  opacity: 0;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}
</style><div class="medium-image-progressive-container" style="max-width:475px;max-height:475pxpx;" data-reactid="287"><div class="medium-image-progressive-placeholder" style="padding-bottom:69.26315789473684%;" data-reactid="288"></div><div class="medium-image-progressive" data-reactid="289"><canvas data-reactid="290"></canvas><img class="medium-image-progress" src="false" style="display:none;" data-reactid="291"/><img class="medium-image-origin" src="http://obu9je6ng.bkt.clouddn.com/FmoMJFEwtRgN9pPLZeQW2-wmuFC-?imageslim" data-reactid="292"/><noscript data-reactid="293"><img class="medium-image-origin" src="http://obu9je6ng.bkt.clouddn.com/FmoMJFEwtRgN9pPLZeQW2-wmuFC-?imageslim" data-reactid="294"/></noscript></div></div></div></p><p data-reactid="295"><!-- react-text: 296 -->å…¶ä¸­çš„æ•°ç»„ <!-- /react-text --><code data-reactid="297">specifiers</code><!-- react-text: 298 --> ä¸ºï¼š <!-- /react-text --><div data-reactid="299"><style data-reactid="300">
.medium-image-progressive-container {
  position: relative;
  width: 100%;
  margin: 0 auto;
  margin-top: 43px;
  display: block;
}
.image-loaded.medium-image-progressive canvas {
  visibility: hidden;
  opacity: 0;
  -webkit-transition: visibility 0s linear .5s,opacity .1s .4s;
  transition: visibility 0s linear .5s,opacity .1s .4s;
}
.image-loaded.medium-image-progressive .medium-image-origin {
  visibility: visible;
  opacity: 1;
  -webkit-transition: visibility 0s linear 0s,opacity .4s 0s;
  transition: visibility 0s linear 0s,opacity .4s 0s;
}
.medium-image-progressive-container .medium-image-progressive:not(.image-loaded):not(.canvas-loaded) {
  background-color: rgba(0, 0, 0, 0.05);
}
.medium-image-progressive-container .medium-image-progressive {
  position: absolute;
  top:0;left:0;width:100%;height:100%;
  max-width: 100%;
}
.medium-image-progressive-container .medium-image-origin,
.medium-image-progressive-container .medium-image-progressive canvas {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}
.medium-image-progressive-container img, .medium-image-progressive-container canvas {
  margin: 0 auto;
}
.medium-image-progressive-container .canvas-loaded.medium-image-progressive:not(.image-loaded) canvas {
  visibility: visible;
  opacity: 1;
  -webkit-transition: visibility 0s linear 0s,opacity .4s 0s;
  transition: visibility 0s linear 0s,opacity .4s 0s;
}
.medium-image-progressive-container .medium-image-origin,
.medium-image-progressive-container .medium-image-progressive canvas {
  visibility: hidden;
  opacity: 0;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}
</style><div class="medium-image-progressive-container" style="max-width:356px;max-height:356pxpx;" data-reactid="301"><div class="medium-image-progressive-placeholder" style="padding-bottom:141.85393258426967%;" data-reactid="302"></div><div class="medium-image-progressive" data-reactid="303"><canvas data-reactid="304"></canvas><img class="medium-image-progress" src="false" style="display:none;" data-reactid="305"/><img class="medium-image-origin" src="https://i.loli.net/2017/11/30/5a201ece80d93.jpg" data-reactid="306"/><noscript data-reactid="307"><img class="medium-image-origin" src="https://i.loli.net/2017/11/30/5a201ece80d93.jpg" data-reactid="308"/></noscript></div></div></div></p><p data-reactid="309"><!-- react-text: 310 -->æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å¾—åˆ° <!-- /react-text --><code data-reactid="311">specifiers</code><!-- react-text: 312 --> ä¸­çš„ <!-- /react-text --><code data-reactid="313">local.name</code><!-- react-text: 314 --> å³å¯ï¼Œå•ä¸ºäº†åç»­å¯¹è¯¥ AST ç»“ç‚¹è¿›è¡Œæ“ä½œ(åˆ é™¤)ï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦å­˜å‚¨ç»“ç‚¹ä¿¡æ¯ï¼Œå¦‚ä¸‹ä»£ç ï¼š<!-- /react-text --></p><pre data-reactid="315"><code class="hljs language-javascript" data-query="{}" data-lang="javascript" data-reactid="316"><span class="hljs-function" data-reactid="317"><span class="hljs-keyword" data-reactid="318">function</span><!-- react-text: 319 --> <!-- /react-text --><span class="hljs-title" data-reactid="320">getSpecifierIdentifiers</span><!-- react-text: 321 -->(<!-- /react-text --><span class="hljs-params" data-reactid="322">specifiers = [], withPath = false</span><!-- react-text: 323 -->) <!-- /react-text --></span><!-- react-text: 324 -->{
  <!-- /react-text --><span class="hljs-keyword" data-reactid="325">const</span><!-- react-text: 326 --> collection = []
  <!-- /react-text --><span class="hljs-function" data-reactid="327"><span class="hljs-keyword" data-reactid="328">function</span><!-- react-text: 329 --> <!-- /react-text --><span class="hljs-title" data-reactid="330">loop</span><!-- react-text: 331 -->(<!-- /react-text --><span class="hljs-params" data-reactid="332">path, index</span><!-- react-text: 333 -->) <!-- /react-text --></span><!-- react-text: 334 -->{
    <!-- /react-text --><span class="hljs-keyword" data-reactid="335">const</span><!-- react-text: 336 --> node = path.node
    <!-- /react-text --><span class="hljs-keyword" data-reactid="337">const</span><!-- react-text: 338 --> item = { path, <!-- /react-text --><span class="hljs-attr" data-reactid="339">name</span><!-- react-text: 340 -->: node.local.name }
    <!-- /react-text --><span class="hljs-keyword" data-reactid="341">switch</span><!-- react-text: 342 --> (node.type) {
      <!-- /react-text --><span class="hljs-keyword" data-reactid="343">case</span><!-- react-text: 344 --> <!-- /react-text --><span class="hljs-string" data-reactid="345">&#x27;ImportDefaultSpecifier&#x27;</span><!-- react-text: 346 -->:
      <!-- /react-text --><span class="hljs-keyword" data-reactid="347">case</span><!-- react-text: 348 --> <!-- /react-text --><span class="hljs-string" data-reactid="349">&#x27;ImportSpecifier&#x27;</span><!-- react-text: 350 -->:
        collection.push(item)
        <!-- /react-text --><span class="hljs-keyword" data-reactid="351">break</span><!-- react-text: 352 -->;
    }
  }
  specifiers.forEach(loop)

  <!-- /react-text --><span class="hljs-keyword" data-reactid="353">return</span><!-- react-text: 354 --> collection
}<!-- /react-text --></code></pre><p data-reactid="355">ä»¥ä¸Šä»£ç å°†è¿”å›</p><pre data-reactid="356"><code class="hljs language-javascript" data-query="{}" data-lang="javascript" data-reactid="357"><!-- react-text: 358 -->[
  { <!-- /react-text --><span class="hljs-attr" data-reactid="359">path</span><!-- react-text: 360 -->: NodePath, <!-- /react-text --><span class="hljs-attr" data-reactid="361">name</span><!-- react-text: 362 -->: <!-- /react-text --><span class="hljs-string" data-reactid="363">&#x27;extend&#x27;</span><!-- react-text: 364 --> },
  { <!-- /react-text --><span class="hljs-attr" data-reactid="365">path</span><!-- react-text: 366 -->: NodePath, <!-- /react-text --><span class="hljs-attr" data-reactid="367">name</span><!-- react-text: 368 -->: <!-- /react-text --><span class="hljs-string" data-reactid="369">&#x27;clone&#x27;</span><!-- react-text: 370 --> }
]<!-- /react-text --></code></pre><p data-reactid="371"><!-- react-text: 372 -->å¾—åˆ°è¯¥æ¡ <!-- /react-text --><code data-reactid="373">import</code><!-- react-text: 374 --> è¯­å¥çš„å¼•å…¥çš„å˜é‡æ•°ç»„åï¼Œè¿˜éœ€è¦å­˜å‚¨ä¸€ä»½ <!-- /react-text --><code data-reactid="375">import</code><!-- react-text: 376 --> è¯­å¥çš„ NodePathï¼Œä¸ºäº†åç»­æ“ä½œ(åˆ é™¤)<!-- /react-text --></p><pre data-reactid="377"><code class="hljs language-javascript" data-query="{}" data-lang="javascript" data-reactid="378"><!-- react-text: 379 -->{
  <!-- /react-text --><span class="hljs-string" data-reactid="380">&#x27;extend&#x27;</span><!-- react-text: 381 -->: {
    <!-- /react-text --><span class="hljs-attr" data-reactid="382">parent</span><!-- react-text: 383 -->: path, <!-- /react-text --><span class="hljs-comment" data-reactid="384">// `import` è¯­å¥çš„ NodePath</span><!-- react-text: 385 -->
    children: [
      { <!-- /react-text --><span class="hljs-attr" data-reactid="386">path</span><!-- react-text: 387 -->: NodePath, <!-- /react-text --><span class="hljs-attr" data-reactid="388">name</span><!-- react-text: 389 -->: <!-- /react-text --><span class="hljs-string" data-reactid="390">&#x27;extend&#x27;</span><!-- react-text: 391 --> },
      { <!-- /react-text --><span class="hljs-attr" data-reactid="392">path</span><!-- react-text: 393 -->: NodePath, <!-- /react-text --><span class="hljs-attr" data-reactid="394">name</span><!-- react-text: 395 -->: <!-- /react-text --><span class="hljs-string" data-reactid="396">&#x27;clone&#x27;</span><!-- react-text: 397 --> }
    ],
    <!-- /react-text --><span class="hljs-attr" data-reactid="398">data</span><!-- react-text: 399 -->: { <!-- /react-text --><span class="hljs-attr" data-reactid="400">path</span><!-- react-text: 401 -->: NodePath, <!-- /react-text --><span class="hljs-attr" data-reactid="402">name</span><!-- react-text: 403 -->: <!-- /react-text --><span class="hljs-string" data-reactid="404">&#x27;extend&#x27;</span><!-- react-text: 405 --> }
  },
  <!-- /react-text --><span class="hljs-string" data-reactid="406">&#x27;clone&#x27;</span><!-- react-text: 407 -->: {
    <!-- /react-text --><span class="hljs-attr" data-reactid="408">parent</span><!-- react-text: 409 -->: path,
    <!-- /react-text --><span class="hljs-attr" data-reactid="410">children</span><!-- react-text: 411 -->: [
      { <!-- /react-text --><span class="hljs-attr" data-reactid="412">path</span><!-- react-text: 413 -->: NodePath, <!-- /react-text --><span class="hljs-attr" data-reactid="414">name</span><!-- react-text: 415 -->: <!-- /react-text --><span class="hljs-string" data-reactid="416">&#x27;extend&#x27;</span><!-- react-text: 417 --> },
      { <!-- /react-text --><span class="hljs-attr" data-reactid="418">path</span><!-- react-text: 419 -->: NodePath, <!-- /react-text --><span class="hljs-attr" data-reactid="420">name</span><!-- react-text: 421 -->: <!-- /react-text --><span class="hljs-string" data-reactid="422">&#x27;clone&#x27;</span><!-- react-text: 423 --> }
    ],
    <!-- /react-text --><span class="hljs-attr" data-reactid="424">data</span><!-- react-text: 425 -->: { <!-- /react-text --><span class="hljs-attr" data-reactid="426">path</span><!-- react-text: 427 -->: NodePath, <!-- /react-text --><span class="hljs-attr" data-reactid="428">name</span><!-- react-text: 429 -->: <!-- /react-text --><span class="hljs-string" data-reactid="430">&#x27;clone&#x27;</span><!-- react-text: 431 --> }
  }
}<!-- /react-text --></code></pre><h4 id="å»é™¤ä½¿ç”¨è¿‡çš„-imported-å˜é‡å" data-reactid="432"><a href="#%E5%8E%BB%E9%99%A4%E4%BD%BF%E7%94%A8%E8%BF%87%E7%9A%84-imported-%E5%8F%98%E9%87%8F%E5%90%8D" aria-hidden="true" data-reactid="433"><span class="icon icon-link" data-reactid="434"></span></a><!-- react-text: 435 -->å»é™¤ä½¿ç”¨è¿‡çš„ imported å˜é‡å<!-- /react-text --></h4><p data-reactid="436"><!-- react-text: 437 -->åœ¨å»é™¤ä½¿ç”¨è¿‡çš„ imported å˜é‡åä¹‹å‰ï¼Œéœ€è¦æ˜ç¡®ä¸€ç‚¹ï¼š<!-- /react-text --><br data-reactid="438"/><!-- react-text: 439 -->åœ¨ ES6 æ ‡å‡†ä¸­ï¼Œimport ä¸­å®šä¹‰çš„å˜é‡åæ˜¯ä¸èƒ½è¢«é‡æ–°å®šä¹‰çš„ï¼Œå¦‚ä¸‹ä»£ç æ˜¯ä¸è¢«å…è®¸çš„ã€‚<!-- /react-text --></p><pre data-reactid="440"><code class="hljs language-javascript" data-query="{}" data-lang="javascript" data-reactid="441"><span class="hljs-keyword" data-reactid="442">import</span><!-- react-text: 443 --> _ <!-- /react-text --><span class="hljs-keyword" data-reactid="444">from</span><!-- react-text: 445 --> <!-- /react-text --><span class="hljs-string" data-reactid="446">&#x27;lodash&#x27;</span><!-- react-text: 447 -->
<!-- /react-text --><span class="hljs-keyword" data-reactid="448">const</span><!-- react-text: 449 --> _ = <!-- /react-text --><span class="hljs-string" data-reactid="450">&#x27;hello&#x27;</span></code></pre><p data-reactid="451"><!-- react-text: 452 -->é‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹ <!-- /react-text --><code data-reactid="453">extend</code><!-- react-text: 454 --> æ˜¯è¢«ä½¿ç”¨çš„å‘¢ï¼Ÿ<!-- /react-text --></p><pre data-reactid="455"><code class="hljs language-javascript" data-query="{}" data-lang="javascript" data-reactid="456"><!-- react-text: 457 -->extend = <!-- /react-text --><span class="hljs-string" data-reactid="458">&#x27;extend&#x27;</span><!-- react-text: 459 -->
[ extend ]
{ <!-- /react-text --><span class="hljs-attr" data-reactid="460">key</span><!-- react-text: 461 -->: extend }
extend - <!-- /react-text --><span class="hljs-number" data-reactid="462">2</span><!-- react-text: 463 -->
extend / <!-- /react-text --><span class="hljs-number" data-reactid="464">2</span><!-- react-text: 465 -->
extend &gt; <!-- /react-text --><span class="hljs-number" data-reactid="466">2</span><!-- react-text: 467 -->
extend &lt;= <!-- /react-text --><span class="hljs-number" data-reactid="468">2</span><!-- react-text: 469 -->
extend[<!-- /react-text --><span class="hljs-string" data-reactid="470">&#x27;key&#x27;</span><!-- react-text: 471 -->]()
extend.key = <!-- /react-text --><span class="hljs-number" data-reactid="472">233</span><!-- react-text: 473 -->
extend.key &gt; <!-- /react-text --><span class="hljs-number" data-reactid="474">233</span><!-- react-text: 475 -->
&lt;extend /&gt;
<!-- /react-text --><span class="xml" data-reactid="476"><span class="hljs-tag" data-reactid="477"><!-- react-text: 478 -->&lt;<!-- /react-text --><span class="hljs-name" data-reactid="479">A</span><!-- react-text: 480 --> <!-- /react-text --><span class="hljs-attr" data-reactid="481">data</span><!-- react-text: 482 -->=<!-- /react-text --><span class="hljs-string" data-reactid="483">{extend}</span><!-- react-text: 484 --> /&gt;<!-- /react-text --></span><!-- react-text: 485 -->
// ...<!-- /react-text --></span></code></pre><p data-reactid="486"><!-- react-text: 487 -->æƒ…å†µå¤ªå¤šäº† ğŸ˜¢ æ—¢ç„¶æ­£é¢åˆ—ä¸¾è¢«ä½¿ç”¨çš„æƒ…å†µæ¯”è¾ƒå¤æ‚ï¼Œé‚£ä½•ä¸é€†å‘æ€ç»´ï¼Œè€ƒè™‘ <!-- /react-text --><code data-reactid="488">extend</code><!-- react-text: 489 --> æ²¡è¢«ä½¿ç”¨çš„æƒ…å†µå‘¢ï¼Ÿ<!-- /react-text --></p><pre data-reactid="490"><code class="hljs language-javascript" data-query="{}" data-lang="javascript" data-reactid="491"><span class="hljs-keyword" data-reactid="492">const</span><!-- react-text: 493 --> extend = <!-- /react-text --><span class="hljs-string" data-reactid="494">&#x27;value&#x27;</span><!-- react-text: 495 -->
{ <!-- /react-text --><span class="hljs-attr" data-reactid="496">extend</span><!-- react-text: 497 -->: <!-- /react-text --><span class="hljs-string" data-reactid="498">&#x27;value&#x27;</span><!-- react-text: 499 --> }
ref.extend
<!-- /react-text --><span class="hljs-class" data-reactid="500"><span class="hljs-keyword" data-reactid="501">class</span><!-- react-text: 502 --> <!-- /react-text --><span class="hljs-title" data-reactid="503">A</span><!-- react-text: 504 --> <!-- /react-text --></span><!-- react-text: 505 -->{ 
  extend() {}
  extend = <!-- /react-text --><span class="hljs-number" data-reactid="506">233</span><!-- react-text: 507 -->
}
&lt;Component extend={<!-- /react-text --><span class="hljs-number" data-reactid="508">233</span><!-- react-text: 509 -->} /&gt;<!-- /react-text --></code></pre><p data-reactid="510">æœç„¶æƒ…å†µå°±å¥½å¤šäº†å˜› ğŸ˜„</p><p data-reactid="511">äºæ˜¯ï¼Œå»é™¤ä½¿ç”¨è¿‡çš„ imported å˜é‡åä¹Ÿå¯ä»¥æ¬¢å¿«åœ°å®Œæˆå•¦ï¼</p><h4 id="ç§»é™¤æ²¡æœ‰ä½¿ç”¨åˆ°çš„-import--è¯­å¥" data-reactid="512"><a href="#%E7%A7%BB%E9%99%A4%E6%B2%A1%E6%9C%89%E4%BD%BF%E7%94%A8%E5%88%B0%E7%9A%84-import--%E8%AF%AD%E5%8F%A5" aria-hidden="true" data-reactid="513"><span class="icon icon-link" data-reactid="514"></span></a><!-- react-text: 515 -->ç§»é™¤æ²¡æœ‰ä½¿ç”¨åˆ°çš„ <!-- /react-text --><code data-reactid="516">import ...</code><!-- react-text: 517 --> è¯­å¥<!-- /react-text --></h4><ol data-reactid="518"><li data-reactid="519">éå†æœ€ç»ˆå¾—åˆ°çš„æ²¡æœ‰ä½¿ç”¨åˆ°å˜é‡é›†åˆ Aï¼›</li><li data-reactid="520"><!-- react-text: 521 -->å¦‚æœ item ä¸­çš„ <!-- /react-text --><code data-reactid="522">children</code><!-- react-text: 523 --> ä¸­æ¯ä¸€ä¸ª <!-- /react-text --><code data-reactid="524">name</code><!-- react-text: 525 --> éƒ½å­˜åœ¨äº A ä¸­ï¼Œåˆ é™¤ <!-- /react-text --><code data-reactid="526">item.parent</code><!-- react-text: 527 --> ç»“ç‚¹ï¼Œå¦åˆ™åªåˆ é™¤ <!-- /react-text --><code data-reactid="528">item.data.path</code><!-- react-text: 529 --> ç»“ç‚¹ï¼›<!-- /react-text --></li></ol><h3 id="æ‰“å®Œæ”¶å·¥ï¼" data-reactid="530"><a href="#%E6%89%93%E5%AE%8C%E6%94%B6%E5%B7%A5%EF%BC%81" aria-hidden="true" data-reactid="531"><span class="icon icon-link" data-reactid="532"></span></a><!-- react-text: 533 -->æ‰“å®Œæ”¶å·¥ï¼<!-- /react-text --></h3><p data-reactid="534">å®Œæˆäº†ä¸Šé¢ä¸€ç³»åˆ—çš„åˆ†æåï¼Œå¾—åˆ°çš„æœ€ç»ˆæ’ä»¶ä»£ç å¤§æ¦‚è¿™ä¸ªæ ·å­ï¼š</p><pre data-reactid="535"><code class="hljs language-javascript" data-query="{}" data-lang="javascript" data-reactid="536"><span class="hljs-built_in" data-reactid="537">module</span><!-- react-text: 538 -->.exports = {
  pre() {
    <!-- /react-text --><span class="hljs-keyword" data-reactid="539">this</span><!-- react-text: 540 -->.runtimeData = {}
  }
  visitor: {
    ImportDeclaration(path, data) {
      <!-- /react-text --><span class="hljs-keyword" data-reactid="541">const</span><!-- react-text: 542 --> locals = getSpecImport(path);
      <!-- /react-text --><span class="hljs-keyword" data-reactid="543">if</span><!-- react-text: 544 --> (locals) {
        locals.forEach(<!-- /react-text --><span class="hljs-function" data-reactid="545"><!-- react-text: 546 -->(<!-- /react-text --><span class="hljs-params" data-reactid="547">pathData, index, all</span><!-- react-text: 548 -->) =&gt;<!-- /react-text --></span><!-- react-text: 549 --> {
          <!-- /react-text --><span class="hljs-keyword" data-reactid="550">const</span><!-- react-text: 551 --> {name} = pathData
          <!-- /react-text --><span class="hljs-keyword" data-reactid="552">this</span><!-- react-text: 553 -->.runtimeData[name] = {
            <!-- /react-text --><span class="hljs-attr" data-reactid="554">parent</span><!-- react-text: 555 -->: path,
            <!-- /react-text --><span class="hljs-attr" data-reactid="556">children</span><!-- react-text: 557 -->: all,
            <!-- /react-text --><span class="hljs-attr" data-reactid="558">data</span><!-- react-text: 559 -->: pathData
          }
        })
        <!-- /react-text --><span class="hljs-comment" data-reactid="560">// è·³è¿‡å½“å‰pathçš„å­èŠ‚ç‚¹çš„å‘ä¸‹éå†</span><!-- react-text: 561 -->
        <!-- /react-text --><span class="hljs-comment" data-reactid="562">// ä¸ºäº†é˜²æ­¢éå† import è¯­å¥ä¸­çš„ Identifier</span><!-- react-text: 563 -->
        path.skip()
      }
    },
    Identifier() {
      <!-- /react-text --><span class="hljs-comment" data-reactid="564">// ä¹¦å†™æ­¥éª¤2é€»è¾‘ï¼Œåˆ é™¤ä½¿ç”¨è¿‡çš„Identifier</span><!-- react-text: 565 -->
    },
    JSXIdentifier() {
      <!-- /react-text --><span class="hljs-comment" data-reactid="566">// ä¹¦å†™æ­¥éª¤2é€»è¾‘ï¼Œåˆ é™¤ä½¿ç”¨è¿‡çš„Identifier  </span><!-- react-text: 567 -->
    }
  },
  post() {
    <!-- /react-text --><span class="hljs-comment" data-reactid="568">// ä¹¦å†™æ­¥éª¤3é€»è¾‘</span><!-- react-text: 569 -->
    <!-- /react-text --><span class="hljs-keyword" data-reactid="570">delete</span><!-- react-text: 571 --> <!-- /react-text --><span class="hljs-keyword" data-reactid="572">this</span><!-- react-text: 573 -->.runtimeData
  }
}<!-- /react-text --></code></pre><p data-reactid="574"><!-- react-text: 575 -->ä»¥ä¸Šä»£ç å’‹çœ‹ä¸€ä¸‹é€»è¾‘çš„ç¡®æ²¡é—®é¢˜ã€‚<!-- /react-text --><br data-reactid="576"/><strong data-reactid="577">ä½†æ˜¯ï¼</strong><!-- react-text: 578 -->æ­é…<!-- /react-text --><code data-reactid="579">preset-es2015</code><!-- react-text: 580 -->ä½¿ç”¨æ—¶ï¼Œå°†ä¼šä¸èƒ½æ­£ç¡®åˆ é™¤æœªä½¿ç”¨çš„å˜é‡åæˆ–è€… import è¯­å¥ã€‚<!-- /react-text --><br data-reactid="581"/><!-- react-text: 582 -->æŠ¥é”™ï¼š<!-- /react-text --><code data-reactid="583">NodePath has been removed so is read-only.</code><!-- react-text: 584 --> å› ä¸º es2015 ä¸­ä¼šå°† import è¯­å¥è¿›è¡Œæ›¿æ¢ï¼Œç›¸å½“äºå­˜å‚¨çš„ NodePath å·²ç»è¢«åˆ é™¤äº†ã€‚<!-- /react-text --></p><p data-reactid="585">å…³äºBabelä¸­pluginå’Œpresetçš„æ‰§è¡Œé¡ºåºï¼Œå®˜æ–¹çš„è§£é‡Šå¦‚ä¸‹ï¼š</p><blockquote data-reactid="586"><p data-reactid="587"><!-- react-text: 588 -->Plugins run before Presets.<!-- /react-text --><br data-reactid="589"/><!-- react-text: 590 -->Plugin ordering is first to last.<!-- /react-text --><br data-reactid="591"/><!-- react-text: 592 -->Preset ordering is reversed (last to first).<!-- /react-text --></p></blockquote><p data-reactid="593">æ—¢ç„¶ Plugins run before Presetsï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜ä¼šæœ‰ä¸Šè¯‰çš„é—®é¢˜å‘¢ï¼Ÿ</p><p data-reactid="594">Babelçš„æ ¸å¿ƒå¼€å‘äººå‘˜ @hzoo åšå‡ºä¸‹åˆ—è§£é‡Š:</p><blockquote data-reactid="595"><p data-reactid="596">Plugins do go before presets, but it just adds the same visitors first before merging them.</p></blockquote><p data-reactid="597">æ„æ€æ˜¯ï¼ŒBabel åœ¨å¤„ç† plugins çš„æ—¶å€™ï¼Œä¼šå°† visitor é‡Œé¢å„ä¸ªå¯¹åº”çš„å•å…ƒç»Ÿä¸€åˆå¹¶ï¼Œç„¶åå†æŒ‰ç…§æ’ä»¶çš„é¡ºåºå»æ‰§è¡Œã€‚</p><div data-reactid="598"><style data-reactid="599">
.medium-image-progressive-container {
  position: relative;
  width: 100%;
  margin: 0 auto;
  margin-top: 43px;
  display: block;
}
.image-loaded.medium-image-progressive canvas {
  visibility: hidden;
  opacity: 0;
  -webkit-transition: visibility 0s linear .5s,opacity .1s .4s;
  transition: visibility 0s linear .5s,opacity .1s .4s;
}
.image-loaded.medium-image-progressive .medium-image-origin {
  visibility: visible;
  opacity: 1;
  -webkit-transition: visibility 0s linear 0s,opacity .4s 0s;
  transition: visibility 0s linear 0s,opacity .4s 0s;
}
.medium-image-progressive-container .medium-image-progressive:not(.image-loaded):not(.canvas-loaded) {
  background-color: rgba(0, 0, 0, 0.05);
}
.medium-image-progressive-container .medium-image-progressive {
  position: absolute;
  top:0;left:0;width:100%;height:100%;
  max-width: 100%;
}
.medium-image-progressive-container .medium-image-origin,
.medium-image-progressive-container .medium-image-progressive canvas {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}
.medium-image-progressive-container img, .medium-image-progressive-container canvas {
  margin: 0 auto;
}
.medium-image-progressive-container .canvas-loaded.medium-image-progressive:not(.image-loaded) canvas {
  visibility: visible;
  opacity: 1;
  -webkit-transition: visibility 0s linear 0s,opacity .4s 0s;
  transition: visibility 0s linear 0s,opacity .4s 0s;
}
.medium-image-progressive-container .medium-image-origin,
.medium-image-progressive-container .medium-image-progressive canvas {
  visibility: hidden;
  opacity: 0;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}
</style><div class="medium-image-progressive-container" style="max-width:501px;max-height:501pxpx;" data-reactid="600"><div class="medium-image-progressive-placeholder" style="padding-bottom:27.744510978043913%;" data-reactid="601"></div><div class="medium-image-progressive" data-reactid="602"><canvas data-reactid="603"></canvas><img class="medium-image-progress" src="false" style="display:none;" data-reactid="604"/><img class="medium-image-origin" src="http://obu9je6ng.bkt.clouddn.com/FmNs17OZT1JSki4bVtVQ0Tepxk5P?imageslim" data-reactid="605"/><noscript data-reactid="606"><img class="medium-image-origin" src="http://obu9je6ng.bkt.clouddn.com/FmNs17OZT1JSki4bVtVQ0Tepxk5P?imageslim" data-reactid="607"/></noscript></div></div></div><p data-reactid="608">æ‰€ä»¥åœ¨æ‰§è¡Œåˆ° post() æ–¹æ³•æ—¶ï¼Œå…¶å®es2015ä¸­çš„æ’ä»¶å·²ç»å°† import è¯­å¥æ›¿æ¢äº† ğŸ˜¢</p><p data-reactid="609"><!-- react-text: 610 -->é‚£ä¹ˆè¯¥é—®é¢˜å¦‚ä½•è§£å†³å‘¢ï¼Ÿ<!-- /react-text --><br data-reactid="611"/><!-- react-text: 612 -->å¯ä»¥ AST æœ€å¤–å±‚çš„ Program ç»“ç‚¹éå† pathï¼Œé€»è¾‘åŒä¸Šã€‚<!-- /react-text --></p><p data-reactid="613">æœ€ç»ˆä»£ç ä¸ºï¼š</p><pre data-reactid="614"><code class="hljs language-javascript" data-query="{}" data-lang="javascript" data-reactid="615"><span class="hljs-keyword" data-reactid="616">const</span><!-- react-text: 617 --> traverseObject = {
  ImportDeclaration(path, data) {
    <!-- /react-text --><span class="hljs-comment" data-reactid="618">// ...</span><!-- react-text: 619 -->
  },
  Identifier() {
    <!-- /react-text --><span class="hljs-comment" data-reactid="620">// ...</span><!-- react-text: 621 -->
  }
  JSXIdentifier() {
    <!-- /react-text --><span class="hljs-comment" data-reactid="622">// ...</span><!-- react-text: 623 -->
  }
}

<!-- /react-text --><span class="hljs-built_in" data-reactid="624">module</span><!-- react-text: 625 -->.exports = <!-- /react-text --><span class="hljs-function" data-reactid="626"><span class="hljs-keyword" data-reactid="627">function</span><!-- react-text: 628 --> (<!-- /react-text --><span class="hljs-params" data-reactid="629">babel</span><!-- react-text: 630 -->) <!-- /react-text --></span><!-- react-text: 631 -->{
  <!-- /react-text --><span class="hljs-keyword" data-reactid="632">return</span><!-- react-text: 633 --> {
    pre(path) {
      <!-- /react-text --><span class="hljs-keyword" data-reactid="634">this</span><!-- react-text: 635 -->.runtimeData = {}
    },
    <!-- /react-text --><span class="hljs-attr" data-reactid="636">visitor</span><!-- react-text: 637 -->: {
      Program(path, data) {
        <!-- /react-text --><span class="hljs-comment" data-reactid="638">// åœ¨æœ€å¤–å±‚çš„ Program éå† path</span><!-- react-text: 639 -->
        path.traverse(traverseObject, {
          <!-- /react-text --><span class="hljs-attr" data-reactid="640">runtimeData</span><!-- react-text: 641 -->: <!-- /react-text --><span class="hljs-keyword" data-reactid="642">this</span><!-- react-text: 643 -->.runtimeData
        })
        handleRemovePath(<!-- /react-text --><span class="hljs-keyword" data-reactid="644">this</span><!-- react-text: 645 -->.runtimeData)
      }
    },
    post() {
      <!-- /react-text --><span class="hljs-keyword" data-reactid="646">delete</span><!-- react-text: 647 --> <!-- /react-text --><span class="hljs-keyword" data-reactid="648">this</span><!-- react-text: 649 -->.runtimeData
    }
  }
}<!-- /react-text --></code></pre><p data-reactid="650"><!-- react-text: 651 -->æºç ï¼š<!-- /react-text --><a href="https://github.com/imcuttle/babel-plugin-danger-remove-unused-import" data-reactid="652">GitHubğŸ‘</a></p><h2 id="å‚è€ƒèµ„æ–™" data-reactid="653"><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99" aria-hidden="true" data-reactid="654"><span class="icon icon-link" data-reactid="655"></span></a><!-- react-text: 656 -->å‚è€ƒèµ„æ–™<!-- /react-text --></h2><ul data-reactid="657"><li data-reactid="658"><a href="https://github.com/babel/babel/issues/5623" data-reactid="659">Discussion: Fix Plugin Ordering #5623</a></li><li data-reactid="660"><a href="https://github.com/thejameskyle/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md" data-reactid="661">babel handbook</a></li></ul></article></div><div class="gitment-container" data-reactid="662"></div><div class="paginator" data-reactid="663"><a title="ã€Šæ–¯å·´è¾¾å…‹æ–¯ã€‹å‰§è¯„" class="prev" href="/the-review-of-spartacus" data-reactid="664">Prev</a><a title="ä¼˜é›…çš„æ–‡æ¡£ç”Ÿæˆå™¨ â€”â€” Picidae" class="next" href="/graceful-document-maker-picidae" data-reactid="665">Next</a></div></div></main><footer data-reactid="666"><div class="copyright" data-reactid="667"><p data-reactid="668"><!-- react-text: 669 -->Â© 2017. Powered By <!-- /react-text --><a href="https://github.com/picidaejs/picidae" data-reactid="670">Picidae</a></p></div></footer></div>
</div>
<audio id="music" controls autoplay src="http://www.170mv.com/kw/other.web.ri01.sycdn.kuwo.cn/resource/n3/25/67/3891786006.mp3"></audio>
<script>
  !function () {
    var a = document.getElementById("music")
    a && (a.volume = 1)
  }()
</script>
<script src="/PICIDAE_COMMON.js"></script>
<script src="/PICIDAE_ENTRY.js"></script>
</body>
</html>
