<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="/favicon.png" />
    <title> imCuttle </title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
<div id="root">
    <div class="wrap" data-reactroot="" data-reactid="1" data-react-checksum="-282604931"><header data-reactid="2"><a class="logo-link" href="/" data-reactid="3"><img src="/favicon.png" data-reactid="4"/></a><ul class="nav nav-list" data-reactid="5"><li class="nav-list-item" data-reactid="6"><a class="nav-list-link" href="/posts/1" data-reactid="7">Posts</a></li></ul></header><main data-reactid="8"><div class="post" data-reactid="9"><article class="post-block" data-reactid="10"><h1 class="post-title" data-reactid="11">「思科模拟器」建立DNS+HTTP服务</h1><div class="post-info" data-reactid="12"><time datetime="2016-06-06T19:23:10+00:00" data-reactid="13">Jun 6, 2016 7:23 PM</time></div></article><div class="post-content" data-reactid="14"><article data-reactid="15"><h1 id="引言" data-reactid="16"><a href="#%E5%BC%95%E8%A8%80" aria-hidden="true" data-reactid="17"><span class="icon icon-link" data-reactid="18"></span></a><!-- react-text: 19 -->引言<!-- /react-text --></h1><!-- react-text: 20 -->
<!-- /react-text --><p data-reactid="21">之前，我介绍了使用思科构建VLAN服务，下面我将介绍利用思科建立DNS/HTTP服务。</p><!-- react-text: 22 -->
<!-- /react-text --><!-- react-text: 23 -->
<!-- /react-text --><h1 id="操作流程" data-reactid="24"><a href="#%E6%93%8D%E4%BD%9C%E6%B5%81%E7%A8%8B" aria-hidden="true" data-reactid="25"><span class="icon icon-link" data-reactid="26"></span></a><!-- react-text: 27 -->操作流程<!-- /react-text --></h1><!-- react-text: 28 -->
<!-- /react-text --><h2 id="dns服务搭建" data-reactid="29"><a href="#dns%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA" aria-hidden="true" data-reactid="30"><span class="icon icon-link" data-reactid="31"></span></a><!-- react-text: 32 -->DNS服务搭建<!-- /react-text --></h2><!-- react-text: 33 -->
<!-- /react-text --><h3 id="网络布局" data-reactid="34"><a href="#%E7%BD%91%E7%BB%9C%E5%B8%83%E5%B1%80" aria-hidden="true" data-reactid="35"><span class="icon icon-link" data-reactid="36"></span></a><!-- react-text: 37 -->网络布局<!-- /react-text --></h3><!-- react-text: 38 -->
<!-- /react-text --><img src="http://obu9je6ng.bkt.clouddn.com/FsaV6jseX-B4HeJkauxXcB7S-r8p?imageslim" alt="ClipboardImage" width="646" height="372" data-reactid="39"/><!-- react-text: 40 -->
如图，构建网络
<!-- /react-text --><h3 id="ip设置" data-reactid="41"><a href="#ip%E8%AE%BE%E7%BD%AE" aria-hidden="true" data-reactid="42"><span class="icon icon-link" data-reactid="43"></span></a><!-- react-text: 44 -->IP设置<!-- /react-text --></h3><!-- react-text: 45 -->
<!-- /react-text --><p data-reactid="46">其中各结点ip如下表所示</p><!-- react-text: 47 -->
<!-- /react-text --><table data-reactid="48"><!-- react-text: 49 -->
<!-- /react-text --><thead data-reactid="50"><!-- react-text: 51 -->
<!-- /react-text --><tr data-reactid="52"><!-- react-text: 53 -->
<!-- /react-text --><th data-reactid="54">#</th><!-- react-text: 55 -->
<!-- /react-text --><th data-reactid="56">IP</th><!-- react-text: 57 -->
<!-- /react-text --><th data-reactid="58">默认网关</th><!-- react-text: 59 -->
<!-- /react-text --><th data-reactid="60">DNS服务器</th><!-- react-text: 61 -->
<!-- /react-text --></tr><!-- react-text: 62 -->
<!-- /react-text --></thead><!-- react-text: 63 -->
<!-- /react-text --><tbody data-reactid="64"><!-- react-text: 65 -->
<!-- /react-text --><tr data-reactid="66"><!-- react-text: 67 -->
<!-- /react-text --><td data-reactid="68">Client</td><!-- react-text: 69 -->
<!-- /react-text --><td data-reactid="70">10.0.0.2</td><!-- react-text: 71 -->
<!-- /react-text --><td data-reactid="72">10.0.0.1</td><!-- react-text: 73 -->
<!-- /react-text --><td data-reactid="74">10.0.0.3</td><!-- react-text: 75 -->
<!-- /react-text --></tr><!-- react-text: 76 -->
<!-- /react-text --><tr data-reactid="77"><!-- react-text: 78 -->
<!-- /react-text --><td data-reactid="79">Local DNS Server</td><!-- react-text: 80 -->
<!-- /react-text --><td data-reactid="81">10.0.0.3</td><!-- react-text: 82 -->
<!-- /react-text --><td data-reactid="83">10.0.0.1</td><!-- react-text: 84 -->
<!-- /react-text --><td data-reactid="85">-</td><!-- react-text: 86 -->
<!-- /react-text --></tr><!-- react-text: 87 -->
<!-- /react-text --><tr data-reactid="88"><!-- react-text: 89 -->
<!-- /react-text --><td data-reactid="90">Company Router Left</td><!-- react-text: 91 -->
<!-- /react-text --><td data-reactid="92">10.0.0.1</td><!-- react-text: 93 -->
<!-- /react-text --><td data-reactid="94">-</td><!-- react-text: 95 -->
<!-- /react-text --><td data-reactid="96">-</td><!-- react-text: 97 -->
<!-- /react-text --></tr><!-- react-text: 98 -->
<!-- /react-text --><tr data-reactid="99"><!-- react-text: 100 -->
<!-- /react-text --><td data-reactid="101">Company Router Right</td><!-- react-text: 102 -->
<!-- /react-text --><td data-reactid="103">10.1.0.1</td><!-- react-text: 104 -->
<!-- /react-text --><td data-reactid="105">-</td><!-- react-text: 106 -->
<!-- /react-text --><td data-reactid="107">-</td><!-- react-text: 108 -->
<!-- /react-text --></tr><!-- react-text: 109 -->
<!-- /react-text --><tr data-reactid="110"><!-- react-text: 111 -->
<!-- /react-text --><td data-reactid="112">Internet Router Left</td><!-- react-text: 113 -->
<!-- /react-text --><td data-reactid="114">10.1.0.2</td><!-- react-text: 115 -->
<!-- /react-text --><td data-reactid="116">-</td><!-- react-text: 117 -->
<!-- /react-text --><td data-reactid="118">-</td><!-- react-text: 119 -->
<!-- /react-text --></tr><!-- react-text: 120 -->
<!-- /react-text --><tr data-reactid="121"><!-- react-text: 122 -->
<!-- /react-text --><td data-reactid="123">Internet Router Right</td><!-- react-text: 124 -->
<!-- /react-text --><td data-reactid="125">10.3.0.1</td><!-- react-text: 126 -->
<!-- /react-text --><td data-reactid="127">-</td><!-- react-text: 128 -->
<!-- /react-text --><td data-reactid="129">-</td><!-- react-text: 130 -->
<!-- /react-text --></tr><!-- react-text: 131 -->
<!-- /react-text --><tr data-reactid="132"><!-- react-text: 133 -->
<!-- /react-text --><td data-reactid="134">Internet Router Down</td><!-- react-text: 135 -->
<!-- /react-text --><td data-reactid="136">10.2.0.1</td><!-- react-text: 137 -->
<!-- /react-text --><td data-reactid="138">-</td><!-- react-text: 139 -->
<!-- /react-text --><td data-reactid="140">-</td><!-- react-text: 141 -->
<!-- /react-text --></tr><!-- react-text: 142 -->
<!-- /react-text --><tr data-reactid="143"><!-- react-text: 144 -->
<!-- /react-text --><td data-reactid="145">Root DNS Server</td><!-- react-text: 146 -->
<!-- /react-text --><td data-reactid="147">10.2.0.2</td><!-- react-text: 148 -->
<!-- /react-text --><td data-reactid="149">10.2.0.1</td><!-- react-text: 150 -->
<!-- /react-text --><td data-reactid="151">-</td><!-- react-text: 152 -->
<!-- /react-text --></tr><!-- react-text: 153 -->
<!-- /react-text --><tr data-reactid="154"><!-- react-text: 155 -->
<!-- /react-text --><td data-reactid="156">Example Router Left</td><!-- react-text: 157 -->
<!-- /react-text --><td data-reactid="158">10.3.0.2</td><!-- react-text: 159 -->
<!-- /react-text --><td data-reactid="160">-</td><!-- react-text: 161 -->
<!-- /react-text --><td data-reactid="162">-</td><!-- react-text: 163 -->
<!-- /react-text --></tr><!-- react-text: 164 -->
<!-- /react-text --><tr data-reactid="165"><!-- react-text: 166 -->
<!-- /react-text --><td data-reactid="167">Example Router Right</td><!-- react-text: 168 -->
<!-- /react-text --><td data-reactid="169">10.4.0.1</td><!-- react-text: 170 -->
<!-- /react-text --><td data-reactid="171">-</td><!-- react-text: 172 -->
<!-- /react-text --><td data-reactid="173">-</td><!-- react-text: 174 -->
<!-- /react-text --></tr><!-- react-text: 175 -->
<!-- /react-text --><tr data-reactid="176"><!-- react-text: 177 -->
<!-- /react-text --><td data-reactid="178">Other Server</td><!-- react-text: 179 -->
<!-- /react-text --><td data-reactid="180">10.4.0.2</td><!-- react-text: 181 -->
<!-- /react-text --><td data-reactid="182">10.4.0.1</td><!-- react-text: 183 -->
<!-- /react-text --><td data-reactid="184">-</td><!-- react-text: 185 -->
<!-- /react-text --></tr><!-- react-text: 186 -->
<!-- /react-text --><tr data-reactid="187"><!-- react-text: 188 -->
<!-- /react-text --><td data-reactid="189">Yucong DNS Server</td><!-- react-text: 190 -->
<!-- /react-text --><td data-reactid="191">10.4.0.3</td><!-- react-text: 192 -->
<!-- /react-text --><td data-reactid="193">10.4.0.1</td><!-- react-text: 194 -->
<!-- /react-text --><td data-reactid="195">-</td><!-- react-text: 196 -->
<!-- /react-text --></tr><!-- react-text: 197 -->
<!-- /react-text --></tbody><!-- react-text: 198 -->
<!-- /react-text --></table><!-- react-text: 199 -->
<!-- /react-text --><h3 id="dns解析表填写" data-reactid="200"><a href="#dns%E8%A7%A3%E6%9E%90%E8%A1%A8%E5%A1%AB%E5%86%99" aria-hidden="true" data-reactid="201"><span class="icon icon-link" data-reactid="202"></span></a><!-- react-text: 203 -->DNS解析表填写<!-- /react-text --></h3><!-- react-text: 204 -->
<!-- /react-text --><p data-reactid="205"><!-- react-text: 206 -->Local DNS Server
<!-- /react-text --><img src="http://obu9je6ng.bkt.clouddn.com/Fkt-jQADVkr4MA-lEivvCRYSwvn0?imageslim" alt="ClipboardImage" width="653" height="576" data-reactid="207"/></p><!-- react-text: 208 -->
<!-- /react-text --><p data-reactid="209"><!-- react-text: 210 -->Root DNS Server
<!-- /react-text --><img src="http://obu9je6ng.bkt.clouddn.com/Fj0mOj4rXLbkGuhdW7ZJfc13beK3?imageslim" alt="ClipboardImage" width="653" height="576" data-reactid="211"/></p><!-- react-text: 212 -->
<!-- /react-text --><p data-reactid="213"><!-- react-text: 214 -->Yucong DNS Server
<!-- /react-text --><img src="http://obu9je6ng.bkt.clouddn.com/FpaM9412EqeSpp6_ew83Jr2ryyus?imageslim" alt="ClipboardImage" width="653" height="576" data-reactid="215"/></p><!-- react-text: 216 -->
<!-- /react-text --><h3 id="域名解析测试" data-reactid="217"><a href="#%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E6%B5%8B%E8%AF%95" aria-hidden="true" data-reactid="218"><span class="icon icon-link" data-reactid="219"></span></a><!-- react-text: 220 -->域名解析测试<!-- /react-text --></h3><!-- react-text: 221 -->
<!-- /react-text --><p data-reactid="222"><!-- react-text: 223 -->对Client进行Ping指令测试，结果如下图
<!-- /react-text --><img src="http://obu9je6ng.bkt.clouddn.com/FhHlF8CHB9qwi3Wl3sL8GnuIkVHr?imageslim" alt="ClipboardImage" width="653" height="576" data-reactid="224"/><!-- react-text: 225 -->
说明成功搭建DNS服务！<!-- /react-text --></p><!-- react-text: 226 -->
<!-- /react-text --><h3 id="dns-cache查看" data-reactid="227"><a href="#dns-cache%E6%9F%A5%E7%9C%8B" aria-hidden="true" data-reactid="228"><span class="icon icon-link" data-reactid="229"></span></a><!-- react-text: 230 -->DNS Cache查看<!-- /react-text --></h3><!-- react-text: 231 -->
<!-- /react-text --><img src="http://obu9je6ng.bkt.clouddn.com/Fjf4BFssoqrsGnpjBbiR3Lnw5JJO?imageslim" alt="ClipboardImage" width="653" height="576" data-reactid="232"/><!-- react-text: 233 -->
<!-- /react-text --><img src="http://obu9je6ng.bkt.clouddn.com/FpEuzGbDG-N99Ef9fd5QeKPSDCRh?imageslim" alt="ClipboardImage" width="653" height="576" data-reactid="234"/><!-- react-text: 235 -->
如上图，为Local DNS Server的DNS缓存，下次访问相同域名时，直接取出即可。
<!-- /react-text --><h2 id="http服务搭建" data-reactid="236"><a href="#http%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA" aria-hidden="true" data-reactid="237"><span class="icon icon-link" data-reactid="238"></span></a><!-- react-text: 239 -->HTTP服务搭建<!-- /react-text --></h2><!-- react-text: 240 -->
<!-- /react-text --><p data-reactid="241">在上面的基础上，完成HTTP服务器搭建</p><!-- react-text: 242 -->
<!-- /react-text --><h3 id="开启服务" data-reactid="243"><a href="#%E5%BC%80%E5%90%AF%E6%9C%8D%E5%8A%A1" aria-hidden="true" data-reactid="244"><span class="icon icon-link" data-reactid="245"></span></a><!-- react-text: 246 -->开启服务<!-- /react-text --></h3><!-- react-text: 247 -->
<!-- /react-text --><p data-reactid="248"><!-- react-text: 249 -->若我想以Other Server作为HTTP服务器，进行如下设置即可
<!-- /react-text --><img src="http://obu9je6ng.bkt.clouddn.com/Fo44xaj3oT0z4aZWUsH4PgXumHyS?imageslim" alt="ClipboardImage" width="653" height="576" data-reactid="250"/><!-- react-text: 251 -->
<!-- /react-text --><img src="http://obu9je6ng.bkt.clouddn.com/FgjhfKiup0GXYNu2yigRg-adpg8D?imageslim" alt="ClipboardImage" width="653" height="576" data-reactid="252"/></p><!-- react-text: 253 -->
<!-- /react-text --><h3 id="网页测试" data-reactid="254"><a href="#%E7%BD%91%E9%A1%B5%E6%B5%8B%E8%AF%95" aria-hidden="true" data-reactid="255"><span class="icon icon-link" data-reactid="256"></span></a><!-- react-text: 257 -->网页测试<!-- /react-text --></h3><!-- react-text: 258 -->
<!-- /react-text --><p data-reactid="259"><!-- react-text: 260 -->对Client打开Web Browser，输入<!-- /react-text --><code data-reactid="261">other.yucong.com</code><!-- react-text: 262 -->
<!-- /react-text --><img src="http://obu9je6ng.bkt.clouddn.com/Fm1K6NQGtDXHe6fiHdP3qmxOsXSd?imageslim" alt="ClipboardImage" width="653" height="576" data-reactid="263"/><!-- react-text: 264 -->
如图，正常访问！<!-- /react-text --></p><!-- react-text: 265 -->
<!-- /react-text --></article></div><div class="gitment-container" data-reactid="266"></div><div class="paginator" data-reactid="267"><a title="「项目拾遗」HTTP文件浏览（静态文件+express4.x+md/code文件渲染）" class="prev" href="/express4x-file-explorer" data-reactid="268">Prev</a><a title="「项目拾遗」简单图形处理及图形绘制" class="next" href="/simple-imgprocessing" data-reactid="269">Next</a></div></div></main><footer data-reactid="270"><div class="copyright" data-reactid="271"><p data-reactid="272"><!-- react-text: 273 -->© 2017. Powered By <!-- /react-text --><a href="https://github.com/picidaejs/picidae" data-reactid="274">Picidae</a></p></div></footer></div>
</div>
<script src="/PICIDAE_COMMON.js"></script>
<script src="/PICIDAE_ENTRY.js"></script>
</body>
</html>