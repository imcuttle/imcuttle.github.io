<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="/favicon.png" />
    <title> play css3 Animation - Grass </title>
    <link rel="stylesheet" href="/style.css">
    <style>
        #music {
            position: fixed;
            top: 10px;
            left: 10px;
        }
    </style>
</head>
<body>
<div id="root">
    <div class="wrap" data-reactroot="" data-reactid="1" data-react-checksum="-1408784644"><header data-reactid="2"><a class="logo-link" href="/" data-reactid="3"><img src="/favicon.png" data-reactid="4"/></a><ul class="nav nav-list" data-reactid="5"><li class="nav-list-item" data-reactid="6"><a class="nav-list-link" href="/posts/1" data-reactid="7">Posts</a></li></ul></header><main data-reactid="8"><div class="post" data-reactid="9"><article class="post-block" data-reactid="10"><h1 class="post-title" data-reactid="11">play css3 Animation</h1><div class="post-info" data-reactid="12"><time datetime="2016-04-27T08:57:20+00:00" data-reactid="13">Apr 27, 2016 8:57 AM</time></div></article><div class="post-content" data-reactid="14"><article data-reactid="15"><style data-reactid="16">.transformer-react-render{border:1px dashed #959da5;border-radius:5px;display:block}.transformer-react-render-container&gt;pre{max-height:400px;transition:all .2s ease}.transformer-react-render-container&gt;pre.focused{max-height:none;box-shadow:0 0 6px rgba(0,0,0,.2)}</style><iframe src="/htm/css31.html" style="width:100%;height:260px;" data-reactid="17"></iframe><!-- react-text: 18 --> 将鼠标移动至黑色方格上，或者点击黑色方格。<!-- /react-text --><h1 id="关于css3动画" data-reactid="19"><a href="#%E5%85%B3%E4%BA%8Ecss3%E5%8A%A8%E7%94%BB" aria-hidden="true" data-reactid="20"><span class="icon icon-link" data-reactid="21"></span></a><!-- react-text: 22 -->关于CSS3动画<!-- /react-text --></h1><h2 id="transform-translation" data-reactid="23"><a href="#transform-translation" aria-hidden="true" data-reactid="24"><span class="icon icon-link" data-reactid="25"></span></a><!-- react-text: 26 -->transform? translation?<!-- /react-text --></h2><h3 id="转换（transform）" data-reactid="27"><a href="#%E8%BD%AC%E6%8D%A2%EF%BC%88transform%EF%BC%89" aria-hidden="true" data-reactid="28"><span class="icon icon-link" data-reactid="29"></span></a><!-- react-text: 30 -->转换（transform）<!-- /react-text --></h3><p data-reactid="31"><!-- react-text: 32 -->顾名思义，就是一些转换动作，如放大缩小( <!-- /react-text --><code data-reactid="33">scale</code><!-- react-text: 34 --> )，平移( <!-- /react-text --><code data-reactid="35">translate</code><!-- react-text: 36 --> )，旋转( <!-- /react-text --><code data-reactid="37">rotate</code><!-- react-text: 38 --> )，翻转( <!-- /react-text --><code data-reactid="39">skew</code><!-- react-text: 40 --> )等。 就是关于二维图形与三维模型的转换动作（矩阵变换，图形学中的东西，这里不深究）。 关于，三维空间的基本转换和少许组合转换，我做过类似的<!-- /react-text --><a href="http://moyuyc.xyz/play_3d/play_3d_demo1.html" data-reactid="41">Demo</a><!-- react-text: 42 --> <!-- /react-text --><strong data-reactid="43">(请使用最新版的主流浏览器查看)</strong><!-- react-text: 44 --> <!-- /react-text --><div data-reactid="45"><style data-reactid="46">
.medium-image-progressive-container {
  position: relative;
  width: 100%;
  margin: 0 auto;
  margin-top: 43px;
  display: block;
}
.image-loaded.medium-image-progressive canvas {
  visibility: hidden;
  opacity: 0;
  -webkit-transition: visibility 0s linear .5s,opacity .1s .4s;
  transition: visibility 0s linear .5s,opacity .1s .4s;
}
.image-loaded.medium-image-progressive .medium-image-origin {
  visibility: visible;
  opacity: 1;
  -webkit-transition: visibility 0s linear 0s,opacity .4s 0s;
  transition: visibility 0s linear 0s,opacity .4s 0s;
}
.medium-image-progressive-container .medium-image-progressive:not(.image-loaded):not(.canvas-loaded) {
  background-color: rgba(0, 0, 0, 0.05);
}
.medium-image-progressive-container .medium-image-progressive {
  position: absolute;
  top:0;left:0;width:100%;height:100%;
  max-width: 100%;
}
.medium-image-progressive-container .medium-image-origin,
.medium-image-progressive-container .medium-image-progressive canvas {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}
.medium-image-progressive-container img, .medium-image-progressive-container canvas {
  margin: 0 auto;
}
.medium-image-progressive-container .canvas-loaded.medium-image-progressive:not(.image-loaded) canvas {
  visibility: visible;
  opacity: 1;
  -webkit-transition: visibility 0s linear 0s,opacity .4s 0s;
  transition: visibility 0s linear 0s,opacity .4s 0s;
}
.medium-image-progressive-container .medium-image-origin,
.medium-image-progressive-container .medium-image-progressive canvas {
  visibility: hidden;
  opacity: 0;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}
</style><div class="medium-image-progressive-container" style="max-width:1911px;max-height:1911pxpx;" data-reactid="47"><div class="medium-image-progressive-placeholder" style="padding-bottom:45.944531658817375%;" data-reactid="48"></div><div class="medium-image-progressive" data-reactid="49"><canvas data-reactid="50"></canvas><img class="medium-image-progress" src="false" style="display:none;" data-reactid="51"/><img class="medium-image-origin" src="http://obu9je6ng.bkt.clouddn.com/FtNOscEzzmaWRDZSdet7DYNfRDGL?imageslim" data-reactid="52"/><noscript data-reactid="53"><img class="medium-image-origin" src="http://obu9je6ng.bkt.clouddn.com/FtNOscEzzmaWRDZSdet7DYNfRDGL?imageslim" data-reactid="54"/></noscript></div></div></div><!-- react-text: 55 --> 参考资料<!-- /react-text --></p><ul data-reactid="56"><li data-reactid="57"><a href="http://www.w3school.com.cn/css3/css3_2dtransform.asp" data-reactid="58">CSS3 2D 转换</a></li><li data-reactid="59"><a href="http://www.w3school.com.cn/css3/css3_3dtransform.asp" data-reactid="60">CSS3 3D 转换</a></li></ul><h3 id="过渡（translation）" data-reactid="61"><a href="#%E8%BF%87%E6%B8%A1%EF%BC%88translation%EF%BC%89" aria-hidden="true" data-reactid="62"><span class="icon icon-link" data-reactid="63"></span></a><!-- react-text: 64 -->过渡（translation）<!-- /react-text --></h3><p data-reactid="65">在CSS中的属性改变后，为了使用户体验更加良好，需要使用到过渡效果，使得属性变换更加平滑。</p><p data-reactid="66">参考资料</p><ul data-reactid="67"><li data-reactid="68"><a href="http://www.w3school.com.cn/css3/css3_transition.asp" data-reactid="69">CSS3 过渡</a></li></ul><h2 id="animation" data-reactid="70"><a href="#animation" aria-hidden="true" data-reactid="71"><span class="icon icon-link" data-reactid="72"></span></a><!-- react-text: 73 -->Animation?<!-- /react-text --></h2><h3 id="动画（animation）" data-reactid="74"><a href="#%E5%8A%A8%E7%94%BB%EF%BC%88animation%EF%BC%89" aria-hidden="true" data-reactid="75"><span class="icon icon-link" data-reactid="76"></span></a><!-- react-text: 77 -->动画（Animation）<!-- /react-text --></h3><p data-reactid="78">可以将一系列复杂的css属性变化活动定义为一个动画，并且规定触发动画的次数或其他相关设定。</p><p data-reactid="79">参考资料</p><ul data-reactid="80"><li data-reactid="81"><a href="http://www.w3school.com.cn/css3/css3_animation.asp" data-reactid="82">CSS3 动画</a></li></ul><h1 id="关于示例动画" data-reactid="83"><a href="#%E5%85%B3%E4%BA%8E%E7%A4%BA%E4%BE%8B%E5%8A%A8%E7%94%BB" aria-hidden="true" data-reactid="84"><span class="icon icon-link" data-reactid="85"></span></a><!-- react-text: 86 -->关于示例动画<!-- /react-text --></h1><h2 id="第一个「活跃」的蓝色方块" data-reactid="87"><a href="#%E7%AC%AC%E4%B8%80%E4%B8%AA%E3%80%8C%E6%B4%BB%E8%B7%83%E3%80%8D%E7%9A%84%E8%93%9D%E8%89%B2%E6%96%B9%E5%9D%97" aria-hidden="true" data-reactid="88"><span class="icon icon-link" data-reactid="89"></span></a><!-- react-text: 90 -->第一个「活跃」的蓝色方块<!-- /react-text --></h2><h3 id="首先定义动画" data-reactid="91"><a href="#%E9%A6%96%E5%85%88%E5%AE%9A%E4%B9%89%E5%8A%A8%E7%94%BB" aria-hidden="true" data-reactid="92"><span class="icon icon-link" data-reactid="93"></span></a><!-- react-text: 94 -->首先定义动画<!-- /react-text --></h3><pre data-reactid="95"><code class="hljs language-css" data-query="{}" data-lang="css" data-reactid="96"><!-- react-text: 97 -->@<!-- /react-text --><span class="hljs-keyword" data-reactid="98">keyframes</span><!-- react-text: 99 --> animated_div
{
	0%	{<!-- /react-text --><span class="hljs-attribute" data-reactid="100">transform</span><!-- react-text: 101 -->: <!-- /react-text --><span class="hljs-built_in" data-reactid="102">rotate</span><!-- react-text: 103 -->(0deg);<!-- /react-text --><span class="hljs-attribute" data-reactid="104">left</span><!-- react-text: 105 -->:<!-- /react-text --><span class="hljs-number" data-reactid="106">0px</span><!-- react-text: 107 -->;}
	25%	{<!-- /react-text --><span class="hljs-attribute" data-reactid="108">transform</span><!-- react-text: 109 -->: <!-- /react-text --><span class="hljs-built_in" data-reactid="110">rotate</span><!-- react-text: 111 -->(20deg);<!-- /react-text --><span class="hljs-attribute" data-reactid="112">left</span><!-- react-text: 113 -->:<!-- /react-text --><span class="hljs-number" data-reactid="114">0px</span><!-- react-text: 115 -->;}
	50%	{<!-- /react-text --><span class="hljs-attribute" data-reactid="116">transform</span><!-- react-text: 117 -->: <!-- /react-text --><span class="hljs-built_in" data-reactid="118">rotate</span><!-- react-text: 119 -->(0deg);<!-- /react-text --><span class="hljs-attribute" data-reactid="120">left</span><!-- react-text: 121 -->:<!-- /react-text --><span class="hljs-number" data-reactid="122">500px</span><!-- react-text: 123 -->;}
	55%	{<!-- /react-text --><span class="hljs-attribute" data-reactid="124">transform</span><!-- react-text: 125 -->: <!-- /react-text --><span class="hljs-built_in" data-reactid="126">rotate</span><!-- react-text: 127 -->(0deg);<!-- /react-text --><span class="hljs-attribute" data-reactid="128">left</span><!-- react-text: 129 -->:<!-- /react-text --><span class="hljs-number" data-reactid="130">500px</span><!-- react-text: 131 -->;}
	70%	{<!-- /react-text --><span class="hljs-attribute" data-reactid="132">transform</span><!-- react-text: 133 -->: <!-- /react-text --><span class="hljs-built_in" data-reactid="134">rotate</span><!-- react-text: 135 -->(0deg);<!-- /react-text --><span class="hljs-attribute" data-reactid="136">left</span><!-- react-text: 137 -->:<!-- /react-text --><span class="hljs-number" data-reactid="138">500px</span><!-- react-text: 139 -->;<!-- /react-text --><span class="hljs-attribute" data-reactid="140">background</span><!-- react-text: 141 -->:<!-- /react-text --><span class="hljs-number" data-reactid="142">#1ec7e6</span><!-- react-text: 143 -->;}
	100%	{<!-- /react-text --><span class="hljs-attribute" data-reactid="144">transform</span><!-- react-text: 145 -->: <!-- /react-text --><span class="hljs-built_in" data-reactid="146">rotate</span><!-- react-text: 147 -->(-360deg);<!-- /react-text --><span class="hljs-attribute" data-reactid="148">left</span><!-- react-text: 149 -->:<!-- /react-text --><span class="hljs-number" data-reactid="150">0px</span><!-- react-text: 151 -->;}
}<!-- /react-text --></code></pre><p data-reactid="152"><code data-reactid="153">@keyframes animated_div</code><!-- react-text: 154 --> 定义了一个名为 <!-- /react-text --><code data-reactid="155">animated_div</code><!-- react-text: 156 --> 的动画，这样我们就可以直接在后面使用这个动画了。 <!-- /react-text --><code data-reactid="157">xx%</code><!-- react-text: 158 --> 表示的是动画的进度，即最开始对应 <!-- /react-text --><code data-reactid="159">0%</code><!-- react-text: 160 --> 。 因为各公司浏览器都想自己搞垄断，所以为了兼容主流浏览器不得不重复一段代码了<!-- /react-text --></p><pre data-reactid="161"><code class="hljs language-css" data-query="{}" data-lang="css" data-reactid="162"><!-- react-text: 163 -->@-<!-- /react-text --><span class="hljs-keyword" data-reactid="164">webkit</span><!-- react-text: 165 -->-<!-- /react-text --><span class="hljs-keyword" data-reactid="166">keyframes</span><!-- react-text: 167 --> animated_div{<!-- /react-text --><span class="hljs-comment" data-reactid="168">/*同样定义*/</span><!-- react-text: 169 -->}
@-<!-- /react-text --><span class="hljs-keyword" data-reactid="170">moz</span><!-- react-text: 171 -->-<!-- /react-text --><span class="hljs-keyword" data-reactid="172">keyframes</span><!-- react-text: 173 --> animated_div{<!-- /react-text --><span class="hljs-comment" data-reactid="174">/*同样定义*/</span><!-- react-text: 175 -->}
@-<!-- /react-text --><span class="hljs-keyword" data-reactid="176">o</span><!-- react-text: 177 -->-<!-- /react-text --><span class="hljs-keyword" data-reactid="178">keyframes</span><!-- react-text: 179 --> animated_div{<!-- /react-text --><span class="hljs-comment" data-reactid="180">/*同样定义*/</span><!-- react-text: 181 -->}<!-- /react-text --></code></pre><h3 id="使用动画" data-reactid="182"><a href="#%E4%BD%BF%E7%94%A8%E5%8A%A8%E7%94%BB" aria-hidden="true" data-reactid="183"><span class="icon icon-link" data-reactid="184"></span></a><!-- react-text: 185 -->使用动画<!-- /react-text --></h3><pre data-reactid="186"><code class="hljs language-html" data-query="{}" data-lang="html" data-reactid="187"><span class="hljs-tag" data-reactid="188"><!-- react-text: 189 -->&lt;<!-- /react-text --><span class="hljs-name" data-reactid="190">div</span><!-- react-text: 191 --> <!-- /react-text --><span class="hljs-attr" data-reactid="192">style</span><!-- react-text: 193 -->=<!-- /react-text --><span class="hljs-string" data-reactid="194">&#x27;margin:30px;position:relative;animation: animated_div 2s infinite;padding:10px;display:inline-block;&#x27;</span><!-- react-text: 195 -->&gt;<!-- /react-text --></span><!-- react-text: 196 -->
	CSS3 Animation
<!-- /react-text --><span class="hljs-tag" data-reactid="197"><!-- react-text: 198 -->&lt;/<!-- /react-text --><span class="hljs-name" data-reactid="199">div</span><!-- react-text: 200 -->&gt;<!-- /react-text --></span></code></pre><p data-reactid="201"><code data-reactid="202">margin</code><!-- react-text: 203 --> <!-- /react-text --><code data-reactid="204">padding</code><!-- react-text: 205 --> 是用来美化距离的， <!-- /react-text --><code data-reactid="206">display:inline-block;</code><!-- react-text: 207 --> 将该元素变为行内块，不然 <!-- /react-text --><code data-reactid="208">div</code><!-- react-text: 209 --> 默认为块元素，将独占一整行。 <!-- /react-text --><code data-reactid="210">position:relative;</code><!-- react-text: 211 --> 是为了让 <!-- /react-text --><code data-reactid="212">left</code><!-- react-text: 213 --> <!-- /react-text --><code data-reactid="214">right</code><!-- react-text: 215 --> <!-- /react-text --><code data-reactid="216">bottom</code><!-- react-text: 217 --> <!-- /react-text --><code data-reactid="218">top</code><!-- react-text: 219 --> 凑效。 <!-- /react-text --><code data-reactid="220">animation: animated_div 2s infinite;</code><!-- react-text: 221 --> 使用刚刚我们定义的动画，动画的周期为2s，<!-- /react-text --><code data-reactid="222">infinite</code><!-- react-text: 223 --> 表示无限制的进行动画！<!-- /react-text --></p><p data-reactid="224">这样你就能看到第一个动画啦！</p><h2 id="关于两个小黑块" data-reactid="225"><a href="#%E5%85%B3%E4%BA%8E%E4%B8%A4%E4%B8%AA%E5%B0%8F%E9%BB%91%E5%9D%97" aria-hidden="true" data-reactid="226"><span class="icon icon-link" data-reactid="227"></span></a><!-- react-text: 228 -->关于两个小黑块<!-- /react-text --></h2><h3 id="首先是定义样式" data-reactid="229"><a href="#%E9%A6%96%E5%85%88%E6%98%AF%E5%AE%9A%E4%B9%89%E6%A0%B7%E5%BC%8F" aria-hidden="true" data-reactid="230"><span class="icon icon-link" data-reactid="231"></span></a><!-- react-text: 232 -->首先是定义样式<!-- /react-text --></h3><ul data-reactid="233"><li data-reactid="234">CSS</li></ul><pre data-reactid="235"><code class="hljs language-css" data-query="{}" data-lang="css" data-reactid="236"><span class="hljs-selector-class" data-reactid="237">.magic-div</span><!-- react-text: 238 -->{
	<!-- /react-text --><span class="hljs-attribute" data-reactid="239">width</span><!-- react-text: 240 -->: <!-- /react-text --><span class="hljs-number" data-reactid="241">56px</span><!-- react-text: 242 -->;
	<!-- /react-text --><span class="hljs-attribute" data-reactid="243">height</span><!-- react-text: 244 -->: <!-- /react-text --><span class="hljs-number" data-reactid="245">50px</span><!-- react-text: 246 -->;
	<!-- /react-text --><span class="hljs-attribute" data-reactid="247">padding</span><!-- react-text: 248 -->: <!-- /react-text --><span class="hljs-number" data-reactid="249">10px</span><!-- react-text: 250 -->;
	<!-- /react-text --><span class="hljs-attribute" data-reactid="251">line-height</span><!-- react-text: 252 -->:<!-- /react-text --><span class="hljs-number" data-reactid="253">0</span><!-- react-text: 254 -->;<!-- /react-text --><span class="hljs-comment" data-reactid="255">/* * */</span><!-- react-text: 256 -->
	<!-- /react-text --><span class="hljs-attribute" data-reactid="257">background-color</span><!-- react-text: 258 -->:black;
	<!-- /react-text --><span class="hljs-attribute" data-reactid="259">cursor</span><!-- react-text: 260 -->:pointer;
}
<!-- /react-text --><span class="hljs-selector-class" data-reactid="261">.magic-div</span><!-- react-text: 262 -->&gt;<!-- /react-text --><span class="hljs-selector-tag" data-reactid="263">span</span><!-- react-text: 264 -->{
	<!-- /react-text --><span class="hljs-attribute" data-reactid="265">background-color</span><!-- react-text: 266 -->:white;
	<!-- /react-text --><span class="hljs-attribute" data-reactid="267">margin-top</span><!-- react-text: 268 -->:<!-- /react-text --><span class="hljs-number" data-reactid="269">20px</span><!-- react-text: 270 -->;
	<!-- /react-text --><span class="hljs-attribute" data-reactid="271">vertical-align</span><!-- react-text: 272 -->: top;
	<!-- /react-text --><span class="hljs-attribute" data-reactid="273">width</span><!-- react-text: 274 -->:<!-- /react-text --><span class="hljs-number" data-reactid="275">100%</span><!-- react-text: 276 -->;
	<!-- /react-text --><span class="hljs-attribute" data-reactid="277">height</span><!-- react-text: 278 -->:<!-- /react-text --><span class="hljs-number" data-reactid="279">2px</span><!-- react-text: 280 -->;
	<!-- /react-text --><span class="hljs-attribute" data-reactid="281">display</span><!-- react-text: 282 -->: inline-block;

	<!-- /react-text --><span class="hljs-attribute" data-reactid="283">transition</span><!-- react-text: 284 -->:all .<!-- /react-text --><span class="hljs-number" data-reactid="285">6s</span><!-- react-text: 286 -->; // 所有属性都有过渡效果
}
<!-- /react-text --><span class="hljs-selector-class" data-reactid="287">.magic-div</span><!-- react-text: 288 -->&gt;<!-- /react-text --><span class="hljs-selector-tag" data-reactid="289">span</span><span class="hljs-selector-pseudo" data-reactid="290">:first-child</span><!-- react-text: 291 -->{
	<!-- /react-text --><span class="hljs-attribute" data-reactid="292">margin-top</span><!-- react-text: 293 -->:<!-- /react-text --><span class="hljs-number" data-reactid="294">3px</span><!-- react-text: 295 -->;
}<!-- /react-text --></code></pre><ul data-reactid="296"><li data-reactid="297">HTML</li></ul><pre data-reactid="298"><code class="hljs language-html" data-query="{}" data-lang="html" data-reactid="299"><span class="hljs-tag" data-reactid="300"><!-- react-text: 301 -->&lt;<!-- /react-text --><span class="hljs-name" data-reactid="302">div</span><!-- react-text: 303 --> <!-- /react-text --><span class="hljs-attr" data-reactid="304">style</span><!-- react-text: 305 -->=<!-- /react-text --><span class="hljs-string" data-reactid="306">&#x27;display:inline-block;&#x27;</span><!-- react-text: 307 --> <!-- /react-text --><span class="hljs-attr" data-reactid="308">class</span><!-- react-text: 309 -->=<!-- /react-text --><span class="hljs-string" data-reactid="310">&#x27;magic-div magic-div-right&#x27;</span><!-- react-text: 311 -->&gt;<!-- /react-text --></span><!-- react-text: 312 -->
  <!-- /react-text --><span class="hljs-tag" data-reactid="313"><!-- react-text: 314 -->&lt;<!-- /react-text --><span class="hljs-name" data-reactid="315">span</span><!-- react-text: 316 -->&gt;<!-- /react-text --></span><span class="hljs-tag" data-reactid="317"><!-- react-text: 318 -->&lt;/<!-- /react-text --><span class="hljs-name" data-reactid="319">span</span><!-- react-text: 320 -->&gt;<!-- /react-text --></span><!-- react-text: 321 -->
  <!-- /react-text --><span class="hljs-tag" data-reactid="322"><!-- react-text: 323 -->&lt;<!-- /react-text --><span class="hljs-name" data-reactid="324">span</span><!-- react-text: 325 -->&gt;<!-- /react-text --></span><span class="hljs-tag" data-reactid="326"><!-- react-text: 327 -->&lt;/<!-- /react-text --><span class="hljs-name" data-reactid="328">span</span><!-- react-text: 329 -->&gt;<!-- /react-text --></span><!-- react-text: 330 -->
  <!-- /react-text --><span class="hljs-tag" data-reactid="331"><!-- react-text: 332 -->&lt;<!-- /react-text --><span class="hljs-name" data-reactid="333">span</span><!-- react-text: 334 -->&gt;<!-- /react-text --></span><span class="hljs-tag" data-reactid="335"><!-- react-text: 336 -->&lt;/<!-- /react-text --><span class="hljs-name" data-reactid="337">span</span><!-- react-text: 338 -->&gt;<!-- /react-text --></span><!-- react-text: 339 -->
<!-- /react-text --><span class="hljs-tag" data-reactid="340"><!-- react-text: 341 -->&lt;/<!-- /react-text --><span class="hljs-name" data-reactid="342">div</span><!-- react-text: 343 -->&gt;<!-- /react-text --></span></code></pre><p data-reactid="344">这样你就能看到一个黑块中含有三条水平横线啦</p><h3 id="动画控制" data-reactid="345"><a href="#%E5%8A%A8%E7%94%BB%E6%8E%A7%E5%88%B6" aria-hidden="true" data-reactid="346"><span class="icon icon-link" data-reactid="347"></span></a><strong data-reactid="348">动画控制</strong></h3><ul data-reactid="349"><li data-reactid="350">第一个黑块</li></ul><pre data-reactid="351"><code class="hljs language-javascript" data-query="{}" data-lang="javascript" data-reactid="352"><span class="hljs-keyword" data-reactid="353">var</span><!-- react-text: 354 --> div = <!-- /react-text --><span class="hljs-built_in" data-reactid="355">document</span><!-- react-text: 356 -->.querySelector(<!-- /react-text --><span class="hljs-string" data-reactid="357">&#x27;.magic-div-right&#x27;</span><!-- react-text: 358 -->);
<!-- /react-text --><span class="hljs-function" data-reactid="359"><span class="hljs-keyword" data-reactid="360">function</span><!-- react-text: 361 --> <!-- /react-text --><span class="hljs-title" data-reactid="362">bind</span><!-- react-text: 363 -->(<!-- /react-text --><span class="hljs-params" data-reactid="364">elem,type,fn</span><!-- react-text: 365 -->)<!-- /react-text --></span><!-- react-text: 366 -->{
	elem[type]=fn;
	elem.addEventListener(type,elem[type]);
}
bind(div,<!-- /react-text --><span class="hljs-string" data-reactid="367">&#x27;mouseenter&#x27;</span><!-- react-text: 368 -->,<!-- /react-text --><span class="hljs-function" data-reactid="369"><span class="hljs-keyword" data-reactid="370">function</span><!-- react-text: 371 -->(<!-- /react-text --><span class="hljs-params" data-reactid="372">e</span><!-- react-text: 373 -->)<!-- /react-text --></span><!-- react-text: 374 -->{
	<!-- /react-text --><span class="hljs-keyword" data-reactid="375">var</span><!-- react-text: 376 --> first = <!-- /react-text --><span class="hljs-keyword" data-reactid="377">this</span><!-- react-text: 378 -->.firstElementChild,last = <!-- /react-text --><span class="hljs-keyword" data-reactid="379">this</span><!-- react-text: 380 -->.lastElementChild, mid = first.nextElementSibling;
	first.style.transform=<!-- /react-text --><span class="hljs-string" data-reactid="381">&#x27;scale(.5) translate(35px,25px) rotate(45deg)&#x27;</span><!-- react-text: 382 -->
	last.style.transform=<!-- /react-text --><span class="hljs-string" data-reactid="383">&#x27;scale(.5) translate(35px,-25px) rotate(-45deg)&#x27;</span><!-- react-text: 384 -->
	mid.style.opacity=<!-- /react-text --><span class="hljs-string" data-reactid="385">&#x27;1&#x27;</span><!-- react-text: 386 -->;
});
bind(div,<!-- /react-text --><span class="hljs-string" data-reactid="387">&#x27;mouseleave&#x27;</span><!-- react-text: 388 -->,<!-- /react-text --><span class="hljs-function" data-reactid="389"><span class="hljs-keyword" data-reactid="390">function</span><!-- react-text: 391 -->(<!-- /react-text --><span class="hljs-params" data-reactid="392">e</span><!-- react-text: 393 -->)<!-- /react-text --></span><!-- react-text: 394 -->{
	<!-- /react-text --><span class="hljs-keyword" data-reactid="395">var</span><!-- react-text: 396 --> first = <!-- /react-text --><span class="hljs-keyword" data-reactid="397">this</span><!-- react-text: 398 -->.firstElementChild,last = <!-- /react-text --><span class="hljs-keyword" data-reactid="399">this</span><!-- react-text: 400 -->.lastElementChild, mid = first.nextElementSibling;
	first.style.transform=last.style.transform=<!-- /react-text --><span class="hljs-string" data-reactid="401">&#x27;&#x27;</span><!-- react-text: 402 -->;
	mid.style.opacity=<!-- /react-text --><span class="hljs-string" data-reactid="403">&#x27;1&#x27;</span><!-- react-text: 404 -->;
})
bind(div,<!-- /react-text --><span class="hljs-string" data-reactid="405">&#x27;click&#x27;</span><!-- react-text: 406 -->,<!-- /react-text --><span class="hljs-function" data-reactid="407"><span class="hljs-keyword" data-reactid="408">function</span><!-- react-text: 409 -->(<!-- /react-text --><span class="hljs-params" data-reactid="410">e</span><!-- react-text: 411 -->)<!-- /react-text --></span><!-- react-text: 412 -->{
	<!-- /react-text --><span class="hljs-keyword" data-reactid="413">var</span><!-- react-text: 414 --> first = <!-- /react-text --><span class="hljs-keyword" data-reactid="415">this</span><!-- react-text: 416 -->.firstElementChild,last = <!-- /react-text --><span class="hljs-keyword" data-reactid="417">this</span><!-- react-text: 418 -->.lastElementChild, mid = first.nextElementSibling;
	first.style.transform= <!-- /react-text --><span class="hljs-string" data-reactid="419">&#x27;rotate(45deg) translate(15px,15px)&#x27;</span><!-- react-text: 420 -->;
	mid.style.opacity=<!-- /react-text --><span class="hljs-string" data-reactid="421">&#x27;0&#x27;</span><!-- react-text: 422 -->;
	last.style.transform = <!-- /react-text --><span class="hljs-string" data-reactid="423">&#x27;rotate(-45deg) translate(15px,-15px)&#x27;</span><!-- react-text: 424 -->;
});<!-- /react-text --></code></pre><p data-reactid="425"><!-- react-text: 426 -->至于为什么需要定义一个 <!-- /react-text --><code data-reactid="427">bind</code><!-- react-text: 428 --> 函数，应该聪明的读者已经知道我要干什么了， <!-- /react-text --><code data-reactid="429">bind</code><!-- react-text: 430 --> 函数中 <!-- /react-text --><code data-reactid="431">elem[type]=fn;</code><!-- react-text: 432 --> 将事件处理函数绑定到元素中了， 在原生js中，元素有 <!-- /react-text --><code data-reactid="433">click()</code><!-- react-text: 434 -->,<!-- /react-text --><code data-reactid="435">focus()</code><!-- react-text: 436 -->,<!-- /react-text --><code data-reactid="437">blur()</code><!-- react-text: 438 -->...，这样的方法，可以直接调用对应的事件函数， 但是却没有类似 <!-- /react-text --><code data-reactid="439">jQuery</code><!-- react-text: 440 --> 中的 <!-- /react-text --><code data-reactid="441">mouseenter()</code><!-- react-text: 442 -->,<!-- /react-text --><code data-reactid="443">mouseleave()</code><!-- react-text: 444 --> 方法。 我这样做，能达到类似 <!-- /react-text --><code data-reactid="445">jQuery</code><!-- react-text: 446 --> 中的效果。<!-- /react-text --></p><p data-reactid="447"><!-- react-text: 448 -->然后是函数中，一大堆的 <!-- /react-text --><code data-reactid="449">transform</code><!-- react-text: 450 -->,<!-- /react-text --><code data-reactid="451">scale(xx)</code><!-- react-text: 452 -->,<!-- /react-text --><code data-reactid="453">translate(xx,xx)</code><!-- react-text: 454 -->,<!-- /react-text --><code data-reactid="455">rotate(xx)</code><!-- react-text: 456 -->，也不难理解，只要上过初中平面几何就能明白了。 至于为什么会出现动态的效果，那都是多亏了样式中的 <!-- /react-text --><code data-reactid="457">transition:all .6s;</code></p><ul data-reactid="458"><li data-reactid="459">第二个黑块 第二个黑块完全就是第一个黑块的孪生兄弟，可能有人会说了，这还不简单吗？直接copy第一份的代码，然后修改一下元素不就行了吗？ 这样的确可以，但是我是用的是另一种方法，使得代码缩减了许多。</li></ul><pre data-reactid="460"><code class="hljs language-javascript" data-query="{}" data-lang="javascript" data-reactid="461"><span class="hljs-keyword" data-reactid="462">var</span><!-- react-text: 463 --> otherdiv = <!-- /react-text --><span class="hljs-built_in" data-reactid="464">document</span><!-- react-text: 465 -->.querySelector(<!-- /react-text --><span class="hljs-string" data-reactid="466">&#x27;.magic-div-copy&#x27;</span><!-- react-text: 467 -->);
bind(otherdiv,<!-- /react-text --><span class="hljs-string" data-reactid="468">&#x27;mouseenter&#x27;</span><!-- react-text: 469 -->,<!-- /react-text --><span class="hljs-function" data-reactid="470"><span class="hljs-keyword" data-reactid="471">function</span><!-- react-text: 472 -->(<!-- /react-text --><span class="hljs-params" data-reactid="473"></span><!-- react-text: 474 -->)<!-- /react-text --></span><!-- react-text: 475 -->{
	div.mouseenter.call(<!-- /react-text --><span class="hljs-keyword" data-reactid="476">this</span><!-- react-text: 477 -->);
})
bind(otherdiv,<!-- /react-text --><span class="hljs-string" data-reactid="478">&#x27;mouseleave&#x27;</span><!-- react-text: 479 -->,<!-- /react-text --><span class="hljs-function" data-reactid="480"><span class="hljs-keyword" data-reactid="481">function</span><!-- react-text: 482 -->(<!-- /react-text --><span class="hljs-params" data-reactid="483">e</span><!-- react-text: 484 -->)<!-- /react-text --></span><!-- react-text: 485 -->{
	div.mouseleave.call(<!-- /react-text --><span class="hljs-keyword" data-reactid="486">this</span><!-- react-text: 487 -->);
});
bind(otherdiv,<!-- /react-text --><span class="hljs-string" data-reactid="488">&#x27;click&#x27;</span><!-- react-text: 489 -->,<!-- /react-text --><span class="hljs-function" data-reactid="490"><span class="hljs-keyword" data-reactid="491">function</span><!-- react-text: 492 -->(<!-- /react-text --><span class="hljs-params" data-reactid="493"></span><!-- react-text: 494 -->)<!-- /react-text --></span><!-- react-text: 495 -->{
	div.click.call(<!-- /react-text --><span class="hljs-keyword" data-reactid="496">this</span><!-- react-text: 497 -->);
})<!-- /react-text --></code></pre><p data-reactid="498"><code data-reactid="499">div.mouseenter.call(this);</code><!-- react-text: 500 --> 意思是将<!-- /react-text --><code data-reactid="501">div.mouseenter</code><!-- react-text: 502 -->方法调用，但是不是被div调用，而是被 <!-- /react-text --><code data-reactid="503">this</code><!-- react-text: 504 --> （即otherdiv）调用。 <!-- /react-text --><code data-reactid="505">call</code><!-- react-text: 506 --> 属于 Function原型中的方法，第一个参数是调用该函数的对象，后面还可以跟上函数的参数。 <!-- /react-text --><code data-reactid="507">apply</code><!-- react-text: 508 --> 对比 <!-- /react-text --><code data-reactid="509">call</code><!-- react-text: 510 -->，也是换汤不换药，不过函数的参数是以数组方式传入的。<!-- /react-text --></p></article></div><div class="gitment-container" data-reactid="511"></div><div class="paginator" data-reactid="512"><a title="git捣鼓记之「Pull Request」" class="prev" href="/pr-of-github" data-reactid="513">Prev</a><a title="「转」也许，这才是大学真正的意义" class="next" href="/the-mena-of-university" data-reactid="514">Next</a></div></div></main><footer data-reactid="515"><div class="copyright" data-reactid="516"><p data-reactid="517"><!-- react-text: 518 -->© 2017. Powered By <!-- /react-text --><a href="https://github.com/picidaejs/picidae" data-reactid="519">Picidae</a></p></div></footer></div>
</div>
<audio id="music" controls autoplay src="http://www.170mv.com/kw/other.web.ri01.sycdn.kuwo.cn/resource/n3/25/67/3891786006.mp3"></audio>
<script>
  !function () {
    var a = document.getElementById("music")
    a && (a.volume = 1)
  }()
</script>
<script src="/PICIDAE_COMMON.js"></script>
<script src="/PICIDAE_ENTRY.js"></script>
</body>
</html>
