webpackJsonp([27,113],{1238:function(s,a){s.exports={content:"<style>.transformer-react-render{border:1px dashed #959da5;border-radius:5px;display:block}.transformer-react-render-container>pre{max-height:400px;transition:all .2s ease}.transformer-react-render-container>pre.focused{max-height:none;box-shadow:0 0 6px rgba(0,0,0,.2)}</style><h2 id=å‰è¨€><a href=#%E5%89%8D%E8%A8%80 aria-hidden=true><span class=\"icon icon-link\"></span></a>å‰è¨€</h2><p>16 å¹´åœ¨ SF ä¸­å‘å¸ƒäº†æ–‡ç«  <a href=https://segmentfault.com/a/1190000006260582>\"æ¢ç©¶SegumentFault Markdownç¼–è¾‘å™¨\"</a>ï¼Œç›®çš„æ˜¯ä»¿ SF çº¿ä¸Šä¹¦å†™ Markdown æ–‡æ¡£çš„ä½“éªŒï¼š<strong>é«˜äº®å®šä½ä¿®æ”¹èŠ‚ç‚¹</strong></p><p>åœ¨ä¸Šè¿°æ–‡ç« ä¸­çš„å·¥å…·å·²ç»ä¸å†ç»´æŠ¤ï¼ˆğŸ˜¢ä»£ç å†™å¤ªä¹±ï¼‰ï¼Œè€Œä¸”æ˜¯åœ¨æµè§ˆå™¨ä¸­ä¹¦å†™ markdown æ–‡æœ¬ã€‚</p><p>äºæ˜¯ç°åœ¨ä½¿ç”¨å…¨æ–°çš„æ€è·¯å®ç°äº†ä¸€ä¸ªï¼š<strong>åœ¨æœ¬åœ°ä»»æ„ç¼–è¾‘å™¨ä¹¦å†™ markdownï¼ŒåŒæ—¶åŒæ­¥å®šä½ä¿®æ”¹èŠ‚ç‚¹</strong> å·¥å…· <a href=https://github.com/imcuttle/live-markd>live-markd</a></p><p>é¢„è§ˆæ•ˆæœå¦‚å›¾:<br><img src=https://i.loli.net/2018/11/05/5bdfb82f1239d.gif></p><h2 id=å¦‚ä½•ä½¿ç”¨><a href=#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8 aria-hidden=true><span class=\"icon icon-link\"></span></a>å¦‚ä½•ä½¿ç”¨</h2><ol><li><p>å®‰è£… nodejs ç¯å¢ƒï¼Œå¦‚å·²ç»æœ‰åˆ™è·³è¿‡æ­¤æ­¥</p></li><li><p>å…¨å±€å®‰è£… <code>live-markd</code></p><pre><code class=\"hljs language-bash\"data-query={} data-lang=bash>npm install live-markd -g</code></pre></li><li><p>è¿›å…¥åˆ° markdown æ–‡ä»¶ç›®å½•</p><pre><code class=\"hljs language-bash\"data-query={} data-lang=bash>live-markd path/to/markdown</code></pre></li></ol><h2 id=å¦‚ä½•å®ç°><a href=#%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0 aria-hidden=true><span class=\"icon icon-link\"></span></a>å¦‚ä½•å®ç°</h2><h3 id=å¦‚ä½•å®ç°ä¿®æ”¹èŠ‚ç‚¹çš„æ£€æµ‹><a href=#%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E4%BF%AE%E6%94%B9%E8%8A%82%E7%82%B9%E7%9A%84%E6%A3%80%E6%B5%8B aria-hidden=true><span class=\"icon icon-link\"></span></a>å¦‚ä½•å®ç°ä¿®æ”¹èŠ‚ç‚¹çš„æ£€æµ‹</h3><p>ä½¿ç”¨ <a href=https://github.com/remarkjs/remark>remark</a> è§£æ markdownï¼Œå¾—åˆ° <a href=https://github.com/syntax-tree/mdast>markdown æŠ½è±¡è¯­æ³•æ ‘</a></p><p>å¦‚ä¸‹ä¾‹å­ï¼Œç°åœ¨æœ‰ä¸¤ä¸ª markdown æ–‡ä»¶ <code>old.md</code> å’Œ <code>new.md</code></p><ul><li><p><code>old.md</code></p><pre><code class=\"hljs language-markdown\"data-query={} data-lang=markdown><span class=hljs-section># hi</span>\nworld</code></pre></li><li><p><code>new.md</code></p><pre><code class=\"hljs language-markdown\"data-query={} data-lang=markdown><span class=hljs-section># hi</span>\nworld!</code></pre></li></ul><p>å¯ä»¥çœ‹åˆ° <code>new.md</code> ç›¸æ¯”äº <code>old.md</code> æœ€åå¤šäº† <code>!</code></p><p>è¿›ä¸€æ­¥çš„ï¼Œå¯¹æ¯”ä¸¤ä¸ª markdown æ–‡æœ¬çš„è¯­æ³•æ ‘</p><pre><code class=\"hljs language-javascript\"data-query={} data-lang=javascript><span class=hljs-comment>// old.md</span>\n{\n  <span class=hljs-attr>type</span>: <span class=hljs-string>'root'</span>,\n  <span class=hljs-attr>children</span>: [\n    {\n      <span class=hljs-attr>type</span>: <span class=hljs-string>'heading'</span>,\n      <span class=hljs-attr>depth</span>: <span class=hljs-number>1</span>,\n      <span class=hljs-attr>children</span>: [{\n        <span class=hljs-attr>type</span>: <span class=hljs-string>'paragraph'</span>,\n        <span class=hljs-attr>children</span>: [{ <span class=hljs-attr>type</span>: <span class=hljs-string>'text'</span>, <span class=hljs-attr>value</span>: <span class=hljs-string>'world'</span> }]\n      }]\n    }\n  ]\n}\n\n<span class=hljs-comment>// new.md</span>\n{\n  <span class=hljs-attr>type</span>: <span class=hljs-string>'root'</span>,\n  <span class=hljs-attr>children</span>: [\n    {\n      <span class=hljs-attr>type</span>: <span class=hljs-string>'heading'</span>,\n      <span class=hljs-attr>depth</span>: <span class=hljs-number>1</span>,\n      <span class=hljs-attr>children</span>: [{\n        <span class=hljs-attr>type</span>: <span class=hljs-string>'paragraph'</span>,\n        <span class=hljs-attr>children</span>: [{ <span class=hljs-attr>type</span>: <span class=hljs-string>'text'</span>, <span class=hljs-attr>value</span>: <span class=hljs-string>'world!'</span> }]\n      }]\n    }\n  ]\n}</code></pre><p>ç„¶ååˆ†åˆ«å¯¹ä¸¤ä¸ªæ ‘ç»“æ„è¿›è¡Œ DFSï¼Œä¾æ¬¡å¯¹æ¯”èŠ‚ç‚¹ï¼Œåˆ¤æ–­å‡ºç¬¬ä¸€ä¸ªä¸åŒçš„èŠ‚ç‚¹å³å¯ï¼Œæœ€åå¯¹ä¿®æ”¹çš„èŠ‚ç‚¹æ³¨å…¥ classï¼Œæœ€åè½¬æ¢æˆå¸¦ class çš„ html</p><pre><code class=\"hljs language-javascript\"data-query={} data-lang=javascript>{\n  <span class=hljs-attr>hProperties</span>: {\n    <span class=hljs-attr>className</span>: [<span class=hljs-string>'detected-updated'</span>]\n  },\n  <span class=hljs-attr>type</span>: <span class=hljs-string>'paragraph'</span>,\n  <span class=hljs-attr>children</span>: [{ <span class=hljs-attr>type</span>: <span class=hljs-string>'text'</span>, <span class=hljs-attr>value</span>: <span class=hljs-string>'world!'</span> }]\n}</code></pre><pre><code class=\"hljs language-html\"data-query={} data-lang=html><span class=hljs-tag>&lt;<span class=hljs-name>h1</span>></span>hi<span class=hljs-tag>&lt;/<span class=hljs-name>h1</span>></span>\n<span class=hljs-tag>&lt;<span class=hljs-name>p</span> <span class=hljs-attr>class</span>=<span class=hljs-string>\"detected-updated\"</span>></span>world!<span class=hljs-tag>&lt;/<span class=hljs-name>p</span>></span></code></pre><p>å½“ç„¶ï¼Œä»¥ä¸Š markdown æ¯”å¯¹å·¥ä½œç”± <a href=https://github.com/imcuttle/detect-one-changed>detect-one-changed</a> å®Œæˆ</p><h3 id=å¦‚ä½•å®ç°æ•°æ®æ¨é€><a href=#%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E6%8E%A8%E9%80%81 aria-hidden=true><span class=\"icon icon-link\"></span></a>å¦‚ä½•å®ç°æ•°æ®æ¨é€</h3><p>live-markd ä½¿ç”¨ æœåŠ¡å™¨æ¨é€ï¼ˆEventStreamï¼‰æ¥å®ç°å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„é•¿è¿æ¥ï¼Œå°±å¦‚ <a href=https://github.com/webpack-contrib/webpack-hot-middleware>webpack-hot-middleware</a> å®ç°ï¼Œåªæœ‰å•å‘çš„æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯çš„æ•°æ®æ¨é€ã€‚åŒæ—¶ä¸ºäº†è®©æœåŠ¡å™¨çŸ¥æ™“å®¢æˆ·ç«¯æ˜¯å¦è¿˜å­˜åœ¨ï¼Œè¿˜å…·æœ‰æ¯éš” 30s çš„å¿ƒè·³æ£€æµ‹ï¼Œç”¨äºåŠæ—¶å›æ”¶æœåŠ¡ç«¯èµ„æºã€‚</p><p><img src=https://i.loli.net/2018/11/05/5bdfd3b887888.png></p><h4 id=å®¢æˆ·ç«¯><a href=#%E5%AE%A2%E6%88%B7%E7%AB%AF aria-hidden=true><span class=\"icon icon-link\"></span></a>å®¢æˆ·ç«¯</h4><p>åœ¨å®¢æˆ·ç«¯åªéœ€è¦æ¥å—æœåŠ¡å™¨æ¨é€æ•°æ®å³å¯</p><pre><code class=\"hljs language-javascript\"data-query={} data-lang=javascript><span class=hljs-comment>// å»ºç«‹è¿æ¥</span>\n<span class=hljs-keyword>const</span> source = <span class=hljs-keyword>new</span> EventSource(location.pathname + <span class=hljs-string>'?sse=on'</span>)\nsource.addEventListener(<span class=hljs-string>'message'</span>, <span class=hljs-function><span class=hljs-keyword>function</span>(<span class=hljs-params>ev</span>) </span>{\n  <span class=hljs-keyword>let</span> data = {}\n  <span class=hljs-keyword>try</span> {\n    data = <span class=hljs-built_in>JSON</span>.parse(ev.data)\n  } <span class=hljs-keyword>catch</span> (e) {}\n\n  <span class=hljs-keyword>if</span> (data.type === <span class=hljs-string>'change'</span>) {\n    <span class=hljs-built_in>document</span>.querySelector(<span class=hljs-string>'.markdown-body'</span>).innerHTML = data.value\n    <span class=hljs-keyword>const</span> node = <span class=hljs-built_in>document</span>.querySelector(<span class=hljs-string>'.markdown-body .detected-updated'</span>)\n    <span class=hljs-keyword>if</span> (node) {\n      <span class=hljs-comment>// å®šä½</span>\n      node.scrollIntoView({ <span class=hljs-attr>behavior</span>: <span class=hljs-string>'smooth'</span> })\n    }\n  }\n})</code></pre><p>åŒæ—¶æ³¨å…¥é«˜äº®æ ·å¼ï¼š</p><pre><code class=\"hljs language-css\"data-query={} data-lang=css>@<span class=hljs-keyword>keyframes</span> bling {\n  <span class=hljs-selector-tag>from</span> {\n    <span class=hljs-attribute>background-color</span>: <span class=hljs-number>#d9edf7</span>;\n  }\n  <span class=hljs-selector-tag>to</span> {\n    <span class=hljs-attribute>background-color</span>: <span class=hljs-number>#d9edf7</span>;\n  }\n}\n<span class=hljs-selector-class>.markdown-body</span> <span class=hljs-selector-class>.detected-updated</span> {\n  <span class=hljs-attribute>animation</span>: bling <span class=hljs-number>2.5s</span> <span class=hljs-number>1</span>;\n}</code></pre><h2 id=æœ€å><a href=#%E6%9C%80%E5%90%8E aria-hidden=true><span class=\"icon icon-link\"></span></a>æœ€å</h2><p>åœ¨ <a href=https://github.com/mdx-js/mdx>mdx</a> ç”Ÿæ€ä¸­ï¼Œè¯¥åŠŸèƒ½ä¹Ÿèƒ½å¤Ÿè¢«ä½¿ç”¨ï¼Œè¯¦è§ <a href=https://github.com/imcuttle/detect-one-changed>detect-one-changed</a></p><p>åœ¨ <a href=https://github.com/jxnblk/mdx-go/pull/22>mdx-go</a> å’Œ <a href=https://github.com/pedronauck/docz/pull/433>docz</a> ä¸­éƒ½å·²ç»æä¾› PR ä»¥å¼•å…¥è¯¥ä¹¦å†™ä½“éªŒï¼ç­‰å¾…ä½œè€…çš„å›å¤ã€‚</p><p>æ¬¢è¿å¤§å®¶ Star ğŸ‘ï¼</p><ul><li><a href=https://github.com/imcuttle/live-markd>live-markd</a> - GitHub markdown é£æ ¼æœ¬åœ°å®æ—¶ä¹¦å†™ markdown + åŒæ­¥å®šä½ä¿®æ”¹èŠ‚ç‚¹</li><li><a href=https://github.com/imcuttle/detect-one-changed>detect-one-changed</a> - Markdown / Html ä¿®æ”¹æ£€æµ‹</li></ul>",extra:{"_image-loader_":[],_progressive_:[]}}}});
//# sourceMappingURL=talk-about-live-markd.js.map